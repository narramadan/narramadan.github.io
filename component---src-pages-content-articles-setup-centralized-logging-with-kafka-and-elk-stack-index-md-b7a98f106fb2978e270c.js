"use strict";(self.webpackChunk_2much2learn_com=self.webpackChunk_2much2learn_com||[]).push([[652,7532,4453,2679,8673,325,5841,4911,6699,6036,5824],{49825:function(a,e,n){n.r(e),n.d(e,{_frontmatter:function(){return o},default:function(){return l}});var t=n(63366),s=(n(67294),n(64983)),m=["components"],o={templateKey:"article",published:!0,displayComments:!0,showAuthorInfo:!0,author:"gyayakdoshi",title:"Configuring Centralized logging with Kafka and ELK stack",description:"A detailed step by step walk through on configuring Centralized logging with Kafka and ELK stack",date:"2020-06-06T10:46:37.121Z",updated:"2020-06-06T19:46:37.121Z",cover:"../../../images/blog-banners/kafka-elk-banner-1200x690.png",category:"setup",tags:["Kafka","ELK","Centralized Logging","Setup","featured"],keywords:["Kafka","ELK","Kibana","Centralized logging","Kafka logging","Kafka centralized logging","docker compose centralized logging","docker kafka elk","gyayakdoshi","narramadan","Madan Narra","Gyayak Doshi"]},c=function(a){return function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.mdx)("div",e)}},p=c("GithubRepo"),d=c("ExternalLink"),r=c("ExternalLinksListContainer"),i={_frontmatter:o};function l(a){var e=a.components,n=(0,t.Z)(a,m);return(0,s.mdx)("wrapper",Object.assign({},i,n,{components:e,mdxType:"MDXLayout"}),(0,s.mdx)(p,{href:"https://github.com/2much2learn/article_june13_centralized-logging-with-kafka-and-elk-stack",mdxType:"GithubRepo"},"centralized-logging-with-kafka-and-elk-stack"),(0,s.mdx)("h2",{id:"introduction"},"Introduction"),(0,s.mdx)("p",null,"In real world, any production incident soon turns out to be scary when we have to go through ",(0,s.mdx)("font",{style:{color:"red"}},(0,s.mdx)("strong",{parentName:"p"},"hell lot"))," of logs."),(0,s.mdx)("p",null,"Some times it will be very difficult to replicate the issue by analyzing data is scattered across different log files. This is when Centralized Logging comes to rescue to stitch together all the logs into one place."),(0,s.mdx)("p",null,"But this comes with a challenge if centralizing logging tool is not configured to handle ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Log-bursting")," situations. Log-bursting event causes saturation, log transmission latency and sometimes log loss which should never occurs on production systems."),(0,s.mdx)("p",null,"To handle such situation, we can publish logs to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka")," which acts as a buffer in front of Logstash to ensure resiliency. This is one of many best ways to deploy the ELK Stack to reduce log overload."),(0,s.mdx)("p",null,"In this article, We shall orchestrate complete solution using docker to configure Kafka with ELK stack to enable centralized logging capabilities."),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/3f6beab9551cb0ec320b5be5f03d78cf/2cefc/IMG_2.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"74.23312883435584%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEBElEQVQ4y31SbUyTZxQ9b6F8jQJuQFBYJoOJA2cyN9xGFmfiRhhhAcEpOiTIRpZttqKmtQQVQaCjKBhwUXQq4MIQCDj8QNPVTRwLBfmYFmFSRzWF0dJ2bQMWaPvepe9w/7abnOTJfZ577r3nPDjWaUTtj0745fTgpMIZUnXdHnlauRhXq6TlnyctD5AcKFgrFotXi8Xi10QiUaBcLkdGRgb+M0paJr0qr82dP9ph6ZF1WvXyq7Y5WaeNjnfZLWXtM++L7hI6uu551lVV8d3vo6Oj8b9R0GyQF7db6FCrifLrH9O+xsdU0GxwFF+2UWGr+dYUERC13huAB4BQgZ8fPHg8rpYBEARADIAFUO1OCi/oxoX1kyRp0tsrr5odxW0Gx8FvNU7JqVHaX9XfvQNYuYPvvWYXw6wGsB9AGoAkAIkAvLBEiqWOyKoZLc2qHactx9WUVTNCmdVqSpUN0rbKYcUnexsDE4hAn9Uw2/8p3gggls/nrxUIBPEvRkSsiIyJCY5PSBAQEUNEPOxudSGltHfTR7IhdXLZYGeKbKghrVy1/r2Cm75bDyuQ9Bsxpa++CwLg7cUNhCNHitDQeA6mPhXILQkQAiBg6QwIm2axQapMyG4mpFZpkFqmwjuiNmRWqJj8nwkx0fEgPh+y8nIPdxGxbMzkE+2h+cWFvazNVuiYnZW6iKSsy5WDtz49hcwTo8yGwjuQqQiZ32h56V8P8FKP/oLNsn6kVwxyTZuamjClGfGc0T7EX7qJ7K6fmumhZpRmjCaanJoinU5HZrNZj8QSFRJL+vBBSR9vo+QGdt8llHw3yK3iBsuyYF0LYFkXem8rebeuX0GPUvH6lY4L9VabuYYWFs865+11LpY963K5DmJijRSPYiXMH7EH0LvqK8T7RXATxa0Kx8Dlon+J3bAaRnDxTC0zPjyA7xUXYey7/UzDZQAEnNGED0H++SDkwYAEBlgSNjYc/cUZbue8n2Fuopvvu+lNjqS77qTnGJl4wznS0AcN/cvmiTw5lwk7Qb6iVwg7g8bwhvtXeSA4OMzNSURRzqcz43Z10ZjLpp4mokoA/s+vDHsJEHjRAELpTlQfOXV6IsriphVVn8G+zV80FpaeXgciXPIPeEESGhoOwJec9PaNzhbKPbyHHlmMRA5HO4AV+ZERkUOAzw+5L8cd28XYzivO0SWjWdhiswPBQFBgXnpaSN7Wdb8CXr8HCXwoOdmH081qi7+n1VLutZs0bLYSORbbuLxwz3MpADM/qo0Rfim1JtbKaduQQvjxfSUQFhXpuxLwDwMCkL2FVx8oQAsRnOoRbmWL2fzA8KfuvlE//WTR6ax4qh6BhYhHvT3u+zCDfqpHoxnXzZhM26f1evwNgfEqvq58QAIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 2",title:"IMG 2",src:"/static/3f6beab9551cb0ec320b5be5f03d78cf/a6d36/IMG_2.png",srcSet:["/static/3f6beab9551cb0ec320b5be5f03d78cf/222b7/IMG_2.png 163w","/static/3f6beab9551cb0ec320b5be5f03d78cf/ff46a/IMG_2.png 325w","/static/3f6beab9551cb0ec320b5be5f03d78cf/a6d36/IMG_2.png 650w","/static/3f6beab9551cb0ec320b5be5f03d78cf/e548f/IMG_2.png 975w","/static/3f6beab9551cb0ec320b5be5f03d78cf/3c492/IMG_2.png 1300w","/static/3f6beab9551cb0ec320b5be5f03d78cf/2cefc/IMG_2.png 1400w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("h2",{id:"technology-stack"},"Technology stack"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://kafka.apache.org/",mdxType:"ExternalLink"},"Apache Kafka")," - Collects logs from application & queues it."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://github.com/yahoo/CMAK",mdxType:"ExternalLink"},"Kafka Manager")," - A web-based management system for Kafka developed at Yahoo"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.elastic.co/logstash",mdxType:"ExternalLink"},"Logstash")," - aggregates the data from the Kafka topic, processes it and ships to Elasticsearch"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.elastic.co/what-is/elasticsearch",mdxType:"ExternalLink"},"Elasticsearch")," - indexes the data."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.elastic.co/what-is/kibana",mdxType:"ExternalLink"},"Kibana")," - for analyzing the data.")),(0,s.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,s.mdx)("p",null,"Solution tried out in this article is setup and tested on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Mac OS")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Ubuntu OS"),". If you are on windows and would like to make your hands dirty with Unix, then I would recommend going through ",(0,s.mdx)(d,{href:"https://2much2learn.com/configure-java-dev-env-on-dual-boot-ubuntu-with-windows-10/",mdxType:"ExternalLink"},"Configure development environment on Ubuntu 19.10")," article which has detailed steps on setting up development environment on Ubuntu."),(0,s.mdx)("p",null,"At the least, you should have below system requirements and tools installed to try out the application:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Docker")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Docker Compose")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("strong",{parentName:"li"},"System Requirements"),(0,s.mdx)("ul",{parentName:"li"},(0,s.mdx)("li",{parentName:"ul"},"Processor: 4 Core"),(0,s.mdx)("li",{parentName:"ul"},"Memory: 6 GB RAM"),(0,s.mdx)("li",{parentName:"ul"},"Swap: 2 GB."),(0,s.mdx)("li",{parentName:"ul"},"Disk image size: 100 GB")))),(0,s.mdx)("h2",{id:"configuring-kafka--kafka-manager"},"Configuring Kafka & Kafka Manager"),(0,s.mdx)("p",null,"Kafka Docker images are published by multiple authors. Below are two which are trusted by the most"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://hub.docker.com/r/wurstmeister/kafka",mdxType:"ExternalLink"},"wurstmeister/kafka")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://hub.docker.com/r/spotify/kafka",mdxType:"ExternalLink"},"spotify/kafka"))),(0,s.mdx)("p",null,"For this article, we are using the image published by ",(0,s.mdx)("strong",{parentName:"p"},"Spotify")," - ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"spotify/kafka")),(0,s.mdx)("h3",{id:"why-did-we-choose-spotifykafka-image-"},"Why did we choose spotify/kafka image ?"),(0,s.mdx)("p",null,"The main hurdle of running Kafka in Docker is that it depends on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Zookeeper"),". Compared to other Kafka docker images, this image runs both Zookeeper and Kafka in the same container. "),(0,s.mdx)("p",null,"This results to:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"No dependency on an external Zookeeper host, or linking to another container"),(0,s.mdx)("li",{parentName:"ul"},"Zookeeper and Kafka are configured to work together out of the box")),(0,s.mdx)("p",null,"For seamless orchestration, we shall bootstrap all the required containers with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Docker Compose")," for this setup."),(0,s.mdx)("p",null,"Below is the snapshot for configuring ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka")," & ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka Manager")," in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker-compose.yml")),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Configure Spotify Kafka image in docker-compose.yml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"services"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Kafka Server & Zookeeper Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kafkaserver"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"spotify/kafka:latest"'),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafka\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"hostname"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafkaserver\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 2181",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"2181"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9092",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9092"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"environment"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ADVERTISED_HOST"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafkaserver\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ADVERTISED_PORT"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"9092")))),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka Manager")," is a tool from Yahoo for managing Apache Kafka cluster. Below is snapshot of its configuration in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker-compose.yml"),"."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Configure Kafka Manager image in docker-compose.yml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},"  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Kafka Manager docker image, it is a web based tool for managing Apache Kafka."),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kafka_manager"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"mzagar/kafka-manager-docker:1.3.3.4"'),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafkamanager\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"#configures the kafka manager docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9000",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9000"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# It Links kafka_manager container to kafkaserver container to communicate."),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"links"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkaserver",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"kafkaserver\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"environment"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ZK_HOSTS"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafkaserver:2181"')))),(0,s.mdx)("h2",{id:"configuring-elasticsearch"},"Configuring Elasticsearch"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Elasticsearch")," docker-compose simple configuration in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker-compose.yml")," something like this"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Configure Elasticsearch image in docker-compose.yml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},"  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Elasticsearch Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"elasticsearch"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," docker.elastic.co/elasticsearch/elasticsearch",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"6.4.0\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," elasticsearch\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9200",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9200"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9300",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9300"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet"))),(0,s.mdx)("h2",{id:"configuring-kibana"},"Configuring Kibana"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kibana")," docker-compose simple configuration in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker-compose.yml"),"  something like this"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Configure Kibana image in docker-compose.yml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},"  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Kibana Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kibana"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," docker.elastic.co/kibana/kibana",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"6.4.0\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kibana\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 5601",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"5601"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# It Links kibana container & elasticsearch container to communicate"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"links"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," elasticsearch",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"elasticsearch\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# You can control the order of service startup and shutdown with the depends_on option."),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"depends_on"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string"},"'elasticsearch'"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")))),(0,s.mdx)("h2",{id:"configuring-logstash"},"Configuring Logstash"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Logstash")," docker-compose simple configuration in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker-compose.yml")," something like this"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Configure Logstash image in docker-compose.yml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},"  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Logstash Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"logstash"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," docker.elastic.co/logstash/logstash",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"6.4.0\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," logstash\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# It Links elasticsearch container & kafkaserver container  & logstash container to communicate"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"links"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," elasticsearch",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"elasticsearch\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkaserver",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"kafkaserver\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# You can control the order of service startup and shutdown with the depends_on option."),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"depends_on"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string"},"'elasticsearch'"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'kafkaserver'"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Mount host volumes into docker containers to supply logstash.config file"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"volumes"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'/private/config-dir:/usr/share/logstash/pipeline/'")))),(0,s.mdx)("p",null,"Next, we will configure a Logstash pipeline that pulls our logs from a Kafka topic, process these logs and ships them on to Elasticsearch for indexing."),(0,s.mdx)("h3",{id:"setup-logstash-pipeline"},"Setup Logstash pipeline"),(0,s.mdx)("p",null,"Pipelines are configured in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"logstash.conf"),". Below is brief notes on what we are configuring:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Accept logs from Kafka topics for the configured kafka cluster"),(0,s.mdx)("li",{parentName:"ul"},"Filter messages and apply transformation rules as per requirement. For this setup, we are converting UTC datetime to a specific timezone when persisted to index."),(0,s.mdx)("li",{parentName:"ul"},"Log messages captured from ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"SIT")," & ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"UAT")," environments are captured to their individual index.")),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"logstash.conf"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},"# Plugin Configuration. This input will read events from a Kafka topic.\n# Ref Link - https",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token comment"},"//www.elastic.co/guide/en/logstash/current/plugins-inputs-kafka.html"),"\n\ninput ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  kafka ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    bootstrap_servers => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafkaserver:9092"'),"\n    topics => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sit.catalogue.item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"uat.catalogue.item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n    auto_offset_reset => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"earliest"'),"\n    decorate_events => ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n# Filter Plugin. A filter plugin performs intermediary processing on an event.\n# Ref Link - https",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token comment"},"//www.elastic.co/guide/en/logstash/current/filter-plugins.html"),"\n\nfilter ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  json ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    source => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"message"'),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    remove_field => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"[message]"'),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  if (!",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"latency",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," or ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"latency",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"==",(0,s.mdx)("span",{parentName:"code",className:"token string"},'""'),") ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      add_field => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        latency => ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"-1"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  date ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    match => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"[")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"time_stamp"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\"")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n    timezone => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Europe/London"'),"\n    target => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"[")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"app_ts"')," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n    remove_field => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"time_stamp"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  if (",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"@metadata",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"kafka",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"topic",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," == ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"uat.catalogue.item"'),") ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      add_field => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        indexPrefix => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"uat-catalogue-item"'),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"else if (",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"@metadata",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"kafka",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"topic",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," == ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sit.catalogue.item"'),") ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      add_field => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        indexPrefix => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sit-catalogue-item"'),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"else",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      add_field => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        indexPrefix => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"unknown"'),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n#An output plugin sends event data to a particular destination. Outputs are the final stage in the event pipeline.\n# Ref Link - https",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token comment"},"//www.elastic.co/guide/en/logstash/current/output-plugins.html"),"\noutput ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  elasticsearch ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    hosts => ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"elasticsearch:9200"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n    index => ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"%{[indexPrefix]}-logs-%{+YYYY.MM.dd}"'),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Below is detailed explanation of different bits configured in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"logstash.conf")," file:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"decorate_events"),": Metadata is only added to the event if the decorate_events option is set to true (it defaults to false).")),(0,s.mdx)("p",null,"Please note that @metadata fields are not part of any of your events at output time. If you need these information to be inserted into your original event, youâ€™ll have to use the mutate filter to manually copy the required fields into your event."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"ruby"},(0,s.mdx)("pre",{parentName:"div",className:"language-ruby"},(0,s.mdx)("code",{parentName:"pre",className:"language-ruby"},"decorate_events ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true")))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"mutate"),": The mutate filter allows you to perform general mutations on fields. You can rename, remove, replace, and modify fields in your events. Below is example of mutation on json field ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"latency"),".\nIf the latency is not provided from the source application we can set it to default  ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"-1"))),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"ruby"},(0,s.mdx)("pre",{parentName:"div",className:"language-ruby"},(0,s.mdx)("code",{parentName:"pre",className:"language-ruby"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"if")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"!"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"latency",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"or")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"latency",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=="),(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'""')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    add_field ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      latency ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"-"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"remove_field => message"),": Logstash output produces  ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"message")," field. Storing this raw ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"message")," field to elasticsearch is only adding unused or redundant data. so we can remove ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"message")," field using  below filter")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"ruby"},(0,s.mdx)("pre",{parentName:"div",className:"language-ruby"},(0,s.mdx)("code",{parentName:"pre",className:"language-ruby"},"mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  remove_field ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"[message]"')),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Date Filter")," plugin: The date filter is used for parsing dates from fields, and then using that date or timestamp as the logstash timestamp for the event.In below example we are using ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"time_stamp")," field from JSON (which is in UTC time formate provided by source application) & converting it to ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},'"Europe/London"')," timezone.")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"ruby"},(0,s.mdx)("pre",{parentName:"div",className:"language-ruby"},(0,s.mdx)("code",{parentName:"pre",className:"language-ruby"},"date ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  match ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"[")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"time_stamp"')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\""))," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n  timezone ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"Europe/London"')),"\n  target ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"[")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"app_ts"'))," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n  remove_field ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"time_stamp"')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"index-prefix")," field: We are creating index prefix ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},'"uat-catalogue-item"')," & ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},'"sit-catalogue-item"')," based on the metadata info provided by kaka broker. As creating multiple cluster for POC will be bit heavier. so we are using same cluser to demonstrat two enviroment.\nwe  are using below meta field  to identify kafka topic for diffrent enviroment.")),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"[@metadata][kafka][topic]")," : original Kafka topic name from where the message was consumed."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"ruby"},(0,s.mdx)("pre",{parentName:"div",className:"language-ruby"},(0,s.mdx)("code",{parentName:"pre",className:"language-ruby"},(0,s.mdx)("span",{parentName:"code",className:"token operator"},"/"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"/"),"If message consumed from uat kafka topic add prefix ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"uat-catalogue-item"')),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"if")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token variable"},"@metadata"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"kafka",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"topic",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"==")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"uat.catalogue.item"')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    add_field ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      indexPrefix ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"uat-catalogue-item"')),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"/"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"/"),"If message consumed from sit kafka topic add prefix ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"sit-catalogue-item"')),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"else")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"if")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token variable"},"@metadata"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"kafka",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"topic",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"==")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"sit.catalogue.item"')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    add_field ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      indexPrefix ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"sit-catalogue-item"')),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"/"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"/"),"If message consumed from any other kafka topic add index prefix ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"unknown"')),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"else"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  mutate ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    add_field ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      indexPrefix ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"unknown"')),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h3",{id:"note-update-volumes-in-docker-composeyml"},"Note: Update volumes in docker-compose.yml"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Configure log stash pipeline"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"volumes"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'LOCATION_OF_LOG_STASH_CONF_FILE:/usr/share/logstash/pipeline/'")))),(0,s.mdx)("p",null,"Syntax for ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"LOCATION_OF_LOG_STASH_CONF_FILE")," varies based on OS."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"MAC/Linux OS"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},"volumes\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'/private/config-dir:/usr/share/logstash/pipeline/'")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"WINDOWS"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},"volumes\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'//C/Users/config-dir:/usr/share/logstash/pipeline/'")))),(0,s.mdx)("h2",{id:"bit-insights-on-docker-networks"},"Bit insights on Docker Networks"),(0,s.mdx)("p",null,"Docker networking utilizes already existing Linux Kernel Networking features like ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"iptables"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"namespaces"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"bridges")," etc. With Docker Networking, we can connect various docker images running on same host or across multiple hosts. By default, three network modes are active in Docker."),(0,s.mdx)("ol",null,(0,s.mdx)("li",{parentName:"ol"},"Bridge"),(0,s.mdx)("li",{parentName:"ol"},"Host"),(0,s.mdx)("li",{parentName:"ol"},"Null")),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Bridge Network driver")," provides single host networking capabilities. By default containers connect to Bridge Network. Whenever container starts, it is provided an internal IP address. All the containers connected to the internal bridge can now communicate with one another. But they canâ€™t communicate outside the bridge network."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Use bridge network for all the container, keeping all the container in same network will simplify the communication between the container."),"\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kafkanet"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"driver"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," bridge"))),(0,s.mdx)("h2",{id:"updating-host-file"},"Updating host file"),(0,s.mdx)("p",null,"And the final step is to configure the links that are registered between the containers in docker-compose.yml file. As we are setting up everything on the same system, we need to resolve the links to localhost i.e ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"127.0.0.1")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},(0,s.mdx)("span",{parentName:"code",className:"token number"},"127.0"),".0.1 kafkaserver\n",(0,s.mdx)("span",{parentName:"code",className:"token number"},"127.0"),".0.1 elasticsearch"))),(0,s.mdx)("h2",{id:"putting-it-all-together"},"Putting it all together"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"docker-compose.yml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"version"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2"'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"services"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Kafka Server & Zookeeper Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kafkaserver"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"spotify/kafka:latest"')," \n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafka\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"hostname"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafkaserver\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 2181",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"2181"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9092",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9092"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"environment"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ADVERTISED_HOST"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafkaserver\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ADVERTISED_PORT"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"9092"),"\n  \n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Kafka Manager docker image, it is a web based tool for managing Apache Kafka."),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kafka_manager"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"mzagar/kafka-manager-docker:1.3.3.4"'),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kafkamanager\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"#configures the kafka manager docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9000",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9000"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# It Links kafka_manager container to kafkaserver container to communicate."),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"links"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkaserver",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"kafkaserver\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"environment"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ZK_HOSTS"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafkaserver:2181"'),"\n  \n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Elasticsearch Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"elasticsearch"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," docker.elastic.co/elasticsearch/elasticsearch",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"6.4.0\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," elasticsearch\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9200",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9200"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 9300",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"9300"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n  \n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Kibana Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kibana"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," docker.elastic.co/kibana/kibana",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"6.4.0\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," kibana\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Make a port available to services outside of Docker"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"ports"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," 5601",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),(0,s.mdx)("span",{parentName:"code",className:"token number"},"5601"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# It Links kibana container & elasticsearch container to communicate"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"links"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," elasticsearch",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"elasticsearch\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# You can control the order of service startup and shutdown with the depends_on option."),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"depends_on"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string"},"'elasticsearch'"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n  \n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Logstash Docker Image"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"logstash"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," docker.elastic.co/logstash/logstash",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"6.4.0\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"container_name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," logstash\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# It Links elasticsearch container & kafkaserver container  & logstash container to communicate"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"links"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," elasticsearch",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"elasticsearch\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkaserver",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"kafkaserver\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Configures docker image to run in bridge mode network"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," kafkanet\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# You can control the order of service startup and shutdown with the depends_on option."),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"depends_on"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),(0,s.mdx)("span",{parentName:"code",className:"token string"},"'elasticsearch'"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'kafkaserver'"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Mount host volumes into docker containers to supply logstash.config file"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"volumes"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'/private/config-dir:/usr/share/logstash/pipeline/'"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Use bridge network for all the container, keeping all the container in same network will simplify the communication between the container."),"\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"networks"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," \n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kafkanet"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"driver"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," bridge\n"))),(0,s.mdx)("h2",{id:"launching-the-services"},"Launching the services"),(0,s.mdx)("p",null,"Once the docker-compose.yml file is ready, open your favorite terminal in the folder which contains it and run:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Launch services"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," up"))),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/20c9126c0f3c25c38271cf4f58da8caf/2b984/IMG_14.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.19631901840491%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABDElEQVQoz62Q6Y6DMAyE8/6vV24IouUIdzjKLZiVvSpS9/da+jQmSoaxhZQ2HMdG/IqRlgmKuoBuNXSnofUvXddhWRbM88y6riv3xLZtDPXTNEFI6cPzXNRVjbIv0M89tnX7enCeJ/Z9x3EcX/qB7tBPqBdN88I4DlAqg23bsCyLcRwHnuchCALEcQylFNI0RZZlnLosS9ZxHO9JKL2YpxRUSqUwTROGYcD3fYRhyERRhOfzyUqGeZ6jbVvUdc0mf0v0b4UTQJYleDwMNqRkZCqlhOu6nJIMKA3tiZQYhoFTffZKiP7dsKHWLZIkuVMURcFK33ROI9NZVVU8LqVsmua+R+a0S3FdF/6zfgCO0ROjV2datAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 14",title:"This should result something as below in your console.",src:"/static/20c9126c0f3c25c38271cf4f58da8caf/a6d36/IMG_14.png",srcSet:["/static/20c9126c0f3c25c38271cf4f58da8caf/222b7/IMG_14.png 163w","/static/20c9126c0f3c25c38271cf4f58da8caf/ff46a/IMG_14.png 325w","/static/20c9126c0f3c25c38271cf4f58da8caf/a6d36/IMG_14.png 650w","/static/20c9126c0f3c25c38271cf4f58da8caf/e548f/IMG_14.png 975w","/static/20c9126c0f3c25c38271cf4f58da8caf/3c492/IMG_14.png 1300w","/static/20c9126c0f3c25c38271cf4f58da8caf/2b984/IMG_14.png 2164w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"This should result something as below in your console."),"\n  ")),(0,s.mdx)("p",null,"Fire up a new terminal & check status of the containers"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Check status"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"ps")))),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/ece3717e3cae08d604e299cb6c8b8e62/bc81a/IMG_8.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"12.269938650306749%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAb0lEQVQI1z2MywrFIAxE+/+f57JgXbQqPhEfoCjMJVncQJgJh5xLCIGYIpRSkFJy5pxBE0LAox7EGGGtRa2Ve+8d931Da429N8458N6jlILr/V4uzjkYY1hGD2stzpQSxhgsm3P+GQmI0U2MtrWGH18alwyhQ5HPAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 8",title:"This should result something as below in your console.",src:"/static/ece3717e3cae08d604e299cb6c8b8e62/a6d36/IMG_8.png",srcSet:["/static/ece3717e3cae08d604e299cb6c8b8e62/222b7/IMG_8.png 163w","/static/ece3717e3cae08d604e299cb6c8b8e62/ff46a/IMG_8.png 325w","/static/ece3717e3cae08d604e299cb6c8b8e62/a6d36/IMG_8.png 650w","/static/ece3717e3cae08d604e299cb6c8b8e62/e548f/IMG_8.png 975w","/static/ece3717e3cae08d604e299cb6c8b8e62/3c492/IMG_8.png 1300w","/static/ece3717e3cae08d604e299cb6c8b8e62/bc81a/IMG_8.png 2862w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"This should result something as below in your console."),"\n  ")),(0,s.mdx)("h2",{id:"play-around-with-the-provisioned-services-to-configure-centralized-logging-capabilities"},"Play around with the provisioned services to configure Centralized Logging Capabilities"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Access ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"http://localhost:9200/")," in browser to verify if ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Elasticsearch")," is up & running")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"436px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/a5289ec60b3cf6e111a6fb6e91474a32/8574c/IMG_24.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"71.16564417177914%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByUlEQVQ4y52SuW5iQRRE+RoSMgiISSAgJOE3LSQW8QsIEGLfzb5vZjemrHOlhxiP7ZGmpaL70d11q+q2y+fzye12G/x+vzwej4LBoMLhsKLRqCKRiEKhkAKBgLxe7z/henl5UTKZVCKRUCwWUzweVzqdNqRSKQN7Dtj/DS5J2u/3Oh6PLHW5XLTdbrXb7fQ/wwVBsVhUoVBQv99XLpdTuVzWYrFQtVpVqVRSo9GwNeeGw6HW67UBER8fH7rdbg+43t/fVa/XjaTZbOr19VWr1cqqQTqfz9Xr9QwUZO50OjbjjHG/3w2mkB8I8vm8KpWKVV0ulxqNRmb9cDiIos6Fr+OZjNkIN5uNWUOpM5PhZDKxNeR8Y8+5+B3xQyF5oA7LmUxGg8HADpArhOPx2JSfz2ddr1drHDidTobnQg/LDiHWyYj/UEYzyJc1iqfTqeVKvt1u13KlyB+E2IGQiyhCWa1Ws+pcbrVaRvDT+CtDwie7bDZrxABivh2FPJ12u22F2MMBQpzuE4dlyNuhKXSWrFCCNWbeHFZZQ8AZLM9mM3sydJ8ZQfA8HjZVuMgFp0lYhfDt7c3+h5Rz7P1m3fUc6Heggz/tfQUKPwGpfPEwMd5cVwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 24",title:"Elasticsearch is UP",src:"/static/a5289ec60b3cf6e111a6fb6e91474a32/8574c/IMG_24.png",srcSet:["/static/a5289ec60b3cf6e111a6fb6e91474a32/222b7/IMG_24.png 163w","/static/a5289ec60b3cf6e111a6fb6e91474a32/ff46a/IMG_24.png 325w","/static/a5289ec60b3cf6e111a6fb6e91474a32/8574c/IMG_24.png 436w"],sizes:"(max-width: 436px) 100vw, 436px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Elasticsearch is UP"),"\n  ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Access ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"http://localhost:5601/")," in browser to verify if ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Kibana")," is up & running")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/9897b7b91342e2a16b8ff061d5e8ae72/2c960/IMG_25.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"59.50920245398773%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACV0lEQVQoz51Ty2oUQRRtIZ+gIOo/uPQXFB+4EQV3QRmR4CIkERSRLF0IRmJmshglPhbiRkX/QXysBCVisnBmumf6VTVdXV3V1VV1pGrGzt6CC/f0vX3uPfdWBaeureHE1WUsrj/Ey2d9dHs9PNnawubmJnq9nsdb3a73e3Pfxbvdrjfn97a30e8/xcbGYwQnH7xG0HmEux8/w508JxCMoVYK/3OCY4t3EJzrYLn/xn9IKoE/pYBuGlilsF8U+BCG3reqxs+c40vMAKO9/aAC30kFwKLkHMHxzjqCC0tY2Xk767AS2COkrbhLCrza22/xr4zia5TMgLX4Fkb4NAw9oaxrBEev30dwfgmrO+98zigMEQ4GKMsSqmmQRBHy4RCsLKG18TgbR/5nKSXi0cibkBKNUggOL95DcPEWVucdEsYR0wLaGI+ZrJFxAWMMrLWYVhKkkh4ba0H/YWtRuw4XLq8gOHOjJRSqgagVGmOgjUWtDUSjW8nKYRfXxudUSkPO4weEpzvtDHlVgRICVglwIVFw4X2X7CTBGJSMoeAVSlmDVdLLb5oGQogDwtsv3gNaYTiegBCCNE0wSjM0xrYLIIxhfxQiy3OkSYI4TTGOE4wnsSdTboYLV+aEz2dLGUwSJEkCSqf4XXCM0hw5pbC6QSYkdpMUaZphSilIJTAhFINoDOburpN86NKyJ2yXMmU+qPVsLq6yM6M1ylphzARIwbx8rg3SUiAl1D8ET3jEbfnsTazNCSMyBaEUnHMwpZFNi7a6VA1IyZFmGbi7VsaCshKTOPFFHeFf++tQBiygTYAAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 25",title:"Kibana is UP",src:"/static/9897b7b91342e2a16b8ff061d5e8ae72/a6d36/IMG_25.png",srcSet:["/static/9897b7b91342e2a16b8ff061d5e8ae72/222b7/IMG_25.png 163w","/static/9897b7b91342e2a16b8ff061d5e8ae72/ff46a/IMG_25.png 325w","/static/9897b7b91342e2a16b8ff061d5e8ae72/a6d36/IMG_25.png 650w","/static/9897b7b91342e2a16b8ff061d5e8ae72/e548f/IMG_25.png 975w","/static/9897b7b91342e2a16b8ff061d5e8ae72/3c492/IMG_25.png 1300w","/static/9897b7b91342e2a16b8ff061d5e8ae72/2c960/IMG_25.png 2870w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Kibana is UP"),"\n  ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"Access ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"http://localhost:9000")," in browser to manage Kafka Cluster")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"Follow series of steps to configure the cluster"))),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"588px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/ee04690c3190fd74a6897290fc7f297e/9bbaf/IMG_15.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"44.171779141104295%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5UlEQVQoz5WSSaqGQAyEvf9lPIorBYeFoCL6KyrOYz2+BsGFi2dDkc7YqU4s27ZV17WSJFGapgbjOKqqKpVlqXmeP8FyHEfLsqhtW3Vdp6ZptK6rhmFQ3/fatu0TLKrSEcq+7wYUvAO4f4H1K0sVRWGKfqX3Svm6LnHO8zQdQZ+XkP/FHW8oh2Eo3/cVBIEZAp3ydzf4yze8+aZpkhXHsTzPk+u6hjpGWudF5FsxYvAjn3ZDmTXBwYE+1PM8VxRFyrJMx3EYGxIQw0bgp0v0O4aBWqwKBZ+TJZCkt7UhiU7IQ6I/fX9QArcbTT365AAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 15",title:"Kafka Manager is UP",src:"/static/ee04690c3190fd74a6897290fc7f297e/9bbaf/IMG_15.png",srcSet:["/static/ee04690c3190fd74a6897290fc7f297e/222b7/IMG_15.png 163w","/static/ee04690c3190fd74a6897290fc7f297e/ff46a/IMG_15.png 325w","/static/ee04690c3190fd74a6897290fc7f297e/9bbaf/IMG_15.png 588w"],sizes:"(max-width: 588px) 100vw, 588px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Kafka Manager is UP"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"584px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/4535c3a2f54958ec899684abce19a4d6/e05eb/IMG_16.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"46.012269938650306%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABU0lEQVQoz31SXUvDMBTt/8c3ERHm4170xYEV/ECcvjiorFPBCiNCN2ftxra2adokbY/cjMiYbhcOSc49vTm5t47ruuh2u4iiCKPRCIwxs48mEzzf34H1n5B9R+BCIBcFimI3nPF4jGS5hNYaZVkaspQSmr0hDQZIvkI0nwxIYwANFOW03gqnrmtMp1PM5/PfgkqW6Nz6OGrf4Lh9hVb7GvtnfZw+fqAQudEIIf53qJRCkiTI8xxSSuOu0grnHkPr8hWHFy84cAfY6/g4eXg3DuUOOOsH65Bur6RALQWgBKALg0atcttgHKZpCs/z0Ov14Pu+eTq5zTgH5zmyjCNdA+crkMbuCVmWmdWhqnEcYzabYbFYGCFxJCDY8yZsoT89pP7Rr0LPbZoGNCRKDIdDBEFgHBNvp1hVFajv9E0YhkZveTNlElNQgkhaCTbsJZuwscn/ABqdrRZBs/FKAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 16",title:"Click on Cluster & Add cluster",src:"/static/4535c3a2f54958ec899684abce19a4d6/e05eb/IMG_16.png",srcSet:["/static/4535c3a2f54958ec899684abce19a4d6/222b7/IMG_16.png 163w","/static/4535c3a2f54958ec899684abce19a4d6/ff46a/IMG_16.png 325w","/static/4535c3a2f54958ec899684abce19a4d6/e05eb/IMG_16.png 584w"],sizes:"(max-width: 584px) 100vw, 584px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Click on Cluster & Add cluster"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"569px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/3180751ee6578c3e4768625e0d446e94/854dc/IMG_17.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.37423312883436%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVQoz52R607DMAyF8/7vNWmClQoBYtWKtrLe6DYlaZu0aS4HJWyDny2RPtlS7GPnhEghIKUM9H2PcRwxDEPIhRCzudWT4kQRbTZYr9eIogir1QpxHN8HLCEI9nIAYyxAKUXTNLhcLou2+wvxzV6McwbnHG7HWrsYrTXIdrtFmqZIkgRKqXBhjPk3pG1bcM7ho5/gt/wVnSl+rQ8bFkUefCvLAlVV4jPLUNfV9eFuAT82kcfnFA9xgvhtj6fXPbKqQ95IfDGNLzqP2kc2QSkNcjhWyI418vKEM+0gRgupHMRgFyFH/ykG5OV9h48sx+5whFAGUluIyUBOdhG+Z/KCZ8rB2y64YKyDtu4e52IdwDqJbpjwDW2lUq1anRLaAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 17",title:"Configure cluster & click on `Save",src:"/static/3180751ee6578c3e4768625e0d446e94/854dc/IMG_17.png",srcSet:["/static/3180751ee6578c3e4768625e0d446e94/222b7/IMG_17.png 163w","/static/3180751ee6578c3e4768625e0d446e94/ff46a/IMG_17.png 325w","/static/3180751ee6578c3e4768625e0d446e94/854dc/IMG_17.png 569w"],sizes:"(max-width: 569px) 100vw, 569px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Configure cluster & click on `Save"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"569px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/037fc12b87fc2fe3de0d9a56f635397b/854dc/IMG_18.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"37.423312883435585%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwElEQVQoz5XMTU/CQACE4f3//8tE0UaLFZTWRArssjQt3c+yvbzGEo1Hengyl5kRTdMgpURrjVJqSuccIXi8nyeEgCg3JU+PGau3NYuHBflLjrOeGAZiiPPEAaFMzdHu0e7wR5kdsq+R5ja//ZNViFzek+3uqM4FVfc6+TwXs1XdktqUCD8G/nMpYC8em+YxyU9bsTxGnmUg218VeqDsRjbtPB/tyFefEGUbeT8FVtpPqnZgaxLbPl3zRj9nB3vhG4sVDgzBDSXUAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 18",title:"Click on Go to cluster view",src:"/static/037fc12b87fc2fe3de0d9a56f635397b/854dc/IMG_18.png",srcSet:["/static/037fc12b87fc2fe3de0d9a56f635397b/222b7/IMG_18.png 163w","/static/037fc12b87fc2fe3de0d9a56f635397b/ff46a/IMG_18.png 325w","/static/037fc12b87fc2fe3de0d9a56f635397b/854dc/IMG_18.png 569w"],sizes:"(max-width: 569px) 100vw, 569px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Click on Go to cluster view"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"581px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/3577245213b162e17f8be9dee03236bd/92d15/IMG_19.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"32.515337423312886%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA90lEQVQoz6WRwU7CQBRF+8Wu/RH/xo246AbdgJVESIgCAk4LnZZ22r6ZY+YZCW7xJncz7+bdkzdJVVW0bYtzjqZpqOv6X06exmPSNOVxNGKxWOjiWHL1woO1mOLAV1FQWqu0kfRaJ8uXCfVuA4MjDAPiPSJCVJ7nZFnGbDajLEt9E49moowxf2ciJNvJlGL9iXmbIx9LYtSL4L0/O4Sgb9KfEGeR3hFAiWJpPJNmvCcpXjPsesNxPsfv1tpECPwqzw3bvaE7rqgfbqnub2ie73TWd53eexiGcz7hQkp3QRatP39q6FtLt0px7yP6/RQfUKqf/nDOfwPh8RmYCvq/BgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 19",title:"Click on kafka_cluster",src:"/static/3577245213b162e17f8be9dee03236bd/92d15/IMG_19.png",srcSet:["/static/3577245213b162e17f8be9dee03236bd/222b7/IMG_19.png 163w","/static/3577245213b162e17f8be9dee03236bd/ff46a/IMG_19.png 325w","/static/3577245213b162e17f8be9dee03236bd/92d15/IMG_19.png 581w"],sizes:"(max-width: 581px) 100vw, 581px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Click on kafka_cluster"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"585px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/9cd5ce287b6784cf60f3b815d01b80cb/78a22/IMG_21.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.852760736196316%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVQoz3WS627bMAyF9f5PM2CPsB8FumFIsWyJnSZxuiSWfIstxZJsJz7D0aaiKFYBH0TRFHlIWSwWCxyPx0CWZZAyx+NG4dNjhs/fXnDIaxQyR9t20FrjdDqh6zrsDwf8ShI0bYeyqpDnOaSUEIWSsLZH3/cwxsBai0Oh8ZTV+PHS4GIsbN/DOQ/vPa7XK5z3kM8psu9f0WxTmLJAZ0woJLreo3cexuiggM7RW0zeYnQ9Bu8xjiOGYQjQdsMA8/MJx4cv8MkSUGdweecgMnlB2RooJfH7X+tN06AsK0ilgmoqc869wm4uVYVGKUzOwjuLcZpCrABmYL5jnmfEFe3b7RZUMeHbnUk7rdFqjUvbBiiChUSSpNhsNtjtdmEnafrXV9d1mBkrR3gmvBzhjOnjOESSJFitVthut1iv18FeLpeBqqr+225M+hYWo3rB34Bz4+u+X/f7PSRlTFEUUEoFFRzFNE2vxDN3cT6fQ/8M5OyYJMIzq/M7C1IhfR/BO2K/34fA+AjvYSux4EcxESb8AzCN/DVsqG67AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 21",title:"Navigate to Create a Topic",src:"/static/9cd5ce287b6784cf60f3b815d01b80cb/78a22/IMG_21.png",srcSet:["/static/9cd5ce287b6784cf60f3b815d01b80cb/222b7/IMG_21.png 163w","/static/9cd5ce287b6784cf60f3b815d01b80cb/ff46a/IMG_21.png 325w","/static/9cd5ce287b6784cf60f3b815d01b80cb/78a22/IMG_21.png 585w"],sizes:"(max-width: 585px) 100vw, 585px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Navigate to Create a Topic"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/f3e0ccf9e8b6482fa35d12d27ed0c89a/cab8c/IMG_22.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.601226993865026%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIklEQVQoz41Ry26EMAzc/+4X9dZf6LmX3pCouKQgpPLKC+iKJFNNpKwC7La1NMTE9njsXJzbILVB27ao6zqiaRoYYzDPM6y1N/A/B++cc6CFEOJ5cRsJLYT4RFEUqKoKZVlCax2L1nWNOJInnAjpWGOwbRtyYyLvpmnCMAxYliX+H+G93xPyI6XCOI5xTBaSjIk8pZQxlhryPkci2hFyPCEE+r6Po6VkErIJ41TJk4W/EtJJRfm4TKYq3ieV3BnzGU85dxSGWNR1/UlFGpl7JNj4z5HpfC8WVythtIoq8pGVUrEJCennsYc7/GgVXosvqPkKBL97FKoiEXf770d5eRN4en5HITpoOcI5fyvmGvhYHD1X9lCh9wEnOyQlO6q7R/gDnrBaBHGhJmMAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 22",title:"Create topic for SIT environment - `sit.catalogue.item`",src:"/static/f3e0ccf9e8b6482fa35d12d27ed0c89a/a6d36/IMG_22.png",srcSet:["/static/f3e0ccf9e8b6482fa35d12d27ed0c89a/222b7/IMG_22.png 163w","/static/f3e0ccf9e8b6482fa35d12d27ed0c89a/ff46a/IMG_22.png 325w","/static/f3e0ccf9e8b6482fa35d12d27ed0c89a/a6d36/IMG_22.png 650w","/static/f3e0ccf9e8b6482fa35d12d27ed0c89a/cab8c/IMG_22.png 744w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Create topic for SIT environment - `sit.catalogue.item`"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"575px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/0354d47aab7da43b53495062d97f8483/59415/IMG_35.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"68.09815950920245%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQ4y5VSW46bMBRljd1Ad9TfLqeNUlX96HxEZSImhIQQlA4jxMM2GIzNqa4npoSmI82Vjmzka9/zwGuaBkII1HUNzjkYYxa0p7P3witqjlP6jIeHn/i6WsH3fazXa2w2GzvovfCatoWU3cSS1iVDKSX6vkfXdXb/JkNqqqoSxhhQjeNoQd9aa7uXskWe5yjL0g6ks//BY6LF0z5GzVsI2YO3PdpeQw4GUhlIDdSMIzmdkKYpiqKYht19kC5kWYE4ihHtDtgHe+QlRzMAojcoWw2l8U8Rc3p0CU+IBrt9hGNyxmBGkHBalTZQg4EZiSFDHMc4Ho84HA4W5DPVnB0N8ZRSKIsCnDNoPcBYKU7O60o+u6AoOAKFNJc+MXQvu2k2kGsor41/z5d1PxTG8Mt/xNMutJKiKLKMnEdUFMR2u7VSwzBEEATIssyezcOxkjEaYFTXiRrDMNyY7L7nl8imZd8kOWcSX/zf+BZkYE2H4drs/kcqYkwsq6qyq2PueubwfoQv+PBphY+fv2N7esHzJUVds+kCFdmSJAkulwvO57MNZJz5fOOhNgZcKgipbsyfM1yGck+qk/wHJgY6uZHFZqMAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 35",title:"Create topic for UAT environment - `uat.catalogue.item`",src:"/static/0354d47aab7da43b53495062d97f8483/59415/IMG_35.png",srcSet:["/static/0354d47aab7da43b53495062d97f8483/222b7/IMG_35.png 163w","/static/0354d47aab7da43b53495062d97f8483/ff46a/IMG_35.png 325w","/static/0354d47aab7da43b53495062d97f8483/59415/IMG_35.png 575w"],sizes:"(max-width: 575px) 100vw, 575px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Create topic for UAT environment - `uat.catalogue.item`"),"\n  ")),(0,s.mdx)("h2",{id:"publishing-log-message-to-kafka-topics"},"Publishing log message to kafka topics"),(0,s.mdx)("p",null,"Itâ€™s time to start preparing messages to be published to Kafka Topics. Log messages can be defined in any format. But if they are in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JSON")," format, we can try to capture many details so that it provides additional capabilities when viewing the entries in Kibana."),(0,s.mdx)("p",null,"Below is the sample log message which we prepared to showcase for this article. As observed, we tried to capture many details that are needed as per the requirement."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Log Message in JSON format"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n # Application Name  \n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"app"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"catalogue-item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n# Client Request Id\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"crid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1BFXCD"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n#Unique Id\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"uuid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ec25cdc8-a336-11ea-bb37-0242ac130002"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n# Message\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"msg"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"app"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"catalogue-item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"crid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1BFXCD"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"uuid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ec25cdc8-a336-11ea-bb37-0242ac130002"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"msg"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},"\"Create Catlogue PayLoad - {'sku':'CTLG-123-0001','name':'The Avengers','description':'Marvel's The Avengers Movie','category':'Movies','price':0,'inventory':0}\""),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"status"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"SUCCESS"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"latency"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"source"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Postman API Client"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"destination"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Catalogue DataBase"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"time_stamp"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2020-05-31T13:22:10.120Z"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n# Status Code - SUCCESS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"ERROR",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"WARN",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"INFO\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"status"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"SUCCESS"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n# Time that passes between a user action and the resulting response\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"latency"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n# Sorce of message\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"source"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Postman API Client"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n# Destination of message\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"destination"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Catalogur Database"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\n# Application Time Stamp\n",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"time_stamp"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2020-05-31T13:22:10.120Z"'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Start Kafka producer using the scripts available in the provisioned docker container. Run the below command to start the producer for the provided topic."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Login to container shell using below command"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"ps"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# CONTAINER_NAME - kafka"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"exec")," -it ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"<"),"CONTAINER_NAME",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," /bin/bash"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Start producer"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"cd")," opt/kafka_2.11-0.10.1.0/bin\n\n$ ./kafka-console-producer.sh --broker-list kafkaserver:9092 --topic uat.catalogue.item"))),(0,s.mdx)("p",null,"Copy and paste the below messages one by one in the console to publish the messages to the provided topic."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Sample messages"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},"## Message published to `uat.catalogue.item` kafka topic\n\n## SUCCESS Message\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"app"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"catalogue-item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"crid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1BFXCD"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"uuid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ec25cdc8-a336-11ea-bb37-0242ac130002"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"msg"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},"\"Create Catlogue PayLoad - {'sku':'CTLG-123-0001','name':'The Avengers','description':'Marvel's The Avengers Movie','category':'Movies','price':0,'inventory':0}\""),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"status"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"SUCCESS"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"latency"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"source"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Postman API Client"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"destination"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Catalogue DataBase"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"time_stamp"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2020-05-31T13:22:10.120Z"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n## WARN Message\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"app"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"catalogue-item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"crid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1BFXCD"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"uuid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ec25cdc8-a336-11ea-bb37-0242ac130002"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"msg"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},"\"Create Catlogue PayLoad - {'sku':'CTLG-123-0001','name':'The Avengers','description':'Marvel's The Avengers Movie','category':'Movies','price':0,'inventory':0}\""),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"status"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"WARN"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"latency"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"source"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Postman API Client"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"destination"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Catalogue DataBase"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"time_stamp"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2020-05-31T13:22:10.120Z"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n## ERROR Message\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"app"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"catalogue-item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"crid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1BFXCD"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"uuid"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ec25cdc8-a336-11ea-bb37-0242ac130002"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"msg"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},"\"Create Catlogue PayLoad - {'sku':'CTLG-123-0001','name':'The Avengers','description':'Marvel's The Avengers Movie','category':'Movies','price':0,'inventory':0}\""),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"status"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ERROR"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"latency"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"source"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Postman API Client"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"destination"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Catalogue DataBase"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"code",className:"token property"},'"time_stamp"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":"),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2020-05-31T13:22:10.120Z"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/7706e0470aa002ab987ea232a0c62ce0/d7ceb/IMG_26.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"20.245398773006134%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAo0lEQVQY002P2QqFMAxE/f8PVLxt3RArWsUugj6NTKRyHw7ZJ0lhjIFSStBaYxgGdF2Hvu8FxuM4YpomwXuP4ziEGOPnk33fUXC4qioRpIBz7humkLUW67qKvyzLV5/nWfLMZbtt7hWs6xpt24povphLmM+X556maVCWJYzRUOon3xCK8soipYQYA84zgf4bR4Tgxf6T63yblj0hBOG6Ltz3jQdkdyjc7miiUgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 26",title:"Messages published to UAT topic",src:"/static/7706e0470aa002ab987ea232a0c62ce0/a6d36/IMG_26.png",srcSet:["/static/7706e0470aa002ab987ea232a0c62ce0/222b7/IMG_26.png 163w","/static/7706e0470aa002ab987ea232a0c62ce0/ff46a/IMG_26.png 325w","/static/7706e0470aa002ab987ea232a0c62ce0/a6d36/IMG_26.png 650w","/static/7706e0470aa002ab987ea232a0c62ce0/e548f/IMG_26.png 975w","/static/7706e0470aa002ab987ea232a0c62ce0/3c492/IMG_26.png 1300w","/static/7706e0470aa002ab987ea232a0c62ce0/d7ceb/IMG_26.png 1446w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Messages published to UAT topic"),"\n  ")),(0,s.mdx)("h2",{id:"configuring-kibana-1"},"Configuring Kibana"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Access ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"http://localhost:5601/")," in browser to popup ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Kibana UI")," and follow the below series of steps to create ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Index")," and start ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Visualizing")," messages that are pushed to Kafka Topic."),(0,s.mdx)("li",{parentName:"ul"},"Click ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Management")," on side navigation bar."),(0,s.mdx)("li",{parentName:"ul"},"Click on ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Index Patterns"))),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/5a81a7bc1edfb063a2acc4cb5675d529/ddc6c/IMG_27.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"18.404907975460123%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeUlEQVQY042P3QrDMAhG8/6vOdjobxrSUJtovqH0IksZVDg3HvxUN00jNu/BXFBrhYj8oD1cPPFumBesW8BxZmv0ZBZQYYOvgBYNVXcWhljgThgiYYzHbUC3ronwCQkvvyNShpY0PjPjHZKhwQ7dyT3m8N+3L4tUfAFC6DtEjLEy9QAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 27",title:"IMG 27",src:"/static/5a81a7bc1edfb063a2acc4cb5675d529/a6d36/IMG_27.png",srcSet:["/static/5a81a7bc1edfb063a2acc4cb5675d529/222b7/IMG_27.png 163w","/static/5a81a7bc1edfb063a2acc4cb5675d529/ff46a/IMG_27.png 325w","/static/5a81a7bc1edfb063a2acc4cb5675d529/a6d36/IMG_27.png 650w","/static/5a81a7bc1edfb063a2acc4cb5675d529/e548f/IMG_27.png 975w","/static/5a81a7bc1edfb063a2acc4cb5675d529/3c492/IMG_27.png 1300w","/static/5a81a7bc1edfb063a2acc4cb5675d529/ddc6c/IMG_27.png 1534w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"It will navigate to blow Screen")),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/57cf70df5d971d0011c3e11e2e6ea713/5d030/IMG_28.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"58.282208588957054%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABYklEQVQoz31Sa2+DMAzk//++Vh3jw1oxoEBCeT8TbjpPYbRrG+nkxHHOOdve4XBAEAQ4nU7wfR/H41HO1loYY8S+w7qu2C9PKYWiKKC1FnB/u93Q9z26rkNd16iqCk3TyJ7WncuyxDAMQkRiwuMjOmldIEFS+hjkfnKPZ74VXhiGiKIIeZ7jer0iTVNBHMeSwGV/uR4l8zckG8fxaTx/t5e0Ye/bS27bVurGeji59NE6yf8ItzPuiUno6kXsm8MEbAI77YIfZT6rhBCSgN1mzRx5yQRaS32zXKHvBxj71yArbL+JjOEI7SQnSYIsy6SWtKlSGMIz1iyGTUKsXz7GokBWToiyFp9hhY9LieC7xjlpEKsOVTtJAo8j42aP0EpBcw4LDRNdYJoatu9g51keTLNB188YxgXdsGCcFtHuxsvjAFMqa8ZOvxuRV3d7t+eGmtJJuCzLBrOzAmPu7rc4Yzb8AL7apVranZ4cAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 28",title:"IMG 28",src:"/static/57cf70df5d971d0011c3e11e2e6ea713/a6d36/IMG_28.png",srcSet:["/static/57cf70df5d971d0011c3e11e2e6ea713/222b7/IMG_28.png 163w","/static/57cf70df5d971d0011c3e11e2e6ea713/ff46a/IMG_28.png 325w","/static/57cf70df5d971d0011c3e11e2e6ea713/a6d36/IMG_28.png 650w","/static/57cf70df5d971d0011c3e11e2e6ea713/5d030/IMG_28.png 771w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Create index pattern for ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"sit")," logs")),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/49859d54ab279446ea417f600d2bf0cf/f2331/IMG_29.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.447852760736193%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVQY042QwW4DIQxE+f/fXEWtQinsssUL2LyKTXKIqlQZay4+eJ7HXS4XlmXBe09rjUOE4zhOixz03pkaY7x0rRUROe1iSsQYCSGQc0bHQM0wU0wVM/v32DBDez+DJ5D79IGUVkoRWm3wk1ERdlGk6o2O9zQDnI+R6bCuxC2jrTJU6Wqo/qWbat3Ipd8Ayk7fM6lUSm24D3/l+h34SpEsQjN7xL18c9YwA20G9o7Nl+8Ablu3s0x749Az6bjPo5K5N34BQ2bXd/N37F0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 29",title:"IMG 29",src:"/static/49859d54ab279446ea417f600d2bf0cf/a6d36/IMG_29.png",srcSet:["/static/49859d54ab279446ea417f600d2bf0cf/222b7/IMG_29.png 163w","/static/49859d54ab279446ea417f600d2bf0cf/ff46a/IMG_29.png 325w","/static/49859d54ab279446ea417f600d2bf0cf/a6d36/IMG_29.png 650w","/static/49859d54ab279446ea417f600d2bf0cf/e548f/IMG_29.png 975w","/static/49859d54ab279446ea417f600d2bf0cf/3c492/IMG_29.png 1300w","/static/49859d54ab279446ea417f600d2bf0cf/f2331/IMG_29.png 1427w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Configure Settings")),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/71201d5179f39540f08167f8f6a4e736/52ab5/IMG_30.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.67484662576687%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVQY032P3U7EIBBGeXdfxlvfwcT4BCZed9XYLG1pgYECxwzdvas7yQmTYX6+zwzDwHC5oG8IgZQzKaWOiJBz5h6ttVO0R2e13wTvccuCtbajn/u+k5VbXmuh1vrvwlJK71PMdXZ8j5ZpnnHOISnjNk9StTESouD98e6l8jgaZrxafn5HFrcyL47JrV0+fqNJJKaCl0KQ0nNVdLevoUckl47mJkpicltfpBbV3nHr4FTHzap21AaybkQfKbVhtKzFdjLwCPpc6zy/ffD08s7r5xd/bG3VBoYDjeEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 30",title:"IMG 30",src:"/static/71201d5179f39540f08167f8f6a4e736/a6d36/IMG_30.png",srcSet:["/static/71201d5179f39540f08167f8f6a4e736/222b7/IMG_30.png 163w","/static/71201d5179f39540f08167f8f6a4e736/ff46a/IMG_30.png 325w","/static/71201d5179f39540f08167f8f6a4e736/a6d36/IMG_30.png 650w","/static/71201d5179f39540f08167f8f6a4e736/e548f/IMG_30.png 975w","/static/71201d5179f39540f08167f8f6a4e736/3c492/IMG_30.png 1300w","/static/71201d5179f39540f08167f8f6a4e736/52ab5/IMG_30.png 1420w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"If Index created sucessfully will navigate to blow screen")),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/8049538666b87102454b33d66dd837fe/6c86f/IMG_31.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"44.171779141104295%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCElEQVQoz5VRy04DMQzM//8VRyRuvdD2Bq0Qry40ibN5OIMmbEracoBII69f47HX3Kz3uN+9wDsHcR7BC8QLqlb852mtKDnD3G132Dy9wx4mbB/XuH1YYbXfYPqYICIIIWCe5zPEGDET9GNEzIqiiigCU90RSgSBDR6TP+JTbCMiIZtKKQ055xNSSj+2aPuOKcG8HQTPr67J5qo55at1enMjXgg5iJZDGafPOlO0oiz38t7DOdfuoaoNtda2IsFHP5N4yfeaDjMqYROn9mQv5mTmerwshN8op1rVCtOL+PoavxHypnVQfrnFmcKRkNNHwq68Kfzryp2QN7TWXinsf3iM6wUhbc4FX8f9wxWN1F2cAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 31",title:"IMG 31",src:"/static/8049538666b87102454b33d66dd837fe/a6d36/IMG_31.png",srcSet:["/static/8049538666b87102454b33d66dd837fe/222b7/IMG_31.png 163w","/static/8049538666b87102454b33d66dd837fe/ff46a/IMG_31.png 325w","/static/8049538666b87102454b33d66dd837fe/a6d36/IMG_31.png 650w","/static/8049538666b87102454b33d66dd837fe/e548f/IMG_31.png 975w","/static/8049538666b87102454b33d66dd837fe/3c492/IMG_31.png 1300w","/static/8049538666b87102454b33d66dd837fe/6c86f/IMG_31.png 1720w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"Click ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Discover")," on side navigation bar")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"Logs available in kibana with the index created"))),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/b0c924b80f7649ca7bde800103cad525/a429e/IMG_33.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.809815950920246%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVQoz01Q7WrEMAzr+7/U/t4TbGx/BrfbjXFrm6b5qJ00GjJNOYMxCrIsZXh5veLyfsXf9ze28QFZHFYfMPuM0SU4n7H4gBjj2TlnbCIQVaBW7LWilIJNFMPl7ROXjy/cfn6xpwDVgqwNohVSdvRq7ZgHvsWARQVOBI+cTtIwTSNyiogpQWtF40rffqrWmjnSUgx7EWyl4Lr6U7DWimGcJoQYEUKAiFgcuvTeWzPiuq5IKVmslPkFHilGFFUU7sRoXO4P9/vdQBdUulA1oWVZ7J2TmC7pguLkEpM70VQIdnCY59lAf+jNpe6Qk5gCpdYjhVpMcp1zxrPIVI9HZJK6y2eHXXjf9/MYeSxyuyAd/gN7Sh+GxUb4xAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 33",title:"IMG 33",src:"/static/b0c924b80f7649ca7bde800103cad525/a6d36/IMG_33.png",srcSet:["/static/b0c924b80f7649ca7bde800103cad525/222b7/IMG_33.png 163w","/static/b0c924b80f7649ca7bde800103cad525/ff46a/IMG_33.png 325w","/static/b0c924b80f7649ca7bde800103cad525/a6d36/IMG_33.png 650w","/static/b0c924b80f7649ca7bde800103cad525/e548f/IMG_33.png 975w","/static/b0c924b80f7649ca7bde800103cad525/3c492/IMG_33.png 1300w","/static/b0c924b80f7649ca7bde800103cad525/a429e/IMG_33.png 1717w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Visualize Message in tabular format")),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/52ab5/IMG_34.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"46.62576687116564%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA90lEQVQoz5VSy27EIAzk/3+uX9BDL5s9BMLTEOxkKtNlW63UdhdpcLCcYcbGMAt672BmpJTgnIP3HjHG8V1KwXmeOI4DrTUQEURk5BQpRmzOodU6aoxux4k/1/z58Vy7wMWMRA1lZ7QuMKpquykqJSPnjH3fx23/oXYGdR6xtI7WGUYJgvdwTpHhfRg2tQXT6m+Aqn6AqZVAVBHCCqJ3MBeIKJE8pXJCbtGoVVV1uXzgen1DjCt6/276s1AyjaOH1lpsm0cIFTnT140iL+OuMISAZVlg7YqU4nge84lorLXeMfM/z7NmEOpENaHEOiAtnpN+1bZa/gRcAcFzMQL52QAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IMG 34",title:"IMG 34",src:"/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/a6d36/IMG_34.png",srcSet:["/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/222b7/IMG_34.png 163w","/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/ff46a/IMG_34.png 325w","/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/a6d36/IMG_34.png 650w","/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/e548f/IMG_34.png 975w","/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/3c492/IMG_34.png 1300w","/static/c4ab6cde5e9dc97e5b9ed33edf56ba91/52ab5/IMG_34.png 1420w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("h2",{id:"conclusion"},"Conclusion"),(0,s.mdx)("p",null,"If you had made up to this point :smile: congratulations !!! You have successfully dockerizing the ELK stack with Kafka."),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"270px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/0549243a8c3af110d59df9e7bad41a82/6f81f/how-it-works.jpg",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"100%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABzyn2L6kM0WknmBL/xAAeEAACAQMFAAAAAAAAAAAAAAABAgMAERIEEyEiMv/aAAgBAQABBQK7YsWFSHsj8ehuNUcaFMFvqABL/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPwFQm//EABcRAAMBAAAAAAAAAAAAAAAAAAAQEkH/2gAIAQIBAT8B0l//xAAcEAACAgIDAAAAAAAAAAAAAAAAARARIUESMqH/2gAIAQEABj8CdHfyHzeNGXCtaGqHR//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExUUH/2gAIAQEAAT8hLM3ipSpc9l3B85N28OMShostzEltzGe1z29gGgo9ZpBP/9oADAMBAAIAAwAAABBU5/7/xAAXEQADAQAAAAAAAAAAAAAAAAAAEBEh/9oACAEDAQE/EMCir//EABgRAQEAAwAAAAAAAAAAAAAAAAEAEDFx/9oACAECAQE/EERXWDV//8QAHhABAAMAAgIDAAAAAAAAAAAAAQARIVFhMUGBwdH/2gAIAQEAAT8Qw1gC+DfqMmFWAAPxAbeA9PyGoFOSvYEelLBpE8ZDpS2lpstKKb7LnPEA+IHFvfUFAhBq5//Z')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"how it works",title:"how it works",src:"/static/0549243a8c3af110d59df9e7bad41a82/6f81f/how-it-works.jpg",srcSet:["/static/0549243a8c3af110d59df9e7bad41a82/d2f63/how-it-works.jpg 163w","/static/0549243a8c3af110d59df9e7bad41a82/6f81f/how-it-works.jpg 270w"],sizes:"(max-width: 270px) 100vw, 270px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    ")),(0,s.mdx)("h2",{id:"some-useful-commands-for-reference"},"Some useful commands for reference"),(0,s.mdx)("h3",{id:"docker-commands"},"Docker Commands"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Builds, (re)creates, starts, and attaches to containers for a service"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," up\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Stops containers and removes containers, networks, volumes, and images created by up"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," down\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Lists all running containers in docker engine"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"ps"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# List docker images"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," images ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"ls"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# List all docker networks"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," network ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"ls")))),(0,s.mdx)("h3",{id:"kafka-commands"},"Kafka Commands"),(0,s.mdx)("h3",{id:"producers"},"Producers"),(0,s.mdx)("p",null,"You can produce messages from standard input as follows:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./kafka-console-producer.sh --broker-list kafkaserver:9092 --topic uat.catalogue.item"))),(0,s.mdx)("h3",{id:"consumers"},"Consumers"),(0,s.mdx)("p",null,"You can begin a consumer from the beginning of the log as follows:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./kafka-console-consumer.sh --bootstrap-server kafkaserver:9092 --topic uat.catalogue.item --from-beginning"))),(0,s.mdx)("p",null,"You can consume a single message as follows:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./kafka-console-consumer.sh --bootstrap-server kafkaserver:9092 --topic uat.catalogue.item  --max-messages ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1")))),(0,s.mdx)("p",null,"You can consume and specify a consumer group as follows:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./kafka-console-consumer.sh --topic uat.catalogue.item --new-consumer --bootstrap-server kafkaserver:9092 --consumer-property group.id",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"="),"elk-group"))),(0,s.mdx)(r,{title:"References",links:[{url:"https://www.elastic.co/guide/en/logstash/current/plugins-inputs-kafka.html"},{url:"https://medium.com/@caysever/docker-compose-network-b86e424fad82"},{url:"https://zablo.net/blog/post/setup-apache-kafka-in-docker-on-windows/"},{url:"https://medium.com/@marcelo.hossomi/running-kafka-in-docker-machine-64d1501d6f0b"},{url:"https://www.elastic.co/guide/en/logstash/current/output-plugins.html"},{url:"https://www.elastic.co/guide/en/logstash/current/output-plugins.html"},{url:"https://www.elastic.co/guide/en/logstash/current/filter-plugins.html"},{url:"https://www.elastic.co/guide/en/logstash/current/plugins-inputs-kafka.html"},{url:"https://github.com/lensesio/kafka-cheat-sheet/blob/master/README.md"},{url:"https://www.elastic.co/guide/en/logstash/current/plugins-filters-mutate.html"}],mdxType:"ExternalLinksListContainer"}),(0,s.mdx)(p,{href:"https://github.com/2much2learn/article_june13_centralized-logging-with-kafka-and-elk-stack",mdxType:"GithubRepo"},"centralized-logging-with-kafka-and-elk-stack"))}l.isMDXComponent=!0},63366:function(a,e,n){function t(a,e){if(null==a)return{};var n,t,s={},m=Object.keys(a);for(t=0;t<m.length;t++)n=m[t],e.indexOf(n)>=0||(s[n]=a[n]);return s}n.d(e,{Z:function(){return t}})}}]);
//# sourceMappingURL=component---src-pages-content-articles-setup-centralized-logging-with-kafka-and-elk-stack-index-md-b7a98f106fb2978e270c.js.map