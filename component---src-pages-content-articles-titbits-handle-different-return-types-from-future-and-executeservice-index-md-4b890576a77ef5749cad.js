(window.webpackJsonp=window.webpackJsonp||[]).push([[56,41,42,43,44,45,46,47,48,51,55],{"K/5Y":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return d})),t.d(a,"default",(function(){return l}));var n=t("zLVn"),s=t("rePB"),c=(t("q1tI"),t("7ljp"));function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(Object(t),!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var p,d={templateKey:"article",published:!0,displayComments:!0,showAuthorInfo:!0,showSideBar:!0,author:"narramadan",title:"How to handle different return types from Future and ExecuteService invokeAll() ?",description:"A way to handle different return types from Future and ExecuteService invokeAll()",date:"2020-07-11T10:00:00.000Z",updated:"2020-07-11T10:00:00.000Z",cover:"../../../images/blog-banners/titbits-banner-1200x690.png",category:"titbits",tags:["titbit","java","executorservice"],keywords:["executorservice","java","different return types","executorservice future","executorservice future different return type","java executorservice","narra.madan","narramadan","narra.madan@outlook.com","Madan Narra","Narra Madan"]},r=(p="GithubRepo",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),Object(c.mdx)("div",o({},e))}),N={_frontmatter:d};function l(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(c.mdx)("wrapper",o(o(o({},N),t),{},{components:a,mdxType:"MDXLayout"}),Object(c.mdx)(r,{href:"https://github.com/2much2learn/article_july11_handle-different-return-types-from-future-and-executeservice",mdxType:"GithubRepo"},"handle-different-return-types-from-future-and-executeservice"),Object(c.mdx)("h2",o({},{id:"introduction"}),"Introduction"),Object(c.mdx)("p",null,"Recently I had to stumble upon a requirement to optimize my code to perform parallel calls to multiple downstream systems returning different response objects and stitch to a specific value object. "),Object(c.mdx)("p",null,"There is no common interface implemented by these different response objects and cannot define one as they are auto generated by swagger codegen."),Object(c.mdx)("p",null,"Had to explore options if there is any generic way of doing this, but couldn’t pursue due to time crunch and had to implement in a way which meets my requirement and also optimize my service to perform parallel execution."),Object(c.mdx)("p",null,"Below we shall start going through brief intro about Future, ExecutorService & Executors classes and later provide insights on the solution I had to implement."),Object(c.mdx)("h2",o({},{id:"brief-intro-on-future--executorservice"}),"Brief intro on Future & ExecutorService"),Object(c.mdx)("p",null,"Combining ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"java.util.concurrent.Future<V>")," & ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"java.util.concurrent.ExecutorService")," is an awesome mechanism when trying to optimize the code to complete the compute in short period."),Object(c.mdx)("h3",o({},{id:"javautilconcurrentfuture"}),"java.util.concurrent.Future"),Object(c.mdx)("p",null,Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Future<V>")," is an interface that represents the result of an ",Object(c.mdx)("strong",{parentName:"p"},"asynchronous")," computation. Once the computation is finished, we can obtain the result of it by using the ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"get()")," method."),Object(c.mdx)("p",null,"Calling ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"get()")," method is a ",Object(c.mdx)("strong",{parentName:"p"},"blocking operation")," and waits until the outcome (V) is available. It could take a considerable amount of time."),Object(c.mdx)("p",null,"Instead of wasting time, we can apply two approaches. The first one is using ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"get()")," as well, but setting a ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"timeout")," value as a parameter that will prevent you from getting stuck if something goes away. The second way is by using the ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"isDone()")," method, which takes a quick look at the Future and checks if it has finished its work or not."),Object(c.mdx)("h3",o({},{id:"javautilconcurrentexecutorservice"}),"java.util.concurrent.ExecutorService"),Object(c.mdx)("p",null,Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ExecutorService")," represents an abstraction of ",Object(c.mdx)("strong",{parentName:"p"},"thread pools")," and can be created by the utility methods of the ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Executors")," class. These methods can initialize a number of executors depending on the purpose they will be used for. "),Object(c.mdx)("p",null,"There are several ways to delegate a task to ExecutorService:"),Object(c.mdx)("ul",null,Object(c.mdx)("li",{parentName:"ul"},Object(c.mdx)("p",{parentName:"li"},Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"execute(Runnable)")," – returns void and cannot access the result.")),Object(c.mdx)("li",{parentName:"ul"},Object(c.mdx)("p",{parentName:"li"},Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"submit(Runnable or Callable<T>)")," – returns a Future object. The main difference is that when submitting ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Callable<T>"),", the result can be accessed via the returned Future object.")),Object(c.mdx)("li",{parentName:"ul"},Object(c.mdx)("p",{parentName:"li"},Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"invokeAny(Collection<Callable<T>>)")," – returns the result of one of the ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Callable<T>")," objects that finished its work successfully. The rest of the tasks are canceled.")),Object(c.mdx)("li",{parentName:"ul"},Object(c.mdx)("p",{parentName:"li"},Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"invokeAll(Collection<Callable<T>>))")," – returns a list of ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Future<V>")," objects. All tasks are executed and the outcome can be obtained via the returned result list."))),Object(c.mdx)("p",null,"When all the tasks have finished their work, the threads in ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ExecutorService")," are ",Object(c.mdx)("strong",{parentName:"p"},"still running"),". They are ",Object(c.mdx)("strong",{parentName:"p"},"not destroyed")," yet and are in a ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"standby")," mode. This will keep JVM running. "),Object(c.mdx)("p",null,"For the purpose of bypassing this problem, Java offers you two methods – ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"shutdown()")," and ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"shutdownNow()"),". The key difference between them is the stopping of ExecutorService."),Object(c.mdx)("p",null,Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"shutdown()")," ",Object(c.mdx)("strong",{parentName:"p"},"will not")," stop it immediately and will ",Object(c.mdx)("strong",{parentName:"p"},"wait for")," all running threads to finish. Meanwhile, ExecutorService will not accept new tasks."),Object(c.mdx)("p",null,Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"shutdownNow()")," ",Object(c.mdx)("strong",{parentName:"p"},"will try")," to stop it immediately. It will try to ",Object(c.mdx)("strong",{parentName:"p"},"instantly stop")," all running tasks and to skip the processing of the waiting ones. The method returns a list of all running tasks for which there are no guarantees when they will be stopped."),Object(c.mdx)("h3",o({},{id:"javautilconcurrentexecutors"}),"java.util.concurrent.Executors"),Object(c.mdx)("p",null,Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Executors")," provides factory and utility methods for ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Executor"),", ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ExecutorService"),", ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ScheduledExecutorService"),", ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ThreadFactory"),", and ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Callable")," classes."),Object(c.mdx)("p",null,"This class supports the following kinds of methods:"),Object(c.mdx)("ul",null,Object(c.mdx)("li",{parentName:"ul"},"Methods that create and return an ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"ExecutorService")," set up with commonly useful configuration settings."),Object(c.mdx)("li",{parentName:"ul"},"Methods that create and return a ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"ScheduledExecutorService")," set up with commonly useful configuration settings."),Object(c.mdx)("li",{parentName:"ul"},"Methods that create and return a ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"wrapped ExecutorService"),", that disables reconfiguration by making implementation-specific methods inaccessible."),Object(c.mdx)("li",{parentName:"ul"},"Methods that create and return a ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"ThreadFactory")," that sets newly created threads to a known state."),Object(c.mdx)("li",{parentName:"ul"},"Methods that create and return a ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"Callable")," out of other closure-like forms, so they can be used in execution methods requiring Callable.")),Object(c.mdx)("div",o({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Factory and Utility methods returning instance of ExecutorService"),Object(c.mdx)("div",o({},{className:"gatsby-highlight","data-language":"java"}),Object(c.mdx)("pre",o({parentName:"div"},{className:"language-java"}),Object(c.mdx)("code",o({parentName:"pre"},{className:"language-java"}),Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Creates a thread pool that creates new threads as needed, but will reuse previously constructed threads when they are available."),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService"),"\t",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"newCachedThreadPool"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Creates a thread pool that creates new threads as needed, but will reuse previously constructed threads when they are available, and uses the provided ThreadFactory to create new threads when needed."),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService"),"\t",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"newCachedThreadPool"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ThreadFactory")," threadFactory",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Creates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue."),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService"),"\t",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"newFixedThreadPool"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"int")," nThreads",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Creates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue, using the provided ThreadFactory to create new threads when needed."),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService"),"\t",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"newFixedThreadPool"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"int")," nThreads",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ThreadFactory")," threadFactory",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Creates an Executor that uses a single worker thread operating off an unbounded queue."),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService"),"\t",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"newSingleThreadExecutor"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Creates an Executor that uses a single worker thread operating off an unbounded queue, and uses the provided ThreadFactory to create a new thread when needed."),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService"),"\t",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"newSingleThreadExecutor"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ThreadFactory")," threadFactory",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Returns an object that delegates all defined ExecutorService methods to the given executor, but not any other methods that might otherwise be accessible using casts."),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService"),"\t",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"unconfigurableExecutorService"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ExecutorService")," executor",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")))),Object(c.mdx)("h2",o({},{id:"solution"}),"Solution"),Object(c.mdx)("p",null,"Based on the requirement, we can get instance of ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ExecutorService")," from ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"Executors")," factory methods. We can stick to ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"newFixedThreadPool")," which thread pool that reuses a fixed number of threads operating off a shared unbounded queue."),Object(c.mdx)("p",null,"Consider this use case. There are three services ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ServiceA"),", ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ServiceB")," & ",Object(c.mdx)("code",o({parentName:"p"},{className:"language-text"}),"ServiceC")," which returns objects which are not compatible with each other. These services should be accessed parallelly and then the response from these three services should be collated to a value object which will be returned by the processing method."),Object(c.mdx)("p",null,Object(c.mdx)("figure",o({parentName:"p"},{className:"gatsby-resp-image-figure",style:{}}),"\n    ",Object(c.mdx)("span",o({parentName:"figure"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"329px"}}),"\n      ",Object(c.mdx)("a",o({parentName:"span"},{className:"gatsby-resp-image-link",href:"/static/7265fb0bb1c8b221148b63169b8899cc/004a5/classdiagram.png",style:{display:"block"},target:"_blank",rel:"noopener"}),"\n    ",Object(c.mdx)("span",o({parentName:"a"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"117.17791411042946%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsSAAALEgHS3X78AAADfklEQVQ4y32T23eqVhCH/f/70If2oQ996GqTxhwVQ4y3xBgVkyjxBirIVUAxiiAoiAhsKPEkaTyrljVr77Vmft/MHmbvWPjlC/xwNx9v5eGcaJtTwn4ld/NRtG5npC0PN1MhOKg+9bGvsGf7ntbT1dLvf/wk8tmJmOHpNM+mWRpyrIrQLbte8FV/BAMHbMboSiqKXdgQS0u+qLAFlS8a0r2nVPlm2fVPw4EDNLk14q+GWIIZXQ3xJE2myX5KHOf0RYlGSx4IT1fegbWGTfXSiIL7JCRMC6JcpLlraVYkqRSPVb3/q+wGS7wqvMTZxwvi4U8KOR/VzqjaGV3/W2pc0NW8C07AQfAW0CSR67aEfk8i+ixS51FUHOJCH2M7bXFEheGpY0dw8JH4sDuK7q2376HPCsGJUf2b57D6W8e3nePR/lflAID9SnGNg60VX1d8Y7lfzjx1Hmx1f62+hwzFWS0BAEewb++sSc3bNRzzKXTQzNVvz8jFq5jnKZglIUW+9e2Gaz6HHjrtFzaa/r2FT9i2hRqwmp7RCK0m1bmSyLy1qKrSXWTmvALM5k6t+5snoXVjLFff2/84tr1jG1diB5Jb6UkLWvTgBXY9x2C5nRabyVmUC01ZbMmbVsfVtKH+AO/3SjctidcUDfUHl30iQZDJAZGI7kZkBJUaEgl5VljqJbqdXv8I+/4EuR1UYbyW6ZahFnyOVWA0Gx9UYKJ23ctdYlW4fQ+17lPP2eR2Yx7Bb1P1o9HsHR9slJXOTPZBoPPyZq7ZO1cjBcsw9wA4e2/veifnDBzXX1vvf3G7+5hz4BmbEBw9i0Pl4HCBfBBZ4Liutgk+rppv2r65Cw8IcD1XW38q3wwEsUmn8XR3qY0RVarPh0V52Iukcu8lci7oB3WMzEZ3E7wVOef9LpI/V7iaJtYV5l7C0RiJFJLQLxP2hmNgBosPn8uRjq6XoNSvIvPmJHoXeDUfOaXO02X8Z4HO8AzMEQkcycYMDl2IOeu1ElovQK1x7XqkM8edGXOtCXfh9gXojxxaCUBoCvhSym0XtcBCQ+ORerqLafSLyOUULq/L5RWbZVvI28Ok2xKTnTM5Y3qvjXNMsxw1a/C4xOXVcdGQyxvplnwsxhZUd4Bl6G4aayaw2hnTfoxghcEGHZjFYKzxrY38NWo8RM4VTwx6N1QHwtHksBEf1G//AYga2rt/Yc/fAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(c.mdx)("img",o({parentName:"a"},{className:"gatsby-resp-image-image",alt:"Class Diagram",title:"Class Diagram",src:"/static/7265fb0bb1c8b221148b63169b8899cc/004a5/classdiagram.png",srcSet:["/static/7265fb0bb1c8b221148b63169b8899cc/222b7/classdiagram.png 163w","/static/7265fb0bb1c8b221148b63169b8899cc/ff46a/classdiagram.png 325w","/static/7265fb0bb1c8b221148b63169b8899cc/004a5/classdiagram.png 329w"],sizes:"(max-width: 329px) 100vw, 329px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n  "),"\n    "),"\n    ",Object(c.mdx)("figcaption",o({parentName:"figure"},{className:"gatsby-resp-image-figcaption"}),"Class Diagram"),"\n  ")),Object(c.mdx)("div",o({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Service Classes"),Object(c.mdx)("div",o({},{className:"gatsby-highlight","data-language":"java"}),Object(c.mdx)("pre",o({parentName:"div"},{className:"language-java"}),Object(c.mdx)("code",o({parentName:"pre"},{className:"language-java"}),Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// ServiceA.java"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"package")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token namespace"}),"com",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"toomuch2learn",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"example",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"a"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"class")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ServiceA")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"A")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processA"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"throws")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ClassNotFoundException")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"System"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"out",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"println"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token string"}),'"==> ServiceA :: processA :: Begin"'),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Thread"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"sleep"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token number"}),"2000"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Exception")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Do Nothing"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"System"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"out",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"println"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token string"}),'"==> ServiceA :: processA :: End"'),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"new")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"A"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// ServiceB.java"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"package")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token namespace"}),"com",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"toomuch2learn",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"example",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"b"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"import")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token namespace"}),"java",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"security",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),".")),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"InvalidKeyException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"class")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ServiceB")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"B")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processB"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"throws")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"InvalidKeyException")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"System"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"out",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"println"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token string"}),'"==> ServiceB :: processB :: Begin"'),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Thread"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"sleep"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token number"}),"1000"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Exception")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Do Nothing"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"System"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"out",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"println"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token string"}),'"==> ServiceB :: processB :: End"'),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"new")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"B"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// ServiceC.java"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"package")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token namespace"}),"com",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"toomuch2learn",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"example",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),"c"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"class")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ServiceC")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"C")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processC"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"throws")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"IllegalStateException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"System"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"out",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"println"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token string"}),'"==> ServiceC :: processC :: Begin"'),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Thread"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"sleep"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token number"}),"5000"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Exception")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Do Nothing"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"System"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"out",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"println"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token string"}),'"==> ServiceC :: processC :: End"'),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"new")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"C"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}")))),Object(c.mdx)("div",o({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Processor.java"),Object(c.mdx)("div",o({},{className:"gatsby-highlight has-highlighted-lines","data-language":"java"}),Object(c.mdx)("pre",o({parentName:"div"},{className:"language-java"}),Object(c.mdx)("code",o({parentName:"pre"},{className:"language-java"}),Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"class")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Processor")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"static")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"void")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"main"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"String"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"["),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"]")," args",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Processor")," processor ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"new")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Processor"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ProcessorVO")," vo ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," processor",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processRequest"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"System"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"out",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"println"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"vo",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Exception")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"printStackTrace"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"public")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ProcessorVO")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processRequest"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"throws")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Exception")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ProcessorVO")," vo ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"null"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// List of callable objects to handle different service calls"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"            ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"List"),Object(c.mdx)("span",o({parentName:"span"},{className:"token generics"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Callable"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Object"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"))," servicesToCall ",Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"servicesToCall"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),";")),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Prepare Executor service with fixed thread pool. Lets set to 2, as we have three services to call"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"            ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"ExecutorService")," executorService ",Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Executors"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"newFixedThreadPool"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token number"}),"2"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),";")),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Invoke all callable objects to process them in independent threads asynchronously"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"            ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"List"),Object(c.mdx)("span",o({parentName:"span"},{className:"token generics"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Future"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Object"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"))," futures ",Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"=")," executorService",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"invokeAll"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),"servicesToCall",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),";")),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Shutdown the executor service"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"            executorService",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"shutdown"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),";")),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Loop through the future objects and have the details added to VO based upon the type of instance in future object"),"\n            vo ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"new")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ProcessorVO"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"            ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"for")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Future"),Object(c.mdx)("span",o({parentName:"span"},{className:"token generics"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Object"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"))," future ",Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),":")," futures",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"if"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),"future",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"get"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"instanceof")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"A"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                    vo",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"setValueFromA"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"A"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),"future",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"get"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"valueFromA"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),";")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"}")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"else")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"if"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),"future",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"get"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"instanceof")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"B"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                    vo",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"setValueFromB"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"B"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),"future",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"get"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"valueFromB"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),";")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"}")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"else")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"if"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),"future",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"get"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"instanceof")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"C"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                    vo",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"setValueFromC"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"C"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),"future",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"get"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"valueFromC"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),";")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"                ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"}")),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"            ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"}")),"        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"LambdaWrappedException")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"throw")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"new")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"Exception"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," vo",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"/**"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"     * List of callable objects to handle different service calls"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"     *"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"     * @return List<Callable<Object>>"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"     */"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"    ",Object(c.mdx)("span",o({parentName:"span"},{className:"token keyword"}),"private")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"List"),Object(c.mdx)("span",o({parentName:"span"},{className:"token generics"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Callable"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Object"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"))," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"servicesToCall"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),"        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"List"),Object(c.mdx)("span",o({parentName:"code"},{className:"token generics"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Callable"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token class-name"}),"Object"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">"))," servicesToCall ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"new")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ArrayList"),Object(c.mdx)("span",o({parentName:"code"},{className:"token generics"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),">")),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Request to handle ServiceA"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"        servicesToCall",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"add"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"->")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),"            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"A")," a ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"null"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n                a ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ServiceA"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processA"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ClassNotFoundException")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n                ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"LambdaWrappedException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"throwException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," a",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Request to handle ServiceB"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"        servicesToCall",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"add"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"->")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),"            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"B")," b ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"null"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n                b ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ServiceB"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processB"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"InvalidKeyException")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n                ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"LambdaWrappedException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"throwException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," b",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token comment"}),"// Request to handle ServiceC"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),"        servicesToCall",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"span"},{className:"token function"}),"add"),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"->")," ",Object(c.mdx)("span",o({parentName:"span"},{className:"token punctuation"}),"{")),"            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"C")," c ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"null"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"try")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n                c ",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"ServiceC"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"processC"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"catch")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"IllegalStateException")," e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n                ",Object(c.mdx)("span",o({parentName:"code"},{className:"token class-name"}),"LambdaWrappedException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(c.mdx)("span",o({parentName:"code"},{className:"token function"}),"throwException"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"e",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," c",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n        ",Object(c.mdx)("span",o({parentName:"code"},{className:"token keyword"}),"return")," servicesToCall",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}")))),Object(c.mdx)("p",null,"To Summarize"),Object(c.mdx)("ul",null,Object(c.mdx)("li",{parentName:"ul"},Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"servicesToCall()")," method prepares ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"List<Callable<Object>>")," objects by creating instance of callable using lambda expression for each service call."),Object(c.mdx)("li",{parentName:"ul"},"Instance of ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"ExecutorService")," is created by calling ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"newFixedThreadPool(2)")," factory method from ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"Executors")," class. We configured only ",Object(c.mdx)("strong",{parentName:"li"},"2")," threads in this example as we have ",Object(c.mdx)("strong",{parentName:"li"},"3")," services to call."),Object(c.mdx)("li",{parentName:"ul"},"Prepared list of callable objects is passed to ExecutorService ",Object(c.mdx)("code",o({parentName:"li"},{className:"language-text"}),"invokeAll")," method. This will kickstart the invocation by creating two threads to process the callable objects."),Object(c.mdx)("li",{parentName:"ul"},"Shutdown the ExecutorService."),Object(c.mdx)("li",{parentName:"ul"},"Loop through the future objects. Identify the instance of object retrieved from future object and process accordingly."),Object(c.mdx)("li",{parentName:"ul"},"This way we are able to cater different object return types from future object.")),Object(c.mdx)("p",null,"Running the main method should print something like below:"),Object(c.mdx)("div",o({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Output"),Object(c.mdx)("div",o({},{className:"gatsby-highlight has-highlighted-lines","data-language":"bash"}),Object(c.mdx)("pre",o({parentName:"div"},{className:"language-bash"}),Object(c.mdx)("code",o({parentName:"pre"},{className:"language-bash"}),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"=="),Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),">")," ServiceA :: processA :: Begin"),Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"=="),Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),">")," ServiceB :: processB :: Begin"),Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=="),Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),">")," ServiceB :: processB :: End\n",Object(c.mdx)("span",o({parentName:"code"},{className:"gatsby-highlight-code-line"}),Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),"=="),Object(c.mdx)("span",o({parentName:"span"},{className:"token operator"}),">")," ServiceC :: processC :: Begin"),Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=="),Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),">")," ServiceA :: processA :: End\n",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"=="),Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),">")," ServiceC :: processC :: End\nProcessorVO",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"valueFromA",Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"="),Object(c.mdx)("span",o({parentName:"code"},{className:"token string"}),"'VALUE_FROM_A'"),", ",Object(c.mdx)("span",o({parentName:"code"},{className:"token assign-left variable"}),"valueFromB"),Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"="),Object(c.mdx)("span",o({parentName:"code"},{className:"token number"}),"100"),", ",Object(c.mdx)("span",o({parentName:"code"},{className:"token assign-left variable"}),"valueFromC"),Object(c.mdx)("span",o({parentName:"code"},{className:"token operator"}),"="),Object(c.mdx)("span",o({parentName:"code"},{className:"token number"}),"2020"),"-07-11",Object(c.mdx)("span",o({parentName:"code"},{className:"token punctuation"}),"}")))),Object(c.mdx)("h2",o({},{id:"conclusion"}),"Conclusion"),Object(c.mdx)("p",null,"The solution presented here might not be a proper approach. But this worked for me in one of my project where in there is no common interface available and have to map responses from different downstream APIs."),Object(c.mdx)(r,{href:"https://github.com/2much2learn/article_july11_handle-different-return-types-from-future-and-executeservice",mdxType:"GithubRepo"},"handle-different-return-types-from-future-and-executeservice"))}l.isMDXComponent=!0},zLVn:function(e,a,t){"use strict";function n(e,a){if(null==e)return{};var t,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}t.d(a,"a",(function(){return n}))}}]);
//# sourceMappingURL=component---src-pages-content-articles-titbits-handle-different-return-types-from-future-and-executeservice-index-md-4b890576a77ef5749cad.js.map