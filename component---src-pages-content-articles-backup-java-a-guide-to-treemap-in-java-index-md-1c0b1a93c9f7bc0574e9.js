"use strict";(self.webpackChunk_2much2learn_com=self.webpackChunk_2much2learn_com||[]).push([[2352,7532,4453,2679,8673,325,5841,4911,6699,6036,5824],{74047:function(a,e,n){n.r(e),n.d(e,{_frontmatter:function(){return o},default:function(){return c}});var t=n(63366),s=(n(67294),n(64983)),m=["components"],o={templateKey:"article",published:!1,displayComments:!0,showAuthorInfo:!1,author:"narramadan",title:"A Guide to TreeMap in Java",description:"Detailed article on exploring in and out of TreeMap implementation of Map interface from Java Collections Framework(JCF).",date:"2019-11-06T23:46:37.121Z",updated:"2019-11-06T23:46:37.121Z",cover:"../../../images/blog-banners/Java-banner-1200x690.png",category:"java",tags:["java","map","featured"]},p={_frontmatter:o};function c(a){var e=a.components,n=(0,t.Z)(a,m);return(0,s.mdx)("wrapper",Object.assign({},p,n,{components:e,mdxType:"MDXLayout"}),(0,s.mdx)("h2",{id:"intro"},"Intro"),(0,s.mdx)("p",null,"In this article, we are going to explore TreeMap implementation of Map interface from Java Collections Framework(JCF)."),(0,s.mdx)("p",null,"TreeMap is a map implementation that keeps its entries sorted according to the natural ordering of its keys or better still using a comparator if provided by the user at construction time."),(0,s.mdx)("p",null,"Previously, we have covered HashMap and LinkedHashMap implementations and we will realize that there is quite a bit of information about how these classes work that is similar."),(0,s.mdx)("p",null,"The mentioned articles are highly recommended reading before going forth with this one."),(0,s.mdx)("h2",{id:"default-sorting-in-treemap"},"Default Sorting in TreeMap"),(0,s.mdx)("p",null,"By default, TreeMap sorts all its entries according to their natural ordering. For an integer, this would mean ascending order and for strings, alphabetical order."),(0,s.mdx)("p",null,"Let’s see the natural ordering in a test:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Test"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"givenTreeMap_whenOrdersEntriesNaturally_thenCorrect"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," map ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"3"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"2"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"5"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"4"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n \n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"[1, 2, 3, 4, 5]"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"keySet"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"toString"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Notice that we placed the integer keys in a non-orderly manner but on retrieving the key set, we confirm that they are indeed maintained in ascending order. This is the natural ordering of integers."),(0,s.mdx)("p",null,"Likewise, when we use strings, they will be sorted in their natural order, i.e. alphabetically:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Test"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"givenTreeMap_whenOrdersEntriesNaturally_thenCorrect2"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," map ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"c"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"b"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"a"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"e"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"d"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n \n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"[a, b, c, d, e]"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"keySet"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"toString"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h2",{id:"custom-sorting-in-treemap"},"Custom Sorting in TreeMap"),(0,s.mdx)("p",null,"If we’re not satisfied with the natural ordering of TreeMap, we can also define our own rule for ordering by means of a comparator during construction of a tree map."),(0,s.mdx)("p",null,"In the example below, we want the integer keys to be ordered in descending order:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Test"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"givenTreeMap_whenOrdersEntriesByComparator_thenCorrect"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," map ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," \n      ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Comparator"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"reverseOrder"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"3"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"2"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"5"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"4"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n         \n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"[5, 4, 3, 2, 1]"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"keySet"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"toString"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"A hash map does not guarantee the order of keys stored and specifically does not guarantee that this order will remain the same over time, but a tree map guarantees that the keys will always be sorted according to the specified order."),(0,s.mdx)("h2",{id:"importance-of-treemap-sorting"},"Importance of TreeMap Sorting"),(0,s.mdx)("p",null,"We now know that TreeMap stores all its entries in sorted order. Because of this attribute of tree maps, we can perform queries like; find “largest”, find “smallest”, find all keys less than or greater than a certain value, etc."),(0,s.mdx)("p",null,"The code below only covers a small percentage of these cases:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Test"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"givenTreeMap_whenPerformsQueries_thenCorrect"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," map ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"3"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"2"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"5"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"4"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"val"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n         \n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Integer")," highestKey ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"lastKey"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Integer")," lowestKey ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"firstKey"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Set"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," keysLessThan3 ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"headMap"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"3"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"keySet"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Set"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," keysGreaterThanEqTo3 ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"tailMap"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"3"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"keySet"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n \n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"5"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," highestKey",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," lowestKey",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"[1, 2]"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," keysLessThan3",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"toString"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"[3, 4, 5]"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," keysGreaterThanEqTo3",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"toString"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h2",{id:"internal-implementation-of-treemap"},"Internal Implementation of TreeMap"),(0,s.mdx)("p",null,"TreeMap implements NavigableMap interface and bases it’s internal working on the principles of red-black trees:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TreeMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"K"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"V"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"extends")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"AbstractMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"K"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"V"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"implements")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"NavigableMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"K"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},","),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"V"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Cloneable"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},(0,s.mdx)("span",{parentName:"span",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"io",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),"Serializable")))),(0,s.mdx)("p",null,"The principle of red-black trees is beyond the scope of this article, however, there are key things to remember in order to understand how they fit into TreeMap."),(0,s.mdx)("p",null,"First of all, a red-black tree is a data structure that consists of nodes; picture an inverted mango tree with its root in the sky and the branches growing downward. The root will contain the first element added to the tree."),(0,s.mdx)("p",null,"The rule is that starting from the root, any element in the left branch of any node is always less than the element in the node itself. Those on the right are always greater. What defines greater or less than is determined by the natural ordering of the elements or the defined comparator at construction as we saw earlier."),(0,s.mdx)("p",null,"This rule guarantees that the entries of a treemap will always be in sorted and predictable order."),(0,s.mdx)("p",null,"Secondly, a red-black tree is a self-balancing binary search tree. This attribute and the above guarantee that basic operations like search, get, put and remove take logarithmic time O(log n)."),(0,s.mdx)("p",null,"Being self-balancing is key here. As we keep inserting and deleting entries, picture the tree growing longer on one edge or shorter on the other."),(0,s.mdx)("p",null,"This would mean that an operation would take a shorter time on the shorter branch and longer time on the branch which is furthest from the root, something we would not want to happen."),(0,s.mdx)("p",null,"Therefore, this is taken care of in the design of red-black trees. For every insertion and deletion, the maximum height of the tree on any edge is maintained at O(log n) i.e. the tree balances itself continuously."),(0,s.mdx)("p",null,"Just like hash map and linked hash map, a tree map is not synchronized and therefore the rules for using it in a multi-threaded environment are similar to those in the other two map implementations."),(0,s.mdx)("h2",{id:"choosing-the-right-map"},"Choosing the Right Map"),(0,s.mdx)("p",null,"Having looked at ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"HashMap")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"LinkedHashMap")," implementations previously and now TreeMap, it is important to make a brief comparison between the three to guide us on which one fits where."),(0,s.mdx)("p",null,"A hash map is good as a general purpose map implementation that provides rapid storage and retrieval operations. However, it falls short because of its chaotic and unorderly arrangement of entries."),(0,s.mdx)("p",null,"This causes it to perform poorly in scenarios where there is a lot of iteration as the entire capacity of the underlying array affects traversal other than just the number of entries."),(0,s.mdx)("p",null,"A linked hash map possesses the good attributes of hash maps and adds order to the entries. It performs better where there is a lot of iteration because only the number of entries is taken into account regardless of capacity."),(0,s.mdx)("p",null,"A tree map takes ordering to the next level by providing complete control over how the keys should be sorted. On the flip side, it offers worse general performance than the other two alternatives."),(0,s.mdx)("p",null,"We could say a linked hash map reduces the chaos in the ordering of a hash map without incurring the performance penalty of a tree map."),(0,s.mdx)("h2",{id:"conclusion"},"Conclusion"),(0,s.mdx)("p",null,"In this article, we have explored Java TreeMap class and its internal implementation. Since it is the last in a series of common Map interface implementations, we also went ahead to briefly discuss where it fits best in relation to the other two."),(0,s.mdx)("p",null,"The full source code for all the examples used in this article can be found in the GitHub project."))}c.isMDXComponent=!0},63366:function(a,e,n){function t(a,e){if(null==a)return{};var n,t,s={},m=Object.keys(a);for(t=0;t<m.length;t++)n=m[t],e.indexOf(n)>=0||(s[n]=a[n]);return s}n.d(e,{Z:function(){return t}})}}]);
//# sourceMappingURL=component---src-pages-content-articles-backup-java-a-guide-to-treemap-in-java-index-md-1c0b1a93c9f7bc0574e9.js.map