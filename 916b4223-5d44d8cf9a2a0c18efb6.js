"use strict";(self.webpackChunk_2much2learn_com=self.webpackChunk_2much2learn_com||[]).push([[2337],{9962:function(a,e,n){n.r(e),n.d(e,{_frontmatter:function(){return p},default:function(){return l}});var t=n(63366),s=(n(67294),n(64983)),m=["components"],p={templateKey:"article",published:!0,displayComments:!0,showAuthorInfo:!0,showSideBar:!1,author:"narramadan",title:"A Step by Step guide to create RESTful + Event-driven Microservice using Quarkus + JPA with Postgres database",description:"A detailed Step by Step guide to create RESTful + Event-driven Microservice using Quarkus + JPA with Postgres database",date:"2020-04-23T15:46:37.121Z",updated:"2020-04-23T15:46:37.121Z",cover:"../../../images/blog-banners/quarkus-crud-banner-1200x690.png",category:"microservice",tags:["Java","Quarkus","CRUD","JPA","Microservice","GraalVM","featured"],keywords:["Step by Step guide using Quarkus","Quarkus","CRUD","Java","Java8","Quarkus JPA","Rest API","Java Rest API","CRUD Rest API","Step by Step guide","Quarkus postgres","Resteasy Postgres","CRUD Postgres","Quarkus Kafka","Microservice Kafka","Microservice CRUD","Docker Kafka","Docker Compose Kafka","Kafka java microservice","narra.madan","narramadan","narra.madan@outlook.com","Madan Narra","Narra Madan"]},o=function(a){return function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.mdx)("div",e)}},c=o("GithubRepo"),d=o("ExternalLink"),r={_frontmatter:p};function l(a){var e=a.components,n=(0,t.Z)(a,m);return(0,s.mdx)("wrapper",Object.assign({},r,n,{components:e,mdxType:"MDXLayout"}),(0,s.mdx)(c,{href:"https://github.com/2much2learn/article-apr23-restful-event-driven-microservice-using-quarkus-jpa-kafka",mdxType:"GithubRepo"},"restful-event-driven-microservice-using-quarkus-jpa-kafka"),(0,s.mdx)("h2",{id:"introduction"},"Introduction"),(0,s.mdx)("p",null,"This article focuses on implementing a microservice application which includes RESTful APIs and event-driven interactions."),(0,s.mdx)("p",null,"Application is built using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Quarkus"),", which is a container-first framework optimized for fast boot times and low memory consumption. Along with other supporting ecosystem tools, this article help us to understand the true nature of implementing a microservice."),(0,s.mdx)("p",null,"Below is the representation of what we are planning to achieve part of this article."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/29f44ccfacf4d1144e137fc93e759100/a6d36/quarkus-microservice.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.05521472392638%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOklEQVQoz22SS2/TUBSE/c/4QWy7ZcGGJWLJgpcCYoMKtEXdAG1VQUEqVas0aVOcxs7TseP4cf227/WHHEEfwEizuTpn7pzRaCLKGNo+4XDC4vsRsYhJkpy65grlgz3q9hwF1FJRVoqe6eB6If2hhTlxiKOUqpJoEzfiw8cfmE9e0H3aYrK+iUhSlq7H5WUf0zDJdnTkJMCLQuz5HNtZsn9isHNwzJ27j7j3+C2huyDLSrQ0L4gti8GzFr3Wa6ytbaI0JY4S3MUC27bJUOSqRFYVSimEiMmFIPCWPHy1zcutPapYkKQFWp6XpHmJmDoER11ElBLF+cp+AykVWZKipERKSVHkKAVpnFHkFUUh8YOYKMooVyc7IZ8OdWaLMV+734jjjNAPseY2xkBHiGAl3ohFUYTnLbFsl93jAaY54vPOHkEQIgJBY05z/YiZHfCl1+X+xjpjxyELBVlecNZ36OkW1mzGZDxlNrUQYUwUZ5wZNn39J2tra3TabcokIUkytCzNV3mYlsPJaI7nBwhfoGTFu90Z7z/qGOcd9N4F5+1TjIGJUjVVmjIajtjY2MJdLIkCQZYVaFLVq9uVVKDqVWYNK1lj6H2O2xec9ufsH4456DRuHZpGFaWkqtQq56ZijUZd12jcQM11+ZqP9PMeY8Nk6KQ8b+2xudNjbi+5tbMq7PWe1jz8zQbNWUNzzHQ0ZWZ5nBiC04GHZTlXQv/jLYd/BtVv0TfTPp35DOEHLN0FvufhB8ENZ//iF0cxOOqCKBztAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Designing the Microservice",title:"Designing the Microservice",src:"/static/29f44ccfacf4d1144e137fc93e759100/a6d36/quarkus-microservice.png",srcSet:["/static/29f44ccfacf4d1144e137fc93e759100/222b7/quarkus-microservice.png 163w","/static/29f44ccfacf4d1144e137fc93e759100/ff46a/quarkus-microservice.png 325w","/static/29f44ccfacf4d1144e137fc93e759100/a6d36/quarkus-microservice.png 650w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Designing the Microservice"),"\n  ")),(0,s.mdx)("p",null,"This is a ",(0,s.mdx)("strong",{parentName:"p"},"lengthy article")," which is one stop guide for implementing a microservice to handle both Restful APIs and events using Quarkus. Follow by the steps or jump to specific section as needed."),(0,s.mdx)("p",null,"We will be implementing Catalogue Management Service, which includes restful APIs to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Create"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Read"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Update")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Delete")," Catalogue Items by their SKU ",(0,s.mdx)("em",{parentName:"p"},"(Stock Keeping Unit)")," and also includes ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Events")," handled and triggered to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka Topics"),". We will be using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Postgres")," Database provisioned in a docker container with schema being recreated each time the application boots-up."),(0,s.mdx)("p",null,"Article also includes detailed steps on "),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Configuring ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Maven")," & ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Gradle")," builds."),(0,s.mdx)("li",{parentName:"ul"},"Utilising multiple ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"MicroProfile")," specifications for Production-readiness."),(0,s.mdx)("li",{parentName:"ul"},"Handling/Triggering ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Kafka Topic")," events."),(0,s.mdx)("li",{parentName:"ul"},"Building Native Executables using ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"GraalVM"),"."),(0,s.mdx)("li",{parentName:"ul"},"Integration tests with ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"JUnit5")," & ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"REST-assured"),"."),(0,s.mdx)("li",{parentName:"ul"},"Using ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"TestContainers")," to support Integration tests by creating throwaway instances of Docker Containers."),(0,s.mdx)("li",{parentName:"ul"},"Creating ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Docker")," images and deploying it to ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Kubernetes")," with ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Skaffold"),"."),(0,s.mdx)("li",{parentName:"ul"},"Centralized Logging with ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Graylog"),"."),(0,s.mdx)("li",{parentName:"ul"},"Distributed Tracing with ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Jaeger"),"."),(0,s.mdx)("li",{parentName:"ul"},"Configuring ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"JaCoCo")," for collecting Code Coverage metrics."),(0,s.mdx)("li",{parentName:"ul"},"Test APIs using ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Postman"),".")),(0,s.mdx)("h2",{id:"catalogue-management-system"},"Catalogue Management System"),(0,s.mdx)("p",null,"We will be implementing the below ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CRUD Restful APIs")," to manage items for a Catalogue Management System."),(0,s.mdx)("table",null,(0,s.mdx)("thead",{parentName:"table"},(0,s.mdx)("tr",{parentName:"thead"},(0,s.mdx)("th",{parentName:"tr",align:null},"HTTP ",(0,s.mdx)("br",null)," Method"),(0,s.mdx)("th",{parentName:"tr",align:null},"API Name"),(0,s.mdx)("th",{parentName:"tr",align:null},"Path"),(0,s.mdx)("th",{parentName:"tr",align:null},"Response ",(0,s.mdx)("br",null)," Status Code"))),(0,s.mdx)("tbody",{parentName:"table"},(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"POST"),(0,s.mdx)("td",{parentName:"tr",align:null},"Create Catalogue Item"),(0,s.mdx)("td",{parentName:"tr",align:null},"/"),(0,s.mdx)("td",{parentName:"tr",align:null},"201",(0,s.mdx)("br",null),"(Created)")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"GET"),(0,s.mdx)("td",{parentName:"tr",align:null},"Get Catalogue Items"),(0,s.mdx)("td",{parentName:"tr",align:null},"/"),(0,s.mdx)("td",{parentName:"tr",align:null},"200",(0,s.mdx)("br",null),"(Ok)")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"GET"),(0,s.mdx)("td",{parentName:"tr",align:null},"Get Catalogue Item"),(0,s.mdx)("td",{parentName:"tr",align:null},"/{sku}"),(0,s.mdx)("td",{parentName:"tr",align:null},"200",(0,s.mdx)("br",null),"(Ok)")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"PUT"),(0,s.mdx)("td",{parentName:"tr",align:null},"Update Catalogue Item"),(0,s.mdx)("td",{parentName:"tr",align:null},"/{sku}"),(0,s.mdx)("td",{parentName:"tr",align:null},"200",(0,s.mdx)("br",null),"(Ok)")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"DELETE"),(0,s.mdx)("td",{parentName:"tr",align:null},"Delete Catalogue Item"),(0,s.mdx)("td",{parentName:"tr",align:null},"/{sku}"),(0,s.mdx)("td",{parentName:"tr",align:null},"204",(0,s.mdx)("br",null),"(No Content)")))),(0,s.mdx)("p",null,"And the below ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka Topics")),(0,s.mdx)("table",null,(0,s.mdx)("thead",{parentName:"table"},(0,s.mdx)("tr",{parentName:"thead"},(0,s.mdx)("th",{parentName:"tr",align:null},"Topic"),(0,s.mdx)("th",{parentName:"tr",align:null},"Type"))),(0,s.mdx)("tbody",{parentName:"table"},(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"price-updated"),(0,s.mdx)("td",{parentName:"tr",align:null},"Outgoing")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"product-purchased"),(0,s.mdx)("td",{parentName:"tr",align:null},"Incoming")))),(0,s.mdx)("h2",{id:"technology-stack-used-in-this-article-to-build-and-test-drive-the-microservice"},"Technology stack used in this Article to build and test drive the microservice..."),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-20.0.0/graalvm-ce-java11-linux-amd64-20.0.0.tar.gz",mdxType:"ExternalLink"},"GraalVM JDK 11")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://quarkus.io/",mdxType:"ExternalLink"},"Quarkus v1.3.2")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://microprofile.io/",mdxType:"ExternalLink"},"Eclipse MicroProfile")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://smallrye.io/",mdxType:"ExternalLink"},"SmallRye")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://hibernate.org/orm/",mdxType:"ExternalLink"},"Hibernate v5.4.14")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.oracle.com/technetwork/java/javaee/tech/persistence-jsp-140049.html",mdxType:"ExternalLink"},"JPA v2")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.docker.com/",mdxType:"ExternalLink"},"Docker")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://microk8s.io/",mdxType:"ExternalLink"},"MicroK8s")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://skaffold.dev/",mdxType:"ExternalLink"},"Skaffold")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://kafka.apache.org/",mdxType:"ExternalLink"},"Kafka")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.graylog.org/",mdxType:"ExternalLink"},"Graylog")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.jaegertracing.io/",mdxType:"ExternalLink"},"Jaeger Tracing")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://maven.apache.org/",mdxType:"ExternalLink"},"Maven v3.6.3")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://gradle.org/install/",mdxType:"ExternalLink"},"Gradle v6.1.1")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://www.jetbrains.com/idea/download/#section=windows",mdxType:"ExternalLink"},"IntelliJ Idea v2019.3.2"))),(0,s.mdx)("h2",{id:"why-quarkus"},"Why Quarkus?"),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Quarkus")," is an Open Source stack to write Java applications, specifically backend applications. It is described as ",(0,s.mdx)("em",{parentName:"p"},"A Kubernetes Native Java stack tailored for ",(0,s.mdx)("strong",{parentName:"em"},"OpenJDK HotSpot")," & ",(0,s.mdx)("strong",{parentName:"em"},"GraalVM"),", crafted from the best of breed Java libraries and standards")," and greatly boasted as ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"“Supersonic Subatomic Java”")),"."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Quarkus")," has been designed around a container first philosophy meaning that it is optimised for low memory usage and fast start-up. "),(0,s.mdx)("p",null,"It does this by enabling the following:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"First class support for Graal/SubstrateVM"),(0,s.mdx)("li",{parentName:"ul"},"Build time metadata processing"),(0,s.mdx)("li",{parentName:"ul"},"Reduction in reflection usage"),(0,s.mdx)("li",{parentName:"ul"},"Native image pre boot")),(0,s.mdx)("p",null,"It also makes developers lives a lot easier by allowing:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Unified configuration"),(0,s.mdx)("li",{parentName:"ul"},"Zero config, live reload in the blink of an eye"),(0,s.mdx)("li",{parentName:"ul"},"Streamlined code for the 80% common usages, flexible for the 20%"),(0,s.mdx)("li",{parentName:"ul"},"No hassle native executable generation")),(0,s.mdx)("p",null,"Wired on a standard backbone, it brings the best breed of ",(0,s.mdx)(d,{href:"https://quarkus.io/vision/standards",mdxType:"ExternalLink"},"libraries and standards"),". These standards include ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CDI"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JAX-RS"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ORM"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JPA")," and many more and instead of a whole application server the applications are run in an optimized runtime either via a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Java runtime"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"native executable")," or a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"native image"),"."),(0,s.mdx)("h3",{id:"eclipse-microprofile"},"Eclipse MicroProfile"),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Eclipse MicroProfile")," is an initiative that aims to optimize Enterprise Java for the Microservices architecture. It’s based on a subset of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Jakarta EE WebProfile APIs"),", so we can build ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"MicroProfile "),"applications like we build Jakarta EE ones."),(0,s.mdx)("p",null,"The goal of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"MicroProfile")," is to ",(0,s.mdx)("strong",{parentName:"p"},"define standard APIs")," for building microservices and deliver portable applications across multiple MicroProfile runtimes."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"SmallRye"),"is vendor-neutral implementation of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"MicroProfile")," for Helping Java Developers deliver for tomorrow."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Quarkus")," has ",(0,s.mdx)("strong",{parentName:"p"},"extensions")," for each of the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"SmallRye")," implementations, enabling a user to create a Quarkus application using SmallRye, and thus Eclipse MicroProfile."),(0,s.mdx)("p",null,"Below are few of the MicroProfile specifications that are being used in this application through the SmallRye Health extension:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://microprofile.io/project/eclipse/microprofile-config",mdxType:"ExternalLink"},"Config")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://microprofile.io/project/eclipse/microprofile-health",mdxType:"ExternalLink"},"Health")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://microprofile.io/project/eclipse/microprofile-metrics",mdxType:"ExternalLink"},"Metrics")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://microprofile.io/project/eclipse/microprofile-reactive-messaging",mdxType:"ExternalLink"},"Reactive Messaging")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)(d,{href:"https://microprofile.io/project/eclipse/microprofile-opentracing",mdxType:"ExternalLink"},"Open Tracing"))),(0,s.mdx)("h2",{id:"tldr"},"TL;DR"),(0,s.mdx)("p",null,"For those who want to see the end result of this application, watch this video with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"playback speed set to 2")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"fast-forward")," if needed. You might observe nothing happening which is because of provisioning test containers during integration tests and long build time for native images."),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://youtu.be/KyKnkZvtX58"},"https://youtu.be/KyKnkZvtX58")),(0,s.mdx)("p",null,"As observed, below are series of steps performed to test drive the microservice application. It gives high level understanding on what we are planning to go through in this article."),(0,s.mdx)("p",null,"Do ensure to perform Prerequisites before trying out these commands !!!"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Commands used while recording screencast"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Build native image. This will execute tests, capture code coverage and create native executable"),"\n$ mvn clean package -Pnative\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Start Postgres docker container."),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," start pgdocker\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Bring Kafka cluster up"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/kafka-docker-compose.yaml up -d\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Start Graylog centralized logging"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/graylog-docker-compose.yaml up -d\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Start Jaeger Tracing"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/jaeger-docker-compose.yaml up -d\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Run native executable"),"\n$ ./target/catalogue-crud-1.0.0-SNAPSHOT-runner\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Launch postman, import collection and launch collection runner"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Login to kafka cluster by its container id"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"exec")," -it ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"<"),"CONTAINER_ID",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," /bin/bash\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Postman > Create catalogue item with inventory 10"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Publish product-purchased event"),"\n$ ./bin/kafka-console-producer.sh --broker-list localhost:9092 --topic product-purchased\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Postman > Get Catalogue Item > verify inventory changed to 9"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Postman > Update price of catalogue item"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Consume price-updated event"),"\n$ ./bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic price-updated --from-beginning\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Access Graylog and verify captured logs"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," http://127.0.0.1:9000 admin/admin\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Access Jaeger and verify captured traces"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," http://127.0.0.1:16686\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Shutdown native executable"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Run skaffold to build docker image and deploy it to kubernetes"),"\n$ skaffold run\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Watch how pod gets created and status changed to running"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"watch")," k get pods\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# launch Postman collection runner"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Bring down kubernetes pod"),"\n$ skaffold delete\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Bring down kafka cluster"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/kafka-docker-compose.yaml down\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Bring down graylog"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/graylog-docker-compose.yaml down\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Bring down jaeger"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/jaeger-docker-compose.yaml down\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Bring down postgres"),"\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," stop pgdocker"))),(0,s.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,s.mdx)("p",null,"Microservice referred in this article is built and tested on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Ubuntu OS"),". If you are on windows and would like to make your hands dirty with Unix, then I would recommend going through ",(0,s.mdx)(d,{href:"https://2much2learn.com/configure-java-dev-env-on-dual-boot-ubuntu-with-windows-10/",mdxType:"ExternalLink"},"Configure Java development environment on Ubuntu 19.10")," article which has detailed steps on setting up development environment on Ubuntu."),(0,s.mdx)("p",null,"At the least, you should have below softwares and tools installed to try out the application:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Docker "),"& ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Docker Compose")),(0,s.mdx)("li",{parentName:"ul"},"Flavour of Lightweight Kubernetes - ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"microk8s")," (or) ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"minikube")," (or) ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"k3s"),"."),(0,s.mdx)("li",{parentName:"ul"},"Google ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Skaffold")," for building, pushing and deploying your application.")),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Prechecks"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," -v\nDocker version ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"19.03"),".6, build 369ce74a3c\n\n$ kubectl version\nClient Version: version.Info",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"Major:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1"'),", Minor:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"18"'),", GitVersion:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"v1.18.1"'),", GitCommit:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"7879fc12a63337efff607952a323df90cdc7a335"'),", GitTreeState:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"clean"'),", BuildDate:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2020-04-08T17:38:50Z"'),", GoVersion:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"go1.13.9"'),", Compiler:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"gc"'),", Platform:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"linux/amd64"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\nServer Version: version.Info",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"Major:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"1"'),", Minor:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"18"'),", GitVersion:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"v1.18.1"'),", GitCommit:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"7879fc12a63337efff607952a323df90cdc7a335"'),", GitTreeState:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"clean"'),", BuildDate:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"2020-04-08T17:30:47Z"'),", GoVersion:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"go1.13.9"'),", Compiler:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"gc"'),", Platform:",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"linux/amd64"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n$ skaffold version\nv1.7.0"))),(0,s.mdx)("h3",{id:"start-postgresql"},"Start PostgreSQL"),(0,s.mdx)("p",null,"We shall provision PostgreSQL docker container and point to it in application datasource configuration."),(0,s.mdx)("p",null,"Before provisioning PostgreSQL container, we need to create a data container with a mounted volume which will be used to store the database that we create. Execute the below command to create a data container."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Create Volume"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," create -v /article_postgres_docker --name PostgresData alpine"))),(0,s.mdx)("p",null,"Executing the below command with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker run")," will pull the image and start the container with name ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"pgdocker"),". PostgreSQL stores its data in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"/var/lib/postgresql/data"),", so we are mounting the created data container volume with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"--volume-from")," flag. Also, as seen we are exposing port ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"5432")," (the PostgreSQL default) and running the container in detached (",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"-d"),") mode (",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"background"),"). Password to be used for the database is configured with the environment variable ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"POSTGRES_PASSWORD"),"."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Start Docker Container"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," run -p ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"5432"),":5432 --name pgdocker -e ",(0,s.mdx)("span",{parentName:"code",className:"token assign-left variable"},"POSTGRES_PASSWORD"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"="),"password -d --volumes-from PostgresData postgres"))),(0,s.mdx)("p",null,"Run the below command with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker exec")," to create ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"cataloguedb")," database which we will configure in our microservice."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Create database"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"exec")," pgdocker psql -U postgres -c ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"create database cataloguedb"')))),(0,s.mdx)("p",null,"You may refer to my other article on ",(0,s.mdx)(d,{href:"https://2much2learn.com/setting-up-postgressql-with-docker-on-windows-10/",mdxType:"ExternalLink"},"Setting up PostgreSQL with Docker")," for additional details."),(0,s.mdx)("h3",{id:"start-kafka-cluster"},"Start Kafka Cluster"),(0,s.mdx)("p",null,"Use below command to start ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka Cluster")," using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Docker Compose")," with instructions provided in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"kafka-docker-compose.yaml")," file provided with the application codebase."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Bring Kafka Cluster up in detached mode"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/kafka-docker-compose.yaml up -d"))),(0,s.mdx)("p",null,"Verify if Kafka cluster is started and working as expected."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Hop onto kafka bash shell"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"exec")," -it ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"<"),"CONTAINER_ID",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," /bin/bash"))),(0,s.mdx)("p",null,"Test drive if Kafka Cluster is started as expected by creating topic and able to publish & consume messages from the topic."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Create a topic"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./bin/kafka-topics.sh --create --bootstrap-server localhost:9092 --replication-factor ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1")," --partitions ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1")," --topic ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"test")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"List Topics"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./bin/kafka-topics.sh --list --bootstrap-server localhost:9092"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Send some messages"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./bin/kafka-console-producer.sh --broker-list localhost:9092 --topic ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"test"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," Test Message ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," Test Message ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"2")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Start Consumer and get messages from beginning"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ./bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"test")," --from-beginning"))),(0,s.mdx)("p",null,"If messages sent to topic is listed from consumer, then Kafka cluster is started successfully with docker compose."),(0,s.mdx)("h3",{id:"centralized-logging-with-greylog"},"Centralized Logging with Greylog"),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Graylog")," is a powerful platform that allows for easy log management of both structured and unstructured data along with debugging applications. It is based on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Elasticsearch"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"MongoDB")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Scala"),". Graylog has a main server, which receives data from its clients installed on different servers, and a web interface, which visualizes the data and allows working with logs aggregated by the main server."),(0,s.mdx)("p",null,"Use below command to start ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Graylog")," along with MangoDB and Elasticsearch using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Docker Compose")," with instructions provided in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker-compose/graylog-docker-compose.yaml")," file provided with the application codebase."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Bring Graylog Services up in detached mode"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/graylog-docker-compose.yaml up -d"))),(0,s.mdx)("p",null,"This will start all three Docker containers. Open the URL ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"http://127.0.0.1:9000")," in a web browser and log in with username ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"admin")," and password ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"admin")," to check if graylog is booted up as expected."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/9a7639556667a57e0cbf900587b54d5c/620ae/graylog-ui.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"46.62576687116564%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABMklEQVQoz3XQz0vDMBTA8f4N0uFoGXrUP0hQUCce9SZbB+3f5cnV+zqQIXgd7pB13Uyal/5M2ibabsLm5pfP6cHjhWhiMOCWVfR6pdXn/X7e4JZV2bZ0nMpxZKOy7X3aw9n508lpt92+Mc2uad4aRtc07zqda8O4N9qPx0cXun6l65drrdY2beh5r97Y9bzhHrc22hmORts0wHiB0Mr3l77PCFkghIMACPkKggVCMWNKKSmlWttNwxgDAKUUmiilJMQUaEgh/J2sA4BoN40BhJlYJSJIeKOopFK1SsqyKAr1f1qaJiyKl5gSiCikczz/QO47enue4pdPzOKY75XnOee8Xs6yLE6yKMkqWd+jKZuRyYxOx8t0skp5cSAhRJ7nm2UhCiE2zzv0L3+TUpZl+bP8Db8OuWJ7XvRoAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Graylog UI",title:"Graylog UI after login with default credentials admin/admin",src:"/static/9a7639556667a57e0cbf900587b54d5c/a6d36/graylog-ui.png",srcSet:["/static/9a7639556667a57e0cbf900587b54d5c/222b7/graylog-ui.png 163w","/static/9a7639556667a57e0cbf900587b54d5c/ff46a/graylog-ui.png 325w","/static/9a7639556667a57e0cbf900587b54d5c/a6d36/graylog-ui.png 650w","/static/9a7639556667a57e0cbf900587b54d5c/e548f/graylog-ui.png 975w","/static/9a7639556667a57e0cbf900587b54d5c/620ae/graylog-ui.png 1043w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Graylog UI after login with default credentials admin/admin"),"\n  ")),(0,s.mdx)("p",null,"Follow below steps to start capturing logs published to Graylog"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Navigate to ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"System > Inputs"),"."),(0,s.mdx)("li",{parentName:"ul"},"Select ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"GELF UDP")," from Input dropdown and click ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Launch New Input"),"."),(0,s.mdx)("li",{parentName:"ul"},"Check ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Global")," checkbox, give a ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"name")," and click ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Save"),".")),(0,s.mdx)("h3",{id:"distributed-tracing-with-jaeger"},"Distributed Tracing with Jaeger"),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Jaeger")," is open source, end-to-end ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"distributed tracing"),". It is used for monitoring and troubleshooting microservices-based distributed systems, including:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Distributed context propagation"),(0,s.mdx)("li",{parentName:"ul"},"Distributed transaction monitoring"),(0,s.mdx)("li",{parentName:"ul"},"Root cause analysis"),(0,s.mdx)("li",{parentName:"ul"},"Service dependency analysis"),(0,s.mdx)("li",{parentName:"ul"},"Performance / latency optimization")),(0,s.mdx)("p",null,"Use below command to start ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Jaeger")," using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Docker Compose")," with instructions provided in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker-compose/jaeger-docker-compose.yaml")," file provided with the application codebase. ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"all-in-one")," docker image is used in compose file and hence everything is bundled and booted into single container."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Bring Jaeger Services up in detached mode"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/jaeger-docker-compose.yaml up -d"))),(0,s.mdx)("p",null,"Open the URL ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"http://127.0.0.1:16686")," in a web browser to check if Jaeger is booted up as expected."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/8422b60afc4122e1781e3f9b7c94d20e/227ba/jaeger-ui.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"35.58282208588957%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABLElEQVQY023P3UoCQRjG8b2AQJQIce1A80q8Kg9Cb8fTvIFdkvwAkW1PW8U1E53aiWlnxvl+w4mgwN/5n4cnCJu3nU6nUqn0+/3FYhFFURTHaZreDwZXvV5zOLzudu8ajZt6PQzDVqvVbrfDMKxWq7VaLXgYjebz2WMcJ0mSZdmLt8qy5zQdr9czhOLlcjqZPE3O5t50Oh17QfFRCACitbWWEIIQopRKKY0xAADOlcYY5+CSYLPJ90WRI0TKkhCCMf7yhBDWOcaF1pop5axFlDEpwTn7K9jk28PxgBBinEtPCME5V0oZDwA+hTDWXljO8y3nDGNMKdVaK08IIaUEgCNliHF8EkfGE/RenE7nK3/jvUf/+4mNdW9luSpwsttH+evuqwQAbUxZUqXUN6QVYs1PQ3w+AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Jaeger UI",title:"Jaeger UI",src:"/static/8422b60afc4122e1781e3f9b7c94d20e/a6d36/jaeger-ui.png",srcSet:["/static/8422b60afc4122e1781e3f9b7c94d20e/222b7/jaeger-ui.png 163w","/static/8422b60afc4122e1781e3f9b7c94d20e/ff46a/jaeger-ui.png 325w","/static/8422b60afc4122e1781e3f9b7c94d20e/a6d36/jaeger-ui.png 650w","/static/8422b60afc4122e1781e3f9b7c94d20e/227ba/jaeger-ui.png 769w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Jaeger UI"),"\n  ")),(0,s.mdx)("h2",{id:"bootstrapping-project-with-quarkus-code"},"Bootstrapping Project with Quarkus Code"),(0,s.mdx)("p",null,"Jump to ",(0,s.mdx)(d,{href:"https://code.quarkus.io/",mdxType:"ExternalLink"},"code.quarkus.io")," to configure our application with Maven/Gradle along with all extensions that we are planning to include."),(0,s.mdx)("p",null,"Update ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Group"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Artifact"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Package Name")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Build Tool")," of your choice. Select the below extensions and click on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Generate your application")," button. This should download the zip file. Extract to specific location of your choice."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/82dd446b3605d963bbab90264375395d/cab43/quarkus-code-generation.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"101.22699386503066%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA+wAAAPsAHpfpy9AAADXklEQVQ4y2WRa0/bdhSH/baFJOSO/Y+d+Jr4fo9jBzu+5kKgrJ1Km0FoKE2TiXHTNImWFqq1aNI2TfsA+7BTi4ogSM+LI/306Bz9DvTjb/95b/61X//TmvxtTf6yJ382d/+oP70C3fPa+nvqySWxdYVvXeFPPhGbl/jGBTF8h6+/w4fv8eEFVH/6wRpf6z99UUZfpBef9Z1rc+ezMfrdGV9zW+dofIJ1z9D4FE3OsO6vWHxci0+qyenXoXsG8c/Ord0rc/RR3b4wXn5o730yRpfis3Nr9LE+PIPdt6g/w6PDanSIBofA/xn158CbIp050plB9OAUxEcgnFODY2pwRPV/QcN5ae0NSE6w+AhZ28eDKbt+LG6ekuEMBPNKZwo7e6vea3htApH+ARbOEG9CJDMifosFB0VnXGrvwf60Es1hfwr8fTya1rxXhL+PtPfK5stSa5QztwvmNkR7r/DeEZXM2d6s6o5XnTHsHyDBQcWfVIP9irsL1nYIf6/mjcvmc2A9rzov4NY22zuoejsQIvZhZaMoDkrSoMzHGTbOS+sF/YeivlmSeitsuMJFOaGbE5IsH2fFJCf1s3xckPsrYg+iNZ9tRpTqc1Yi2H1aC5YBv4Twy4B/DLO0HgLOeQRzKVS6Jf19gAilUzcjUu3QWsAYIa54JdookFqe0LI1BeWdRjOhtIhQA0x086SRQuU0ptwAAa5VJLU8rmSrcoFUS5QOM2aZNvKEWiA10GgxWiDYPUrzM6iQrggpwN8CwfUmKrRR3kF5J1tTUhXhhjQqLgMekULGiBpmTCheGhVv0xsgSvVFp89ZCW93y4yZw9U8od2QrcoI16b1kNaDuhkVKX0J4e7JuOzhsotLLmclJcpYBvzdGBZ8rtVjmzGpdHKEupBCjB4o7lB1h3UjrIrtDCbdjUHDapgRayU5XHm02lg8m1Q7XKvbMONsTX4McwsxYO26EX0rLFhttFeqyt3lEKl0pPZAXlsvM+YyEBZkhG0x+tfOWLnDiyFGmEv3ZNVX3SFrJQvaXZm3e0VSz6BC5n7hEC67gt1j9KDMGA9luGF9O7tL60GqIjwozAj1zgZrDxirn7qf3ciNZiw6fdHpl+nFX0C5mpLH1TQmp1D54eZVxqxwNso7uORWWHtB/h+GNeJ/ZZrTVQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Extensions selected for this application",title:"Extensions selected for this application",src:"/static/82dd446b3605d963bbab90264375395d/a6d36/quarkus-code-generation.png",srcSet:["/static/82dd446b3605d963bbab90264375395d/222b7/quarkus-code-generation.png 163w","/static/82dd446b3605d963bbab90264375395d/ff46a/quarkus-code-generation.png 325w","/static/82dd446b3605d963bbab90264375395d/a6d36/quarkus-code-generation.png 650w","/static/82dd446b3605d963bbab90264375395d/cab43/quarkus-code-generation.png 755w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Extensions selected for this application"),"\n  ")),(0,s.mdx)("h2",{id:"configure-intellij-idea"},"Configure IntelliJ IDEA"),(0,s.mdx)("p",null,"Extract the downloaded maven/gradle project achieve into specific location. Import the project into IntelliJ Idea by selecting pom.xml which will start downloading the dependencies."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"424px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/47516a5ef4ec7a31d71c9e45d7bd72d3/1cfa9/intellij_import_pomxml.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"113.49693251533743%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADEUlEQVQ4y5VVa2vcOBT1z8r4JduyJT8ly/bMpE6asGkpLRQWsrQL/bDQtNAu7H7YX3zKvfNg3ExS9sNBI8318bkPHXur3CIrDZrOQNctVNWg6SzSXMGPBII4WSAU6SMEkUCcZhBZDs9PCmSqgiw0pCqRyIIRp3KHJOOVgmk9kB7JaU0LRHt4aV6woqo1sMOEQleIEnqb5BeQUlJdNh3qzuIiiJaqSZ12iOstwrwjQoV+nBh2GDFutse9m9YM4wYM681xTzF0dtjbYUBjLHJdwaOUclVCKg0zTDBuRGd7WDegbFpkVIpCI9e7GAJlkRWKMyBQDGW6q2EkuPirMObU3PYKVdtxCVrbQ6SS/zvE7WLFYn8K77TIpGiab7imjenR9Q6t2anVdXO2w4tux8mSkBSOl9dMRqStdag7w6RUo9PunhunI+HhgCRTN7thfVRIe1XWCEXyeGROlJ0lpJUGtLED3HZmIjqjF/388P8glKhai2E7I90POM3lU7fkWcJD2kIqmOkSvRt53pIsf/ra8XmCYH8F903JjmCVqkE938HYHqruducnMWeRSIg0hxeEIfzgAn6wQhCu4PsXSLMEvXNQWiGTKeI4RBCsOOY8LhBGPgqt4MV6A7n+ADndIxvvIfrfIbcfYV5/Rn/7CePdX2iuPyGj/6c/zmO8R779E9X4Cp5oblC8/A45P6C8/Yb+7X+oX/+D9t2/aG8fUN88oLj6gvzqK4onkF99gb79G/XmPbwgilh2LCJ01sBNI7qugTUtZC4hEgE/8BGET4OeD6MASut9l0WKQtcY5xt0bmSbkqriS0/e6EfJsw2h56NkZ3fHsSEHGV9cs9vUrWErIsKirNgTd3HpT+ty5BZ3mWzMbma0boLpHdy4hnUj+yJZ1nODvSBk2yF7CmOkqoSqW+iqga5qVl2UNXsf+R3dnExKJFkGkab8m+0tiNjimJDSKluz+CAdvO3xhynBqr1DNn9EOn/Aqv0NZd2gnzboxzVn4lHR87L65V2lutEHaVVeInZvINwb+OUlcq3RsM1ZbuAPq+hCAtLfgfAAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Import pom.xml",title:"Import pom.xml",src:"/static/47516a5ef4ec7a31d71c9e45d7bd72d3/1cfa9/intellij_import_pomxml.png",srcSet:["/static/47516a5ef4ec7a31d71c9e45d7bd72d3/222b7/intellij_import_pomxml.png 163w","/static/47516a5ef4ec7a31d71c9e45d7bd72d3/ff46a/intellij_import_pomxml.png 325w","/static/47516a5ef4ec7a31d71c9e45d7bd72d3/1cfa9/intellij_import_pomxml.png 424w"],sizes:"(max-width: 424px) 100vw, 424px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Import pom.xml"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"321px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/ddfac786d2f400ba0fef7355d73b8835/30592/intellij_import_pomxml_project.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.809815950920246%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSElEQVQoz3VR20rDQBTMV9maNMkm2c3mtrckrUlpq0LB0lYRfPEDfFLEgo9+7Eg3tAjqwzBnzy4z58w6bjaFxxSk1qh0DakNhK4RJRReQDAJo1/42T/VlOeWnbEf4yJMEdEUYZQgiBKQhJ0fH+H64bn+T9wn8SA4YQXGz18YrZ4QhASl1OBFZTkrJfJKQJoGlTIohYIX/m1wqh0vTjG6f8Vlt0FEAjRtC9M0UEpCKg3TtFB1O7BpII7CUlmTrKjOwic41iHicKMcLpXwuUGQ1RYh13Z9ktAhkpjac8y4hY2GDOseoxpWThXI+g3m8RPZ5h1i/wH9cECxO8BfvYCVCv1iiX6xwqyfY3FzC1k39hPMtMN8eW3vhWmsqDOJOYL6Drzfg11twWZb8G4H1u3g6zUI5TbHQijk5cAsK+x0aV4O/UqA8sxO+g3LmwPFvaMAZQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Import pom.xml as Project",title:"Import pom.xml as Project",src:"/static/ddfac786d2f400ba0fef7355d73b8835/30592/intellij_import_pomxml_project.png",srcSet:["/static/ddfac786d2f400ba0fef7355d73b8835/222b7/intellij_import_pomxml_project.png 163w","/static/ddfac786d2f400ba0fef7355d73b8835/30592/intellij_import_pomxml_project.png 321w"],sizes:"(max-width: 321px) 100vw, 321px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Import pom.xml as Project"),"\n  ")),(0,s.mdx)("p",null,"This should show the below project structure"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"385px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/40aaff3459645920601f98226a8f31c5/409e6/intellij_project_strcuture.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"161.96319018404907%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAIAAACdAM/hAAAACXBIWXMAAA+wAAAPsAHpfpy9AAADkklEQVQ4y5WUa2/cRBSG/SMoEt/4RFVKkABBm6w9V4/nfvV4fNndZLcJBan//3vxbgShatJUenV0ZuzH53iO/VaMi7i/FS4aF7QLxkftvA3JnKJ2XrvQDyWXqczbmHLKQ0g9ooyyrqohEi75YWn5BpLNBpANQDXEAJMGEYApJC3ELcAUUQYQBXhVjdbbqhpiJmQct9opbRUTSmgjtEG0PT+lhngD8Dm5X55jA1dYWZ/mndCOMIlbzrhsuQSE/gt/Viu8AQgzHstkQlr7gfiyBlcNfAKrH1RGG4BoJ9I4xzwKbRFpG0SeD2OAaadMGHfSOOMC+CoYYkqUa/JeWQcw+bq2IWmFdsNUzGmwyvrmOfB6pAAL7WJZrA2Q0AaS88k9KrBqhVvTMSdEUP1Nce9MGCP3khrW2u4xMSeYl0Sxiiehi5JZmcmM78vy5z4swS8hblPap/46p10K2xi2Ke5Svs5xG9WgdFFd4BWPQg4rLHoZ5n663Y+Hebgp5aaEJfT7nHa9n8MKb1Pe57RNopciy84/hLPSg467obw/jIcyHSczWj0YNWhTrC5rcqpp7ejc5P5XeVUSfE7m77vhOg+HsRyn6TiVw1gO03iclrvdfLuMxzUfDiMPvBKBqyxVL1WvVBJyTu6vu+UwTsd5OpTpMM7HaXk3z8dpWjencp1VL2QvO99V1rTLoD6Eqxwv+/jWaWg18eZe7pxYuuYarzpvWqIEqgBCCOM+ZxdCiEEbjzAFiABEIMZPqIGwugKoRsSkgQkkNGQC4LYhbENYvTn9uo/p6v4LQ8T1hQkqNFWWnarWiMDnfZ4Qpzxpl7RLxvctVw1qP3GPR2EAyTYV56OLq+NJbXHLnraR/+AGkVhmJrVxgQl5WYMvln0IU9cXZYO2/jke8uk7+zxyqaW22jom5Bd7Xq13NQOAakxBmpH0iFss7HkMj2kD7pPLujnBkKg4cOOFDUyaTupOnA3cSm2FNso6rjSXWhjTcim1VcZTxs9tEztf29hbH4wLUlvCOO0E7SQTquWSdqLlknRi1XpJ0k4i0lYNhABiNe5dTDH1LgRjHcSkgQhA1EDYrBGdl+B+c411A6pfa/Ib7IyIoHONCDX3m87/Urev/4A/vUFP6OINqH542/0ohlfQv2rMy9q8rPVr5L//vXtxAb/9Gb64AJ/VNxfgu4u6qgFsl1sZs/PB+qit184r63zKbcefmNk/o/oI33UHfhfpgZcAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Intellij Project Structure",title:"Intellij Project Structure",src:"/static/40aaff3459645920601f98226a8f31c5/409e6/intellij_project_strcuture.png",srcSet:["/static/40aaff3459645920601f98226a8f31c5/222b7/intellij_project_strcuture.png 163w","/static/40aaff3459645920601f98226a8f31c5/ff46a/intellij_project_strcuture.png 325w","/static/40aaff3459645920601f98226a8f31c5/409e6/intellij_project_strcuture.png 385w"],sizes:"(max-width: 385px) 100vw, 385px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Intellij Project Structure"),"\n  ")),(0,s.mdx)("p",null,"Post importing based on the build system being used, dependencies will be downloaded and ready for execution."),(0,s.mdx)("p",null,"We will be heavily relying on ",(0,s.mdx)(d,{href:"https://projectlombok.org/",mdxType:"ExternalLink"},"Project Lombok"),", which is a Java Library which makes our life happier and more productive by helping us to never write another getter or equals method again, constructors which are so repetitive. The way Lombok works is by plugging into our build process and autogenerating Java bytecode into our .class files as per a number of project annotations we introduce in our code. "),(0,s.mdx)("p",null,"Below is sample Lombok code for a POJO class:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Data"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@AllArgsConstructor"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@RequiredArgsConstructor"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"staticName ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"of"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Long")," id",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," name",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@Data")," is a convenient shortcut annotation that bundles the features of ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@ToString"),", ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@EqualsAndHashCode"),", ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@Getter")," / ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@Setter")," and ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@RequiredArgsConstructor")," all together."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@AllArgsConstructor")," generates a constructor with 1 parameter for each field in your class. Fields marked with @NonNull result in null checks on those parameters."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@RequiredArgsConstructor")," generates a constructor with 1 parameter for each field that requires special handling.")),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"IDE Plugins")),(0,s.mdx)("p",null,"Install Lombok plugin in ",(0,s.mdx)(d,{href:"https://projectlombok.org/setup/intellij",mdxType:"ExternalLink"},"IntelliJ Idea")," or ",(0,s.mdx)(d,{href:"https://projectlombok.org/setup/eclipse",mdxType:"ExternalLink"},"Eclipse")," to start using the awesome features it provides."),(0,s.mdx)("h2",{id:"replace-applicationproperties-with-applicationyml"},"Replace application.properties with application.yml"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"YAML")," is a superset of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JSON"),", and as such is a very convenient format for specifying hierarchical configuration data. "),(0,s.mdx)("p",null,"Quarkus supports YAML configuration since ",(0,s.mdx)(d,{href:"https://github.com/smallrye/smallrye-config",mdxType:"ExternalLink"},"SmallRye Config")," provides support for it when we add ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus-config-yaml")," extension."),(0,s.mdx)("p",null,"Replace ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"application.properties")," with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"application.yml")," under ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/main/resources"),"."),(0,s.mdx)("p",null,"Below is already part of pom.xml when selecting the below extension and generating code:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-config-yaml",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},"quarkus:\n\n  # load Custom Banner - Generated at http://patorjk.com/software/taag/#p=display&f=Slant&t=Catalogue%20CRUD\n  banner:\n    path: banner.txt"))),(0,s.mdx)("h3",{id:"configuring-multiple-profiles"},"Configuring multiple profiles"),(0,s.mdx)("p",null,"Quarkus supports the notion of configuration profiles. These allow us to have multiple configuration in the same file and select between them via a profile name."),(0,s.mdx)("p",null,"By default Quarkus has three profiles, although it is possible to use as many as you like. The default profiles are:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"dev - Activated when in development mode (i.e. quarkus:dev)"),(0,s.mdx)("li",{parentName:"ul"},"test - Activated when running tests"),(0,s.mdx)("li",{parentName:"ul"},"prod - The default profile when not running in development or test mode")),(0,s.mdx)("p",null,"Below is sample configuration for ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"test")," profile:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token comment"},"### Test Configuration ####"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},'"%test"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"quarkus"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Datasource configuration"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"datasource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"db-kind"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," postgresql\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"jdbc"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"driver"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," org.testcontainers.jdbc.ContainerDatabaseDriver\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"url"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," jdbc",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"tc",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"postgresql",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"latest",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"///cataloguedb"))),(0,s.mdx)("p",null,"Observe ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"%test")," is enclosed with double quotes. This is how we can configure custom profiles and choose them loaded when running the application as below:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Packaging"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bashusing maven"},(0,s.mdx)("pre",{parentName:"div",className:"language-bashusing maven"},(0,s.mdx)("code",{parentName:"pre",className:"language-bashusing maven"},"$ mvn package -Dquarkus.profile=prod-aws`\n\nThe command will run with the prod-aws profile. This can be overridden using the quarkus.profile system property."))),(0,s.mdx)("h2",{id:"adding-additional-dependencies-to-maven"},"Adding additional dependencies to maven"),(0,s.mdx)("p",null,"Apart from the dependencies that are included in pom.xml, include the below ones which will be used for our implementation."),(0,s.mdx)("p",null,"Few of these are already part of the extensions that we selected when generating the code."),(0,s.mdx)("h3",{id:"bean-validation-api--hibernate-validator"},"Bean Validation API & Hibernate Validator"),(0,s.mdx)("p",null,"Validating input passed in the request is very basic need in any implementation. There is a de-facto standard for this kind of validation handling defined in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JSR 380"),"."),(0,s.mdx)("p",null,"JSR 380 is a specification of the Java API for bean validation which ensures that the properties of a bean meet specific criteria, using annotations such as @NotNull, @Min, and @Max."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Bean Validation 2.0")," is leveraging the new language features and API additions of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Java 8")," for the purposes of validation by supporting annotations for new types like Optional and LocalDate."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Hibernate Validator")," is the reference implementation of the validation API. This should be included along side of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"validation-api")," dependency which contains the standard validation APIs."),(0,s.mdx)("p",null,"Below is the dependency that need to be included:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-hibernate-validator",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("h3",{id:"quarkus-health"},"Quarkus Health"),(0,s.mdx)("p",null,"Quarkus application can utilize the MicroProfile Health specification through the SmallRye Health extension."),(0,s.mdx)("p",null,"The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"health")," endpoint is used to check the health or state of the application that is running. This endpoint is generally configured with some monitoring tools to notify us if the instance is running as expected or goes down or behaving unusual for any particular reasons like Connectivity issues with Database, lack of disk space, etc.,"),(0,s.mdx)("p",null,"Below is the dependency that need to be included:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-smallrye-health",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("p",null,"Below is the default response that would show up upon accessing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"//health")," endpoint if application is started successfully"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Health endpoint default response"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"status"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"UP"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"checks"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"name"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Database connections health check"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"status"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"UP"'),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"org.eclipse.microprofile.health.HealthCheck")," is the interface which is used to collect the health information from all the implementing beans. Custom health indicator can be implemented to expose additional information."),(0,s.mdx)("h3",{id:"quarkus-metrics"},"Quarkus Metrics"),(0,s.mdx)("p",null,"Quarkus application can utilize the MicroProfile Metrics specification through the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"SmallRye Metrics")," extension."),(0,s.mdx)("p",null,"MicroProfile Metrics allows applications to gather various metrics and statistics that provide insights into what is happening inside the application."),(0,s.mdx)("p",null,"The metrics can be read remotely using JSON format or the OpenMetrics format, so that they can be processed by additional tools such as Prometheus, and stored for analysis and visualisation."),(0,s.mdx)("p",null,"Below is the dependency that need to be included:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-smallrye-metrics",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("p",null,"The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"/metrics")," endpoint will display the The metrics can be read remotely using JSON format or the OpenMetrics format, so that they can be processed by additional tools such as Prometheus, and stored for analysis and visualisation."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Metrics endpoint response"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"base"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"gc.total;name=PS MarkSweep"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"3"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"cpu.systemLoadAverage"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"5.13"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"thread.count"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"109"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ....\n        ....\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"vendor"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"jaeger_tracer_reporter_spans;result=err"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"2"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"memoryPool.usage;name=Metaspace"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"68717096"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"jaeger_tracer_reporter_spans;result=dropped"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ....\n        ....\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Additionally, we can generate application metrics by adding below annotations"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"@Counted: A counter which is increased by one each time the user asks about a number.")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"@Timed: This is a timer, therefore a compound metric that benchmarks how much time the primality tests take. We will explain that one in more details later."))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Metrics annotations added to controller method"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@GET"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"GET_ITEMS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Counted"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"countGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," description ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Counts how many times the getCatalogueItems method has been invoked"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Timed"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"timeGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," description ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Times how long it takes to invoke the getCatalogueItems method"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," unit ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"MetricUnits"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"MILLISECONDS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItems"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Getting Catalogue Items"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"ok"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItemList"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItems"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"This will generate below response when accessing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"/metrics/application")," endpoint:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Application Metrics endpoint response"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"com.toomuch2learn.crud.catalogue.controller.CatalogueController.timeGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"p99"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"425.205561"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"min"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"2.546167"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"max"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"425.205561"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"mean"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"49.49157467579767"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"p50"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"3.400761"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"p999"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"425.205561"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"stddev"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"126.34344559981842"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"p95"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"425.205561"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"p98"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"425.205561"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"p75"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"13.39301"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"fiveMinRate"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0.013924937717088982"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"fifteenMinRate"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0.007742537014410643"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"meanRate"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0.01684289108492676"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"count"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"9"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"oneMinRate"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0.0032367329593715704"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"com.toomuch2learn.crud.catalogue.controller.CatalogueController.countGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"9"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h3",{id:"and-few-other-extensions"},"And few other extensions.."),(0,s.mdx)("p",null,"Below are few additional dependencies added to interact with other supporting tools to capture logs and traces:"),(0,s.mdx)("h4",{id:"support-for-centralized-logging-with-graylog"},"Support for Centralized Logging with Graylog"),(0,s.mdx)("p",null,"Quarkus provides capabilities to send application logs to a centralized log management system like ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Graylog"),", ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Logstash")," (inside the Elastic Stack or ELK - Elasticsearch, Logstash, Kibana) or ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Fluentd")," (inside EFK - Elasticsearch, Fluentd, Kibana). For simplicity for this article, we are using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Graylog")," which is covered in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Prerequisites")," section."),(0,s.mdx)("p",null,"In this article, we will use ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus-logging-gelf")," extension that can use TCP or UDP to send logs in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Graylog Extended Log Format (GELF)"),"."),(0,s.mdx)("p",null,"Below is the dependency that need to be included:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-logging-gelf",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("p",null,"The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus-logging-gelf")," extension will add a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"GELF log handler")," to the underlying logging backend that Quarkus uses (jboss-logmanager). By default, it is disabled."),(0,s.mdx)("p",null,"Adding below configuration will enable logs to be sent to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Graylog")," running on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"12201")," port on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"localhost"),":"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"quarkus"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Logging configuration"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"log"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Send logs to Graylog"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"handler"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"gelf"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"enabled"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean important"},"true"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"host"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," localhost\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"port"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"12201")))),(0,s.mdx)("h4",{id:"support-for-distributed-tracing-with-jaeger"},"Support for Distributed tracing with Jaeger"),(0,s.mdx)("p",null,"Quarkus application can utilize OpenTracing to provide distributed tracing for interactive web applications."),(0,s.mdx)("p",null,"With ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"smallrye-opentracing")," extension added to the application, it gets support for OpenTracing with the default set to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Jaeger")," tracer."),(0,s.mdx)("p",null,"Below is the dependency that need to be included to track tracing for all interactions along with jdbc calls:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-smallrye-opentracing",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.opentracing.contrib",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"opentracing-jdbc",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("p",null,"Adding below configuration will publish traces to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Jaeger")," with service name ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"catalogue-crud"),":"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"jaeger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"service-name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," catalogue",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"crud\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"sampler-type"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," const\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"sampler-param"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1")))),(0,s.mdx)("h4",{id:"support-for-unitintegration-testing"},"Support for Unit/Integration Testing"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus-junit5")," is required for testing, as it provides the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@QuarkusTest")," annotation that controls the testing framework."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"rest-assured")," is not required but is a convenient way to test ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"HTTP endpoints"),", we also provide integration that automatically sets the correct URL so no configuration is required."),(0,s.mdx)("p",null,"As we are using JDBC connecting to Postgres and publishing/subscribing to Kafka Topics, performing integration testing might be challange. To ease it up, Adding ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Testcontainers")," dependency will run throwaway instances of database, kafka cluster or anything else that can run in a Docker container."),(0,s.mdx)("p",null,"Below are the dependencies needed for unit/integration testing:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-junit5",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.rest-assured",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"rest-assured",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"\x3c!-- Test Containers for unit testing with database--\x3e"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.13.0",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"postgresql",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.13.0",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"kafka",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.13.0",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("p",null,"To route calls to provisioned test database during tests, we need to configure the datasource for test profile as below:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token comment"},"### Test Configuration ####"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},'"%test"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"quarkus"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Datasource configuration"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"datasource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"db-kind"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," postgresql\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"url"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," jdbc",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"tc",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"postgresql",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"latest",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"///cataloguedb\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"hibernate-orm"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"dialect"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," org.hibernate.dialect.PostgreSQL9Dialect\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"database"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"generation"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," drop",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"and",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"create"))),(0,s.mdx)("p",null,"For mocking up Kafka calls to Test Containers, we need to implement ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"QuarkusTestResourceLifecycleManager")," and map to Test Containers Kafa Instance."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"KafkaResource.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaResource")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"implements")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"QuarkusTestResourceLifecycleManager")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaContainer")," KAFKA ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaContainer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Override"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Map"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"start"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaContainer")," KAFKA ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaContainer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        KAFKA",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"start"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"System"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setProperty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafka.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," KAFKA",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getBootstrapServers"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Collections"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"emptyMap"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Override"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"stop"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"System"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"clearProperty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafka.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        KAFKA",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"close"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h2",{id:"updating-maven-and-gradle-files"},"Updating Maven and Gradle files"),(0,s.mdx)("p",null,"Below is pom.xml and build.gradle defined with all the dependencies and plugins needed for this application."),(0,s.mdx)("h3",{id:"maven"},"Maven"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token prolog"},'<?xml version="1.0"?>'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"project")," ",(0,s.mdx)("span",{parentName:"span",className:"token attr-name"},(0,s.mdx)("span",{parentName:"span",className:"token namespace"},"xsi:"),"schemaLocation"),(0,s.mdx)("span",{parentName:"span",className:"token attr-value"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},'"'),"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,s.mdx)("span",{parentName:"span",className:"token attr-name"},"xmlns"),(0,s.mdx)("span",{parentName:"span",className:"token attr-value"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},'"'),"http://maven.apache.org/POM/4.0.0",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},'"')),"\n    ",(0,s.mdx)("span",{parentName:"span",className:"token attr-name"},(0,s.mdx)("span",{parentName:"span",className:"token namespace"},"xmlns:"),"xsi"),(0,s.mdx)("span",{parentName:"span",className:"token attr-value"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},'"'),"http://www.w3.org/2001/XMLSchema-instance",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},'"')),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"modelVersion"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"4.0.0",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"modelVersion"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"com.toomuch2learn",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"catalogue-crud",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.0.0-SNAPSHOT",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"properties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"compiler-plugin.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"3.8.1",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"compiler-plugin.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"maven.compiler.parameters"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"true",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"maven.compiler.parameters"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"maven.compiler.source"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.8",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"maven.compiler.source"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"maven.compiler.target"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.8",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"maven.compiler.target"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"project.build.sourceEncoding"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"UTF-8",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"project.build.sourceEncoding"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"project.reporting.outputEncoding"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"UTF-8",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"project.reporting.outputEncoding"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"quarkus-plugin.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.3.2.Final",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"quarkus-plugin.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"quarkus.platform.artifact-id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-universe-bom",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"quarkus.platform.artifact-id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"quarkus.platform.group-id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"quarkus.platform.group-id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"quarkus.platform.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.3.2.Final",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"quarkus.platform.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"surefire-plugin.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"2.22.1",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"surefire-plugin.version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"properties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependencyManagement"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependencies"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${quarkus.platform.group-id}",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${quarkus.platform.artifact-id}",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${quarkus.platform.version}",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"type"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"pom",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"type"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"import",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependencies"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependencyManagement"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependencies"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-resteasy",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-jdbc-postgresql",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-hibernate-validator",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-hibernate-orm-panache",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-resteasy-jackson",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-config-yaml",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-smallrye-health",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-smallrye-metrics",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"\x3c!-- Tracing --\x3e"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-smallrye-opentracing",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.opentracing.contrib",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"opentracing-jdbc",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"\x3c!-- Logging --\x3e"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-logging-gelf",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"\x3c!-- Kafka Extension --\x3e"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-smallrye-reactive-messaging-kafka",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.apache.commons",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"commons-lang3",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"3.10",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.projectlombok",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"lombok",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.18.12",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"provided",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-junit5",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.rest-assured",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"rest-assured",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"\x3c!-- Test Containers for unit testing with database--\x3e"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.13.0",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"postgresql",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.13.0",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.testcontainers",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"kafka",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"1.13.0",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"scope"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependency"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"dependencies"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"build"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugins"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"io.quarkus",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"quarkus-maven-plugin",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${quarkus-plugin.version}",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n              ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"build",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"maven-compiler-plugin",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${compiler-plugin.version}",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"maven-surefire-plugin",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${surefire-plugin.version}",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"configuration"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"systemProperties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"java.util.logging.manager"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.jboss.logmanager.LogManager",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"java.util.logging.manager"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"systemProperties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"configuration"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"\x3c!-- Add JaCoCo plugin which is prepare agent and also generate report once test phase is completed--\x3e"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.jacoco",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"jacoco-maven-plugin",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"0.8.5",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n              ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"prepare-agent",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"report",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"phase"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"phase"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n              ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"report",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugins"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"build"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"profiles"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"profile"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"native",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"activation"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"property"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"name"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"native",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"name"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"property"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"activation"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"build"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugins"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"maven-failsafe-plugin",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${surefire-plugin.version}",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n              ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"integration-test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"verify",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"configuration"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"systemProperties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"native.image.path"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"${project.build.directory}/${project.build.finalName}-runner",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"native.image.path"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"systemProperties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"configuration"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n              ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugins"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"build"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"properties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"quarkus.package.type"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"native",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"quarkus.package.type"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"properties"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"profile"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"profiles"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"project"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("h3",{id:"gradle"},"Gradle"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"build.gradle"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"ruby"},(0,s.mdx)("pre",{parentName:"div",className:"language-ruby"},(0,s.mdx)("code",{parentName:"pre",className:"language-ruby"},"plugins ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    id ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'java'")),"\n    id ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus'")),"\n\tid ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'jacoco'")),"\n\tid ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"io.freefair.lombok"'))," version ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"5.0.0-rc2"')),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\nrepositories ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n     mavenLocal",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n     mavenCentral",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\ndependencies ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    \n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'org.projectlombok:lombok:1.18.12'")),"\n\t\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-config-yaml'")),"\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-smallrye-health'")),"\n    implementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-smallrye-metrics'")),"\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-logging-gelf'")),"\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-smallrye-opentracing'")),"\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-smallrye-reactive-messaging-kafka'")),"\n\t\n    implementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-resteasy'")),"\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-resteasy-jackson'")),"\n    \n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-jdbc-postgresql'")),"\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-hibernate-orm-panache'")),"\n    implementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-hibernate-validator'")),"\n    \n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.opentracing.contrib:opentracing-jdbc'")),"\n\t\n\timplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'org.apache.commons:commons-lang3:3.10'")),"\n    \n\timplementation enforcedPlatform",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}"')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    \n\ttestImplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.quarkus:quarkus-junit5'")),"\n    testImplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'io.rest-assured:rest-assured'")),"\n\t\n\ttestImplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'org.testcontainers:testcontainers:1.13.0'")),"\n\ttestImplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'org.testcontainers:postgresql:1.13.0'")),"\n\ttestImplementation ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'org.testcontainers:kafka:1.13.0'")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\ngroup ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'com.toomuch2learn'")),"\nversion ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'1.0.0-SNAPSHOT'")),"\n\ngroup ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'com.toomuch2learn'")),"\nversion ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'1.0.0-SNAPSHOT'")),"\ndescription ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'crud-catalogue'")),"\n\ncompileJava ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    options",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"encoding ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'UTF-8'")),"\n    options",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"compilerArgs ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"<<")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'-parameters'")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\ncompileTestJava ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    options",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"encoding ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'UTF-8'")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\njava ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    sourceCompatibility ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," JavaVersion",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token constant"},"VERSION_1_8"),"\n    targetCompatibility ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," JavaVersion",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token constant"},"VERSION_1_8"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\njacocoTestReport ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    reports ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        html",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"destination file",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"${buildDir}/jacocoHtml"')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h2",{id:"context--dependency-injection"},"Context & Dependency Injection"),(0,s.mdx)("p",null,"For this application, we are relying on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Quarkus DI")," which is based on the ",(0,s.mdx)(d,{href:"http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html",mdxType:"ExternalLink"},"Contexts and Dependency Injection for Java 2.0")," specification."),(0,s.mdx)("p",null,"With ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Quarkus DI")," in place, we are completly eliminating ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Spring Framework")," for this article."),(0,s.mdx)("p",null,"Refer to ",(0,s.mdx)(d,{href:"https://quarkus.io/guides/cdi-reference",mdxType:"ExternalLink"},"this")," article for further reading on understanding different aspects to consider for successfully using CDI in our applications."),(0,s.mdx)("h2",{id:"configure-postgres-database-and-define-jpa-entity"},"Configure Postgres database and define JPA Entity"),(0,s.mdx)("p",null,"Update application.yml with the below datasource configurations to use Postgres database:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"quarkus"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Datasource configuration"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"datasource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"db-kind"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," postgresql\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"username"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," postgres\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"password"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," password\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"jdbc"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"driver"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," io.opentracing.contrib.jdbc.TracingDriver\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"url"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," jdbc",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"tracing",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"postgresql",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"//0.0.0.0",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"5432/cataloguedb\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"min-size"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"5"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"max-size"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"12"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Hibernate ORM configuration"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"hibernate-orm"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"database"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"generation"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," drop",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"and",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"create"))),(0,s.mdx)("p",null,"As you can observe, JDBC ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"driver")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"url")," contains ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"tracing"),". This is to ensure that JDBC calls are linked to the traces that are captured part of the API calls. If tracing is not needed for JDBC calls, delete the line for ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"driver")," property and remove ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"tracing:")," from url."),(0,s.mdx)("p",null,"Define JPA entity as per the below table definition for ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CATALOGUE_ITEMS"),":"),(0,s.mdx)("table",null,(0,s.mdx)("thead",{parentName:"table"},(0,s.mdx)("tr",{parentName:"thead"},(0,s.mdx)("th",{parentName:"tr",align:null},"Column"),(0,s.mdx)("th",{parentName:"tr",align:null},"Datatype"),(0,s.mdx)("th",{parentName:"tr",align:null},"Nullable"))),(0,s.mdx)("tbody",{parentName:"table"},(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"ID"),(0,s.mdx)("td",{parentName:"tr",align:null},"INT PRIMARY KEY"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"SKU_NUMBER"),(0,s.mdx)("td",{parentName:"tr",align:null},"VARCHAR(16)"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"ITEM_NAME"),(0,s.mdx)("td",{parentName:"tr",align:null},"VARCHAR(255)"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"DESCRIPTION"),(0,s.mdx)("td",{parentName:"tr",align:null},"VARCHAR(500)"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"CATEGORY"),(0,s.mdx)("td",{parentName:"tr",align:null},"VARCHAR(255)"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"PRICE"),(0,s.mdx)("td",{parentName:"tr",align:null},"DOUBLE"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"INVENTORY"),(0,s.mdx)("td",{parentName:"tr",align:null},"INT"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"CREATED_ON"),(0,s.mdx)("td",{parentName:"tr",align:null},"DATETIME"),(0,s.mdx)("td",{parentName:"tr",align:null},"No")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"UPDATED_ON"),(0,s.mdx)("td",{parentName:"tr",align:null},"DATETIME"),(0,s.mdx)("td",{parentName:"tr",align:null},"Yes")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"CatalogueItem.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"model"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"validation",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"IEnumValidator"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"lombok",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"*"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"persistence",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"*"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"validation",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"constraints",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"NotEmpty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"validation",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"constraints",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"NotNull"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Date"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Data"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NoArgsConstructor"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@AllArgsConstructor"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@RequiredArgsConstructor"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"staticName ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"of"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Entity"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Table"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"CATALOGUE_ITEMS"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    uniqueConstraints ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@UniqueConstraint"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"columnNames ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"SKU_NUMBER"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Id"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@GeneratedValue"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"strategy ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"GenerationType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"IDENTITY",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ID"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," unique ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Long")," id",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NotEmpty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"message ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"SKU cannot be null or empty"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"SKU_NUMBER"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," unique ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," length ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"16"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NotEmpty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"message ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Name cannot be null or empty"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"ITEM_NAME"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," unique ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," length ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"255"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," name",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NotEmpty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"message ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Description cannot be null or empty"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"DESCRIPTION"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," length ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"500"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," description",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"CATEGORY"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@IEnumValidator"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"\n        enumClazz ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Category"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        message ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Invalid category provided"'),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," category",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NotNull"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"message ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Price cannot be null or empty"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"PRICE"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," precision ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"10"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," scale ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"2"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Double")," price",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NotNull"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"message ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Inventory cannot be null or empty"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"INVENTORY"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Integer")," inventory",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Temporal"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TemporalType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"TIMESTAMP",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"CREATED_ON"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," length ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"19"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Date")," createdOn",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Temporal"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TemporalType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"TIMESTAMP",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Column"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"UPDATED_ON"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," nullable ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," length ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"19"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Date")," updatedOn",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h2",{id:"jpa-panache-repository"},"JPA Panache Repository"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Java Persistence API")," a.k.a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JPA")," handles most of the complexity of JDBC-based database access and object-relational mappings. On top of that, ",(0,s.mdx)(d,{href:"https://quarkus.io/guides/hibernate-orm-panache",mdxType:"ExternalLink"},"Hibernate ORM with Panache")," reduces the amount of boilerplate code required by JPA which makes the implementation of our persistence layer easier and faster."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JPA")," is a specification that defines an API for object-relational mappings and for managing persistent objects. ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Hibernate")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"EclipseLink")," are two most popular implementations of JPA specification."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Panache")," supports JPA specification allowing us to define the entities and association mappings, the entity lifecycle management, and JPA’s query capabilities. ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Panache")," adds an additional layer on top of JPA by providing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"no-code")," implementation of a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"PanacheRepository")," which defines the repository with all logical read and write operations for a specific entity."),(0,s.mdx)("h3",{id:"what-to-define-in-a-repository-interface"},"What to define in a Repository Interface?"),(0,s.mdx)("p",null,"Repository class should at minimum define the below 4 methods:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Save a new or updated Entity"),(0,s.mdx)("li",{parentName:"ul"},"Delete an entity,"),(0,s.mdx)("li",{parentName:"ul"},"Find an entity by its Primary Key"),(0,s.mdx)("li",{parentName:"ul"},"Find an entity by its title.")),(0,s.mdx)("p",null,"These operations are basically related to CRUD functions for managing an entity. Additional to these, we can further enhance the interface by defining methods to fetch data by pagination, sorting, count etc.,"),(0,s.mdx)("p",null,"Quarkus ",(0,s.mdx)(d,{href:"https://quarkus.io/guides/hibernate-orm-panache#defining-your-repository",mdxType:"ExternalLink"},(0,s.mdx)("code",{parentName:"p",className:"language-text"},"PanacheRepository"))," includes all these capabilities by extending to our."),(0,s.mdx)("p",null,"In this article, we will create ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CatalogueRepository")," which implements ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"PanacheRepository")," as below"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"CatalogueRepository.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"repository"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"model",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"io",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"quarkus",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"hibernate",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"orm",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"panache",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"PanacheRepository"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"enterprise",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"context",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ApplicationScoped"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Optional"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@ApplicationScoped"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueRepository")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"implements")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"PanacheRepository"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"CatalogueItem"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Optional"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"CatalogueItem"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"findBySku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"find"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"singleResultOptional"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n"))),(0,s.mdx)("p",null,"As observed above, we defined additional method to fetch Catalogue Item by its SKU as per the requirement providing capabilitu to find the record by field ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku")," as defined in the entity object."),(0,s.mdx)("p",null,"Refer to ",(0,s.mdx)(d,{href:"https://quarkus.io/guides/hibernate-orm-panache#advanced-query",mdxType:"ExternalLink"},"Advanced Query")," section for further capabilities like paging, sorting, HQL Queries etc.,"),(0,s.mdx)("h2",{id:"jax-rs-controller"},"JAX-RS Controller"),(0,s.mdx)("p",null,"Controllers are implemented using RESTeasy JAX-RS which is the default for Quarkus."),(0,s.mdx)("p",null,"Below is part of the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CatalogueController")," portraying the class and methods with annotations to handle Restful request to fetch Catalogue Item by SKU Number."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"CatalogueController.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"BASE_PATH",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Produces"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"MediaType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"APPLICATION_JSON",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueController")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger")," log ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getLogger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueController"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Inject"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueCrudService")," catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@GET"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"GET_ITEMS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Counted"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"countGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," description ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Counts how many times the getCatalogueItems method has been invoked"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Timed"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"timeGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," description ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Times how long it takes to invoke the getCatalogueItems method"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," unit ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"MetricUnits"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"MILLISECONDS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItems"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Getting Catalogue Items"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"ok"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItemList"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItems"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@POST"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"CREATE",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"addCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Valid")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Adding Catalogue Item with sku : %s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Long")," id ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"addCatalogItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"Status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"CREATED",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"entity"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceIdentity"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"id",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"As observed above,"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Additional Service layer is Introduced with class ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"CatalogueCrudService")," which abstracts calls to data access layers from the controller class. "),(0,s.mdx)("li",{parentName:"ul"},"Handler methods are annotated with @GET or @POST specifing the request http method they support."),(0,s.mdx)("li",{parentName:"ul"},"Path are defined as static variables in ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"CatalogueControllerAPIPaths")," and are used in Controller class. This will ensure all paths are defined at one place and clearly indicate what operations are available in the controller class instead of moving around the class up and down."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@Valid")," annotation is used in ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"addCatalogueItem")," ensuring the request body received is validated by Bean Validation Framework before processing the request.")),(0,s.mdx)("p",null,"Below is the complete implementation of the Controller class:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"CatalogueControllerAPIPaths.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"controller"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," BASE_PATH ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/api/v1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," CREATE ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," GET_ITEMS ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," GET_ITEM ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/{sku}"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," UPDATE ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/{sku}"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," DELETE ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/{sku}"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," UPLOAD_IMAGE ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/{sku}/image"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"CatalogueController.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"controller"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"exception",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceNotFoundException"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"model",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"model",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItemList"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"model",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceIdentity"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"service",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueCrudService"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"eclipse",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"microprofile",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"metrics",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"MetricUnits"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"eclipse",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"microprofile",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"metrics",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"annotation",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Counted"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"eclipse",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"microprofile",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"metrics",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"annotation",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Timed"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"slf4j",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"slf4j",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"inject",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Inject"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"validation",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Valid"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"ws",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"rs",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"*"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"ws",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"rs",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"core",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"MediaType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"ws",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"rs",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"core",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"BASE_PATH",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Produces"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"MediaType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"APPLICATION_JSON",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueController")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger")," log ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getLogger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueController"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Inject"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueCrudService")," catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@GET"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"GET_ITEMS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Counted"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"countGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," description ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Counts how many times the getCatalogueItems method has been invoked"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Timed"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"name ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"timeGetCatalogueItems"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," description ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Times how long it takes to invoke the getCatalogueItems method"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," unit ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"MetricUnits"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"MILLISECONDS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItems"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Getting Catalogue Items"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"ok"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItemList"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItems"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@GET"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"GET_ITEM",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItemBySKU"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@PathParam"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"value ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceNotFoundException"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Getting Catalogue Item by sku : %s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"ok"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@POST"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"CREATE",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"addCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Valid")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Adding Catalogue Item with sku : %s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Long")," id ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"addCatalogItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"Status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"CREATED",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"entity"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceIdentity"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"id",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@PUT"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"UPDATE",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"updateCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@PathParam"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"value ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Valid")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceNotFoundException"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Updating Catalogue Item with sku : %s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"updateCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"ok"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@DELETE"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Path"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueControllerAPIPaths"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"DELETE",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"removeCatalogItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@PathParam"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"value ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceNotFoundException"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Removing Catalogue Item with sku : %s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"deleteCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"Status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"NO_CONTENT",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("h2",{id:"event-driven-implementation-with-kafka"},"Event Driven Implementation with Kafka"),(0,s.mdx)("p",null,"Apart from RESTful services implemented with JAX-RS, event-driven architecture is incorporated for services to communicate each-other via event messages published to Kafka topics."),(0,s.mdx)("p",null,"Quarkus application utilizes MicroProfile Reactive Messaging. Implementation at the core is ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"SmallRye Reactive Messaging")," which is a framework for building event-driven, data streaming, and event-sourcing applications using CDI. It lets your application interaction using various messaging technologies such as Apache Kafka, AMQP or MQTT. The framework provides a flexible programming model bridging CDI and event-driven."),(0,s.mdx)("p",null,"For the purpose of exploring reactive messaging with Kafka, we are looking at handling one incoming message and publish one outcoming message to individual Kafka Topics."),(0,s.mdx)("p",null,"Before proceeding with this, ensure to bootstrap Kafka Cluster using docker-compose and test drive to see if cluster is provisioned successfully."),(0,s.mdx)("table",null,(0,s.mdx)("thead",{parentName:"table"},(0,s.mdx)("tr",{parentName:"thead"},(0,s.mdx)("th",{parentName:"tr",align:null},"Topic"),(0,s.mdx)("th",{parentName:"tr",align:null},"Type"))),(0,s.mdx)("tbody",{parentName:"table"},(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"product-purchased"),(0,s.mdx)("td",{parentName:"tr",align:null},"Incoming")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},"price-updated"),(0,s.mdx)("td",{parentName:"tr",align:null},"Outgoing")))),(0,s.mdx)("h3",{id:"handling-incoming-message"},"Handling Incoming Message"),(0,s.mdx)("p",null,"Application is configured to handle incoming message for ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"product-purchased")," event. Consider there is an Ordering service from which customers purchase aproduct that is listed in catalogue database. When a product is purchased, we need to decrement it from inventory to ensure customers don’t try to purchase product and do not have enough stock in inventory."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku")," of the product will be published to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"product-purchased")," topic with which we decerement inventory in the database."),(0,s.mdx)("p",null,"To handle this, we need to create ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"product-purchased")," topic and subscribe to it by configuring it in application.yaml and annoate the handler with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@Incoming")," annotation."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Kafka Messages"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"mp"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"messaging"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"incoming"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"product-purchased"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"connector"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," smallrye",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"kafka\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        ",(0,s.mdx)("span",{parentName:"span",className:"token key atrule"},"topic"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":")," product",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"-"),"purchased"),"        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"value"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"          ",(0,s.mdx)("span",{parentName:"span",className:"token key atrule"},"deserializer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":")," org.apache.kafka.common.serialization.StringDeserializer")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"ProductPurchasedReceivedEvent.java"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"event"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"service",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueCrudService"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"io",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"quarkus",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"runtime",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"StartupEvent"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"eclipse",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"microprofile",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"reactive",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"messaging",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Incoming"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"slf4j",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"slf4j",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"enterprise",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"context",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ApplicationScoped"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"enterprise",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"event",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Observes"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"inject",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Inject"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"concurrent",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"*"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@ApplicationScoped"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPurchasedReceivedEvent")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger")," log ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getLogger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPurchasedReceivedEvent"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Inject"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueCrudService")," catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ExecutorService")," executor",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"BlockingQueue"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," messages",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"startup"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Observes")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"StartupEvent")," event",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"========> ProductPurchasedReceivedEvent startup"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        messages ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LinkedBlockingQueue"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ScheduledExecutorService")," executor ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Executors"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"newScheduledThreadPool"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"5"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        executor",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"scheduleAtFixedRate"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"->")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"if")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"messages",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"size"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"error"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"====> purchased products available"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"try")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                    catalogueCrudService",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"productPurchased"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"messages",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"take"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"catch")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"InterruptedException")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throw")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"RuntimeException"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1000"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"2000"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TimeUnit"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"MILLISECONDS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"    ",(0,s.mdx)("span",{parentName:"span",className:"token annotation punctuation"},"@Incoming"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"product-purchased"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),"    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"productPurchased"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"error"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"=====> Purchased product received for skuNumber :: "'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"+"),"skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        messages",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"add"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"skuNumber",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"When ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku")," is published to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"product-purchased")," kafka topic, handler method registered with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@Incoming")," annotation will be invoked with the serialized value passed as argument. In order to handle multiple messages asynchronously, we are adding all the incoming ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku"),"s to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"BlockingQueue")," and handle them to be processed by ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ScheduledExecutorService")," which runs at fixed interval to pull the messages from the queue and pass it to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CatalogueCrudService")," to decrement inventory."),(0,s.mdx)("p",null,"As observed, ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ProductPurchasedReceivedEvent")," is marked with application scope. This is to capture the startup event and initialize ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ScheduledExecutorService")," to start processing the messages added to the queue."),(0,s.mdx)("h3",{id:"publishing-outgoing-message"},"Publishing Outgoing Message"),(0,s.mdx)("p",null,"Application is configured to publish outgoing message for ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"price-updated")," event. Consider there is an Online Shopping application being used by customers to purchase products managed in catalogue service. If one such product is added to the cart by customer and its price gets revised in Catalogue service at the same time, Online Shopping application should be notified so that the total price can be updated before customer proceeds to purchase section."),(0,s.mdx)("p",null,"When product is being updated, we verify there is change in price compared to what is available in database. If difference in price exists, then post updating the entry in database, event is published to the topic with object containing product ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"price"),"."),(0,s.mdx)("p",null,"For this, we need to create ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"price-updated")," topic and publish the message by configuring the topic in application.yaml and annoate the publish method with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@Outgoing")," annotation."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"mp"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"messaging"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"outgoing"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"price-updated"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"connector"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," smallrye",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"kafka\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        ",(0,s.mdx)("span",{parentName:"span",className:"token key atrule"},"topic"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":")," price",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"-"),"updated"),"        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"value"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"          ",(0,s.mdx)("span",{parentName:"span",className:"token key atrule"},"serializer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":")," io.quarkus.kafka.client.serialization.ObjectMapperSerializer")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"ProductPriceUpdatedEvent.java"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"event"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"model",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"eclipse",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"microprofile",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"reactive",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"messaging",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Message"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"eclipse",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"microprofile",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"reactive",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"messaging",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Outgoing"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"slf4j",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"slf4j",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"javax",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"enterprise",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"context",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ApplicationScoped"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"concurrent",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"BlockingQueue"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"concurrent",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CompletableFuture"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"concurrent",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CompletionStage"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"concurrent",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LinkedBlockingQueue"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@ApplicationScoped"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPriceUpdatedEvent")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger")," log ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getLogger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPriceUpdatedEvent"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"BlockingQueue"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," messages ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LinkedBlockingQueue"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"add"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPrice")," message",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        messages",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"add"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"message",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"    ",(0,s.mdx)("span",{parentName:"span",className:"token annotation punctuation"},"@Outgoing"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"price-updated"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),"    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CompletionStage"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Message"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"send"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CompletableFuture"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"supplyAsync"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"->")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"try")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPrice")," productPrice ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," messages",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"take"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n                log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"error"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Publishing event for updated product: "')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"+")," productPrice",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Message"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"of"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"productPrice",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"            ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"catch")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"InterruptedException")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throw")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"RuntimeException"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"CatalogueCrudService.java"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},(0,s.mdx)("span",{parentName:"span",className:"token annotation punctuation"},"@Inject")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPriceUpdatedEvent")," productPriceUpdatedEvent",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Transactional"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"updateCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceNotFoundException"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItemfromDB ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCatalogueItemBySku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"boolean")," priceDifference ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," catalogueItemfromDB",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getPrice"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"!=")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getPrice"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    catalogueItemfromDB",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    catalogueItemfromDB",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setDescription"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getDescription"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    catalogueItemfromDB",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setPrice"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getPrice"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    catalogueItemfromDB",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setInventory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getInventory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    catalogueItemfromDB",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setUpdatedOn"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Date"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Publish item if price change"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"    ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"if"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"priceDifference",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        log",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"===> Price is difference with database"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        productPriceUpdatedEvent",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"add"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"getSku"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," catalogueItem",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"getPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"    ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),"\n    catalogueRepository",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"persist"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItemfromDB",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"As observed, ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ProductPriceUpdatedEvent")," is the class which publishes the messages for this event. Method annotated with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@Outgoing")," is a Reactive Streams publisher and so publishes messages according to the requests it receives. "),(0,s.mdx)("p",null,"Annotated method cannot be defined with any arguments as this method will be polled by the framework to publish any new messages.And hence we had to introduce ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"BlockingQueue")," to capture all ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ProductPrice")," instances via ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"add()")," method from ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CatalogueCrudService")," class when handling catalogue item update request.."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ObjectMapperSerializer")," serialization is performed on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ProductPrice")," object before writing the message to the topic as configured in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"application.yaml"),"."),(0,s.mdx)("h2",{id:"handling-exceptions"},"Handling Exceptions"),(0,s.mdx)("p",null,"Exception Handling is done with ",(0,s.mdx)(d,{href:"https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ExceptionMapper.html",mdxType:"ExternalLink"},"ExceptionMapper")," with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JAX-RS"),". ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"RESTEasy")," ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ExceptionMappers")," are custom, application provided, components that can catch thrown application exceptions and write specific HTTP responses. The are classes annotated with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@Provider")," and that implement this interface."),(0,s.mdx)("p",null,"When an application exception is thrown it will be caught by the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JAX-RS")," runtime. ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JAX-RS")," will then scan registered ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ExceptionMappers")," to see which one support marshalling the exception type thrown."),(0,s.mdx)("p",null,"Below is one such ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ExceptionMapper")," which handles ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ConstraintViolationException")," when there are any validation errors identified in request body:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"ConstraintViolationExceptionMapper.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Provider"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConstraintViolationExceptionMapper")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"implements")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ExceptionMapper"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ConstraintViolationException"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Override"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"toResponse"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConstraintViolationException")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ErrorResponse")," error ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ErrorResponse"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"for")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConstraintViolation")," violation ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getConstraintViolations"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n          error",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getErrors"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"add"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Error"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"\n              ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ErrorCodes"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"ERR_CONSTRAINT_CHECK_FAILED",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n              violation",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getPropertyPath"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"toString"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n              violation",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getMessage"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n      ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"Status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"BAD_REQUEST",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"entity"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"error",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"As observed,"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Class is annotated with ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"@Provider"),"."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Error")," instance is created for each constraint violation and added to ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"ErrorResponse"),"."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("code",{parentName:"li",className:"language-text"},"Response")," object is ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"built")," with status as ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"BAD_REQUEST")," and the ErrorResponse object set to ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"entity"),".")),(0,s.mdx)("p",null,"Below are few other ExceptionMappers created to handle different exceptions:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"InvalidFormatExceptionMapper.java"),(0,s.mdx)("li",{parentName:"ul"},"NotFoundExceptionMapper.java"),(0,s.mdx)("li",{parentName:"ul"},"RuntimeExceptionMapper.java"),(0,s.mdx)("li",{parentName:"ul"},"ResourceNotFoundExceptionMapper.java handling application specific custom exception.")),(0,s.mdx)("h2",{id:"testing-with-quarkus"},"Testing with Quarkus"),(0,s.mdx)("p",null,"Quarkus supports ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Junit 5")," by ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus-junit5")," extension. This extension is provided by default when code is generated from ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"code.quarkus.io"),"."),(0,s.mdx)("p",null,"It Includes ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@QuarkusTest")," annotation that controls the testing framework. Annotating test classes with this annotation will start Quarkus application and listen on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"8081")," port compared to the default ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"8080")," port."),(0,s.mdx)("p",null,"We can point to different port used by tests by configuring ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus.http.test-port")," in your application.yaml as below"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"quarkus"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"http"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"test-port"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"8083")))),(0,s.mdx)("p",null,"Including ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@QuarkusTest")," is considered to be more of an integration testing rather than unit testing."),(0,s.mdx)("p",null,"Rather then mocking up different services to implement unit tests, we can use ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"RestAssured")," to make HTTP calls, use ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Testcontainers")," to create throwaway instances of Docker Containers for booting up and using Postgres database, kafka cluster or anything else that can run on Docker."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Postgres")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kafka")," instances are provisioned by ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Testcontainers")," during ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"test")," phase. Configuration for connecting to these provisioned instances are done in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"application.yaml")," for database and through configuration class by extending ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"QuarkusTestResourceLifecycleManager"),"."),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Configuring datasource to connect to Testcontainer provisioned database")),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token comment"},"### Test Configuration ####"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},'"%test"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"quarkus"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# Datasource configuration"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"datasource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"db-kind"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," postgresql\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"jdbc"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        ",(0,s.mdx)("span",{parentName:"span",className:"token key atrule"},"driver"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":")," org.testcontainers.jdbc.ContainerDatabaseDriver"),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        ",(0,s.mdx)("span",{parentName:"span",className:"token key atrule"},"url"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":")," jdbc",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":"),"tc",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":"),"postgresql",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":"),"latest",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},":"),"///cataloguedb"),"    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"hibernate-orm"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"dialect"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," org.hibernate.dialect.PostgreSQL9Dialect\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"database"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"generation"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," drop",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"and",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"create"))),(0,s.mdx)("p",null,"As highlighted, driver and url includes ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"testcontainer")," specific configurations ensuring jdbc connectivity is done to provisioned database."),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Configuring tests to use provisoned Kafka cluster")),(0,s.mdx)("p",null,"Custom configuration class ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"KafkaTestResource")," is created by extending ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"QuarkusTestResourceLifecycleManager")," and implementing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"start")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"stop")," lifecycle methods."),(0,s.mdx)("p",null,"Instance of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"org.testcontainers.containers.KafkaContainer")," is created and is started within ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"start")," lifecycle method. Kafka ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"bootstrap.servers")," configuration is registered with the bootstrap server details of the provisioned Testcontainer Kafka cluster. This will ensure to override the default configurations registered in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"application.yaml")),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"KafkaTestResource.java"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"config"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"io",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"quarkus",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"test",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"common",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"QuarkusTestResourceLifecycleManager"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"testcontainers",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"containers",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaContainer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"HashMap"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"java",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"util",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Map"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaTestResource")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"implements")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"QuarkusTestResourceLifecycleManager")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"  ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"KafkaContainer")," KAFKA ",(0,s.mdx)("span",{parentName:"span",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"KafkaContainer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Override"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Map"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"start"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"    KAFKA",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"start"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"System"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setProperty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafka.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," KAFKA",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getBootstrapServers"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Map"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," map ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"HashMap"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"    map",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"mp.messaging.outgoing.price-updated.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," KAFKA",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"getBootstrapServers"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"    map",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"mp.messaging.incoming.product-purchased.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," KAFKA",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"getBootstrapServers"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," map",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Override"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"stop"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"System"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"clearProperty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafka.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    KAFKA",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"close"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"As mentioned earlier, Including ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@QuarkusTest")," is considered to be more of an ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Integration Testing")," ",(0,s.mdx)("strong",{parentName:"p"},"rather than")," ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Unit Testing"),". Objective of these test classes is to try performing actual service calls and verify the outcome of the action performed rather than mocking up the services to validate the outcome."),(0,s.mdx)("p",null,"Below are the test classes that are implemented part of this project."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"431px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/be0ee3e50278eee587955a0f28128442/9cb4e/intellij_unit_integration_tests.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.668711656441715%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABeElEQVQoz3WQC67bIBBFs7D3S9PExsbAwDAMxsbGTqu3/xVUjtM0UhXpCF2kexjg8HE8SXDGhXMl3j6Pb58/dt6/Tu9fp7/5zq1w5+N4Opx1pTyoSelRSafPqtroqp8bl7O6hw1VXXT9oDLi0PhWYKMH1X+PoUQYAEbrMtJMfvJ2dC47zN7PZBIIbBrf7rQkDwIbgU3tBGYav5cwUSiso1asVdQyKMXa9ACDU6xrJ/b+fsrhsREouqjldaGZ7eAgASQwvZGhq53YeSo/yTWKjpWbgllyXPswMyQLyZoEHXeVrZ+1/2S3yZjJrDmU6DLerm10NKYH00OD7Uv55tcXhua6YCaaCJK1I7oRt3Vw+4CXsnC1+P2L1sQzYfYtSRm6/Vdbkh2r7fEvZVu31wKFw0S8xI0S49LHtY9LDIUxexm615OvBdfEhUOJNAdeel76PcQ10RxoZknyn9zY+g5UzTT4mcOIfkDKPmxQyMgThUwQVWUuj37rxB8W3uGzFLGuiwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"IntelliJ Unit & Integration Tests",title:"IntelliJ Unit & Integration Tests",src:"/static/be0ee3e50278eee587955a0f28128442/9cb4e/intellij_unit_integration_tests.png",srcSet:["/static/be0ee3e50278eee587955a0f28128442/222b7/intellij_unit_integration_tests.png 163w","/static/be0ee3e50278eee587955a0f28128442/ff46a/intellij_unit_integration_tests.png 325w","/static/be0ee3e50278eee587955a0f28128442/9cb4e/intellij_unit_integration_tests.png 431w"],sizes:"(max-width: 431px) 100vw, 431px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"IntelliJ Unit & Integration Tests"),"\n  ")),(0,s.mdx)("h3",{id:"creating-reusable-methods"},"Creating Reusable methods"),(0,s.mdx)("p",null,"When defining test methods, the context of complete test execution should be wrapped within its own method. To test Update Catalogue Item, we need to create, update and then get the catalogue item to verify if item is actually updated or not."),(0,s.mdx)("p",null,"This can lead to lot of code duplication as most of the tests would have to include creating the catalogue item before testing its context of execution. For code reusability, we need to create functional methods which can be called from the test methods and should not impact other tests."),(0,s.mdx)("p",null,"Below is such reusable method which handles creating catalogue item request and returning the response."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"RestAssuredCatalogueCRUDTest.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Response")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"postCreateCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"RequestSpecification")," request\n    ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"given"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"contentType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"application/json"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"body"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," request",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"post"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"We should consider creating new instance of CatalogueItem created with unique values, else there will be unique constraint exceptions occurring in the application when persisting the catalogue items to the database. Below reusable methods are created to create Catalogue Item with fields assigned with distinct values."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"RestAssuredCatalogueCRUDTest.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},"\n",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Create Catalogue Item"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareRandomSKUNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"final")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Random")," random ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Random"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareRandomSKUNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"SKUNUMBER-"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"+"),"\n    random",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"ints"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"1000"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"9999"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"findFirst"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getAsInt"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," item\n    ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"of"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"\n      skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Catalog Item -"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"+"),"skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Catalog Desc - "'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"+"),"skuNumber",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Category"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"BOOKS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getValue"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"10.00"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"10"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Date"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," item",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"As observed, we created ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"prepareRandomSKUNumber")," method to generate unique SKU number which will be passed to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"prepareCatalogueItem")," to create instance of Catalogue Item with random SKU number. This will ensure unique constraint fields are kept unique when executing tests."),(0,s.mdx)("p",null,"And finally, we will be creating one more reusable method to create instance of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"ResponseSpecification")," based on the expected response HTTP Status code. This method will be used in all test classes to verify if the response received is with the expected response HTTP Status code."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"RestAssuredCatalogueCRUDTest.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResponseSpecification")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareResponseSpec"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"int")," responseStatus",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResponseSpecBuilder"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"expectStatusCode"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"responseStatus",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"build"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"All these methods are wrapped under ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"BaseTest.java")," and extended to other test classes."),(0,s.mdx)("h3",{id:"testing-rest-endpoints"},"Testing REST endpoints"),(0,s.mdx)("p",null,"Test class ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"RestAssuredCatalogueCRUDTest")," is defined to handle all tests against the RESTful APIs. It imports classes from JUnit5, REST-assured and Hamcrest to setup, access and validate APIs."),(0,s.mdx)("p",null,"Below are the tests that are included as part of the Test class:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Application Health Check"),(0,s.mdx)("li",{parentName:"ul"},"Create Catalogue Item"),(0,s.mdx)("li",{parentName:"ul"},"Get Catalogue Items"),(0,s.mdx)("li",{parentName:"ul"},"Get Catalogue Item by SKU"),(0,s.mdx)("li",{parentName:"ul"},"Update Catalogue Item by SKU"),(0,s.mdx)("li",{parentName:"ul"},"Delete Catalogue Item by SKU"),(0,s.mdx)("li",{parentName:"ul"},"Resource Not Found"),(0,s.mdx)("li",{parentName:"ul"},"Handling Validation Errors"),(0,s.mdx)("li",{parentName:"ul"},"Handling Invalid Request")),(0,s.mdx)("p",null,"With the common reusable code separated into ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"BaseTest"),", implementing test methods will be easy by following the Given\\When\\Then syntax."),(0,s.mdx)("p",null,"As all the tests are performed on the single API endpoints, they all share the same API Base URI. REST-assured provides a convenient way to configure this base uri to be used by all the tests."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"RestAssuredCatalogueCRUDTest.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@BeforeEach"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"setURL"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"RestAssured"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"baseURI ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"http://[::1]:8081/api/v1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("strong",{parentName:"strong"},"Note")),": Rather than defining the baseURI before each test, we can configure static block and assign the value just once. But this is not being honored and unclear why. To focus on the overall implementation, this is parked aside for further analysis."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Static block not%honored"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"RestAssured"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"baseURI ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"http://localhost:8080/api/v1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Below is implementation of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Update Catalogue Item by SKU"),":"),(0,s.mdx)("p",null,"Multiple operations are handled for update request. Create instance of CatalogueItem and send request to create it. Update few fields in the CatalogueItem and pass it to update it by its ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku")," number. Now, access get request passing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku")," and validating if we are receiving the response body with updated field values."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"RestAssuredCatalogueCRUDTest.java"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Test"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@DisplayName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Test Update Catalogue Item"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"test_updateCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"try")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Create Catalogue Item"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareRandomSKUNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"postCreateCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Update catalogue item"),"\n    catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Updated-"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"+"),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setDescription"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Updated-"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},"+"),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getDescription"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"given"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"contentType"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"application/json"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"body"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"pathParam"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"when"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/{sku}"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"then"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertThat"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"spec"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareResponseSpec"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"200"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Get updated catalogue item with the sku of the catalogue item that is created and compare the response fields"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"given"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"pathParam"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSku"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"when"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"get"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/{sku}"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"then"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertThat"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"spec"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareResponseSpec"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"200"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"and"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertThat"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"body"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"name"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"equalTo"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"and"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"assertThat"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"body"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"category"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"equalTo"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getCategory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"catch"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"fail"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Error occurred while testing catalogue item update"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Going through each test method would make this article even lengthy than what it is now. To cut short, Refer to ",(0,s.mdx)(d,{href:"https://github.com/2much2learn/article-apr23-restful-event-driven-microservice-using-quarkus-jpa-kafka/blob/master/src/test/java/com/toomuch2learn/crud/catalogue/RestAssuredCatalogueCRUDTest.java",mdxType:"ExternalLink"},"source code")," for complete implementation of each test method."),(0,s.mdx)("h3",{id:"testing-kafka-events"},"Testing Kafka Events"),(0,s.mdx)("p",null,"With ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"KafkaTestResource")," created to bootstrap Testcontainer Kafka cluster, we can perfom integration tests by publishing and consuming messages to topics and validate the functionality relying on them."),(0,s.mdx)("p",null,"Tests are broken down to two different classes based on Incoming & Outgoing messages."),(0,s.mdx)("h4",{id:"incoming-message"},"Incoming Message"),(0,s.mdx)("p",null,"As per the usecase defined for handling ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"product-purchased")," event, we need to mimic a product is purchased from online shopping application and the inventory stock for that product should be deceremented in catalogue database."),(0,s.mdx)("p",null,"Below is the sequence flow of the test"),(0,s.mdx)("div",{className:"mermaid","data-processed":"true"},(0,s.mdx)("svg",{parentName:"div",id:"mermaid-1644555124177",width:"100%",xmlns:"http://www.w3.org/2000/svg",xmlnsXLink:"http://www.w3.org/1999/xlink",height:"233",style:{maxWidth:"541.46875px"},viewBox:"0 0 541.46875 233"},(0,s.mdx)("style",{parentName:"svg"},'#mermaid-1644555124177 {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1644555124177 .error-icon{fill:#552222;}#mermaid-1644555124177 .error-text{fill:#552222;stroke:#552222;}#mermaid-1644555124177 .edge-thickness-normal{stroke-width:2px;}#mermaid-1644555124177 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1644555124177 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1644555124177 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1644555124177 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1644555124177 .marker{fill:#333333;stroke:#333333;}#mermaid-1644555124177 .marker.cross{stroke:#333333;}#mermaid-1644555124177 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1644555124177 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1644555124177 .cluster-label text{fill:#333;}#mermaid-1644555124177 .cluster-label span{color:#333;}#mermaid-1644555124177 .label text,#mermaid-1644555124177 span{fill:#333;color:#333;}#mermaid-1644555124177 .node rect,#mermaid-1644555124177 .node circle,#mermaid-1644555124177 .node ellipse,#mermaid-1644555124177 .node polygon,#mermaid-1644555124177 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1644555124177 .node .label{text-align:center;}#mermaid-1644555124177 .node.clickable{cursor:pointer;}#mermaid-1644555124177 .arrowheadPath{fill:#333333;}#mermaid-1644555124177 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1644555124177 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1644555124177 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1644555124177 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1644555124177 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1644555124177 .cluster text{fill:#333;}#mermaid-1644555124177 .cluster span{color:#333;}#mermaid-1644555124177 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1644555124177 .node rect{fill:cornflowerblue;}#mermaid-1644555124177 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}'),(0,s.mdx)("g",{parentName:"svg"},(0,s.mdx)("g",{parentName:"g",className:"output"},(0,s.mdx)("g",{parentName:"g",className:"clusters"}),(0,s.mdx)("g",{parentName:"g",className:"edgePaths"},(0,s.mdx)("g",{parentName:"g",className:"edgePath LS-A LE-B",id:"L-A-B",style:{opacity:"1"}},(0,s.mdx)("path",{parentName:"g",className:"path",d:"M270.734375,47L270.734375,72L270.734375,97",markerEnd:"url(#arrowhead12)",style:{fill:"none"}}),(0,s.mdx)("defs",{parentName:"g"},(0,s.mdx)("marker",{parentName:"defs",id:"arrowhead12",viewBox:"0 0 10 10",refX:"9",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},(0,s.mdx)("path",{parentName:"marker",d:"M 0 0 L 10 5 L 0 10 z",className:"arrowheadPath",style:{strokeWidth:"1",strokeDasharray:"1, 0"}})))),(0,s.mdx)("g",{parentName:"g",className:"edgePath LS-B LE-C",id:"L-B-C",style:{opacity:"1"}},(0,s.mdx)("path",{parentName:"g",className:"path",d:"M270.734375,136L270.734375,161L270.734375,186",markerEnd:"url(#arrowhead13)",style:{fill:"none"}}),(0,s.mdx)("defs",{parentName:"g"},(0,s.mdx)("marker",{parentName:"defs",id:"arrowhead13",viewBox:"0 0 10 10",refX:"9",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},(0,s.mdx)("path",{parentName:"marker",d:"M 0 0 L 10 5 L 0 10 z",className:"arrowheadPath",style:{strokeWidth:"1",strokeDasharray:"1, 0"}}))))),(0,s.mdx)("g",{parentName:"g",className:"edgeLabels"},(0,s.mdx)("g",{parentName:"g",className:"edgeLabel",transform:"",style:{opacity:"1"}},(0,s.mdx)("g",{parentName:"g",transform:"translate(0,0)",className:"label"},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",width:"0",height:"0"}),(0,s.mdx)("foreignObject",{parentName:"g",width:"0",height:"0"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},(0,s.mdx)("span",{parentName:"div",id:"L-L-A-B",className:"edgeLabel L-LS-A' L-LE-B"}))))),(0,s.mdx)("g",{parentName:"g",className:"edgeLabel",transform:"",style:{opacity:"1"}},(0,s.mdx)("g",{parentName:"g",transform:"translate(0,0)",className:"label"},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",width:"0",height:"0"}),(0,s.mdx)("foreignObject",{parentName:"g",width:"0",height:"0"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},(0,s.mdx)("span",{parentName:"div",id:"L-L-B-C",className:"edgeLabel L-LS-B' L-LE-C"})))))),(0,s.mdx)("g",{parentName:"g",className:"nodes"},(0,s.mdx)("g",{parentName:"g",className:"node default",id:"flowchart-A-3",transform:"translate(270.734375,27.5)",style:{opacity:"1"}},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",x:"-156.2109375",y:"-19.5",width:"312.421875",height:"39",className:"label-container"}),(0,s.mdx)("g",{parentName:"g",className:"label",transform:"translate(0,0)"},(0,s.mdx)("g",{parentName:"g",transform:"translate(-146.2109375,-9.5)"},(0,s.mdx)("foreignObject",{parentName:"g",width:"292.421875",height:"19"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},"Create Catalogue Item with inventory 10"))))),(0,s.mdx)("g",{parentName:"g",className:"node default",id:"flowchart-B-4",transform:"translate(270.734375,116.5)",style:{opacity:"1"}},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",x:"-262.734375",y:"-19.5",width:"525.46875",height:"39",className:"label-container"}),(0,s.mdx)("g",{parentName:"g",className:"label",transform:"translate(0,0)"},(0,s.mdx)("g",{parentName:"g",transform:"translate(-252.734375,-9.5)"},(0,s.mdx)("foreignObject",{parentName:"g",width:"505.46875",height:"19"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},"Publish message to product-purchase topic for created catalogue item"))))),(0,s.mdx)("g",{parentName:"g",className:"node default",id:"flowchart-C-5",transform:"translate(270.734375,205.5)",style:{opacity:"1"}},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",x:"-253.7890625",y:"-19.5",width:"507.578125",height:"39",className:"label-container"}),(0,s.mdx)("g",{parentName:"g",className:"label",transform:"translate(0,0)"},(0,s.mdx)("g",{parentName:"g",transform:"translate(-243.7890625,-9.5)"},(0,s.mdx)("foreignObject",{parentName:"g",width:"487.578125",height:"19"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},"Validate inventory by getting details for the created catalogue item")))))))))),(0,s.mdx)("p",null,"To mimic this, ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"createProducer")," method includes creation of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"KafkaProducer")," instance with required configurations assigned to publish message to it in test method as per the sequence diagram defined above."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"ProductPurchasedIncomingEventTest.java"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"io",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"quarkus",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"test",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"junit",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"QuarkusTest"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"apache",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"kafka",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"clients",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"producer",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaProducer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@QuarkusTestResource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaTestResource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@QuarkusTest"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@DisabledOnNativeImage"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPurchasedIncomingEventTest")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"extends")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"BaseTest"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger")," log ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getLogger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"PriceUpdatedOutgoingEventTest"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Producer"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"createProducer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Properties")," props ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Properties"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProducerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"BOOTSTRAP_SERVERS_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"System"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getProperty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafka.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProducerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"CLIENT_ID_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"product-purchased"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProducerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"KEY_SERIALIZER_CLASS_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"StringSerializer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProducerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"VALUE_SERIALIZER_CLASS_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"StringSerializer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"KafkaProducer"),(0,s.mdx)("span",{parentName:"span",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"props",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Test"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"testProductPurchasedIncomingEvent"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"RestAssured"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"baseURI ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"http://[::1]:8081/api/v1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"try")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n            ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," sku ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareRandomSKUNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n            ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Create Catalogue Item"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token function"},"postCreateCatalogueItem"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n            log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"===> Producing product purchased event for %s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Producer"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," producer ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"createProducer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            producer",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"send"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProducerRecord"),(0,s.mdx)("span",{parentName:"span",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"product-purchased"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"testcontainers"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," sku",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Wait for 10 seconds for the message to be handled by the application"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Thread"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"sleep"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token number"},"10000"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n            log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"===> Invocking get request for "'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n            ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Get Catalogue item with the sku of the catalogue item that is created and compare the response fields"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Response")," response ",(0,s.mdx)("span",{parentName:"span",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"span",className:"token function"},"given"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"pathParam"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," sku",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"when"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"get"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"/{sku}"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," getCatalogueItem ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," response",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getBody"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"as"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n            log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"===> Received response for %s with inventory-%s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," getCatalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getInventory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Assertions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"getCatalogueItem",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"getInventory"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," catalogueItem",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"getInventory"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"span",className:"token operator"},"-")," ",(0,s.mdx)("span",{parentName:"span",className:"token number"},"1"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"catch"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"fail"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Error occurred while testing Product Purchased event"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Code highlighted depicts the sequence diagram."),(0,s.mdx)("h4",{id:"outgoing-message"},"Outgoing Message"),(0,s.mdx)("p",null,"As per the usecase defined to publish handling ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"price-updated")," event, we need to mimic a product is updated with price differing to what is available in catalogue database and validate if message published to topic is inline to what is updated to database."),(0,s.mdx)("p",null,"Below is the sequence flow of the test"),(0,s.mdx)("div",{className:"mermaid","data-processed":"true"},(0,s.mdx)("svg",{parentName:"div",id:"mermaid-1644555124177",width:"100%",xmlns:"http://www.w3.org/2000/svg",xmlnsXLink:"http://www.w3.org/1999/xlink",height:"233",style:{maxWidth:"768.765625px"},viewBox:"0 0 768.765625 233"},(0,s.mdx)("style",{parentName:"svg"},'#mermaid-1644555124177 {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1644555124177 .error-icon{fill:#552222;}#mermaid-1644555124177 .error-text{fill:#552222;stroke:#552222;}#mermaid-1644555124177 .edge-thickness-normal{stroke-width:2px;}#mermaid-1644555124177 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1644555124177 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1644555124177 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1644555124177 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1644555124177 .marker{fill:#333333;stroke:#333333;}#mermaid-1644555124177 .marker.cross{stroke:#333333;}#mermaid-1644555124177 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1644555124177 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1644555124177 .cluster-label text{fill:#333;}#mermaid-1644555124177 .cluster-label span{color:#333;}#mermaid-1644555124177 .label text,#mermaid-1644555124177 span{fill:#333;color:#333;}#mermaid-1644555124177 .node rect,#mermaid-1644555124177 .node circle,#mermaid-1644555124177 .node ellipse,#mermaid-1644555124177 .node polygon,#mermaid-1644555124177 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1644555124177 .node .label{text-align:center;}#mermaid-1644555124177 .node.clickable{cursor:pointer;}#mermaid-1644555124177 .arrowheadPath{fill:#333333;}#mermaid-1644555124177 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1644555124177 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1644555124177 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1644555124177 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1644555124177 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1644555124177 .cluster text{fill:#333;}#mermaid-1644555124177 .cluster span{color:#333;}#mermaid-1644555124177 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1644555124177 .node rect{fill:cornflowerblue;}#mermaid-1644555124177 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}'),(0,s.mdx)("g",{parentName:"svg"},(0,s.mdx)("g",{parentName:"g",className:"output"},(0,s.mdx)("g",{parentName:"g",className:"clusters"}),(0,s.mdx)("g",{parentName:"g",className:"edgePaths"},(0,s.mdx)("g",{parentName:"g",className:"edgePath LS-A LE-B",id:"L-A-B",style:{opacity:"1"}},(0,s.mdx)("path",{parentName:"g",className:"path",d:"M384.3828125,47L384.3828125,72L384.3828125,97",markerEnd:"url(#arrowhead12)",style:{fill:"none"}}),(0,s.mdx)("defs",{parentName:"g"},(0,s.mdx)("marker",{parentName:"defs",id:"arrowhead12",viewBox:"0 0 10 10",refX:"9",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},(0,s.mdx)("path",{parentName:"marker",d:"M 0 0 L 10 5 L 0 10 z",className:"arrowheadPath",style:{strokeWidth:"1",strokeDasharray:"1, 0"}})))),(0,s.mdx)("g",{parentName:"g",className:"edgePath LS-B LE-C",id:"L-B-C",style:{opacity:"1"}},(0,s.mdx)("path",{parentName:"g",className:"path",d:"M384.3828125,136L384.3828125,161L384.3828125,186",markerEnd:"url(#arrowhead13)",style:{fill:"none"}}),(0,s.mdx)("defs",{parentName:"g"},(0,s.mdx)("marker",{parentName:"defs",id:"arrowhead13",viewBox:"0 0 10 10",refX:"9",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},(0,s.mdx)("path",{parentName:"marker",d:"M 0 0 L 10 5 L 0 10 z",className:"arrowheadPath",style:{strokeWidth:"1",strokeDasharray:"1, 0"}}))))),(0,s.mdx)("g",{parentName:"g",className:"edgeLabels"},(0,s.mdx)("g",{parentName:"g",className:"edgeLabel",transform:"",style:{opacity:"1"}},(0,s.mdx)("g",{parentName:"g",transform:"translate(0,0)",className:"label"},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",width:"0",height:"0"}),(0,s.mdx)("foreignObject",{parentName:"g",width:"0",height:"0"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},(0,s.mdx)("span",{parentName:"div",id:"L-L-A-B",className:"edgeLabel L-LS-A' L-LE-B"}))))),(0,s.mdx)("g",{parentName:"g",className:"edgeLabel",transform:"",style:{opacity:"1"}},(0,s.mdx)("g",{parentName:"g",transform:"translate(0,0)",className:"label"},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",width:"0",height:"0"}),(0,s.mdx)("foreignObject",{parentName:"g",width:"0",height:"0"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},(0,s.mdx)("span",{parentName:"div",id:"L-L-B-C",className:"edgeLabel L-LS-B' L-LE-C"})))))),(0,s.mdx)("g",{parentName:"g",className:"nodes"},(0,s.mdx)("g",{parentName:"g",className:"node default",id:"flowchart-A-3",transform:"translate(384.3828125,27.5)",style:{opacity:"1"}},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",x:"-151.8828125",y:"-19.5",width:"303.765625",height:"39",className:"label-container"}),(0,s.mdx)("g",{parentName:"g",className:"label",transform:"translate(0,0)"},(0,s.mdx)("g",{parentName:"g",transform:"translate(-141.8828125,-9.5)"},(0,s.mdx)("foreignObject",{parentName:"g",width:"283.765625",height:"19"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},"Create Catalogue Item with price 10.00"))))),(0,s.mdx)("g",{parentName:"g",className:"node default",id:"flowchart-B-4",transform:"translate(384.3828125,116.5)",style:{opacity:"1"}},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",x:"-201.7734375",y:"-19.5",width:"403.546875",height:"39",className:"label-container"}),(0,s.mdx)("g",{parentName:"g",className:"label",transform:"translate(0,0)"},(0,s.mdx)("g",{parentName:"g",transform:"translate(-191.7734375,-9.5)"},(0,s.mdx)("foreignObject",{parentName:"g",width:"383.546875",height:"19"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},"Update price to 99.99 for the created catalogue item"))))),(0,s.mdx)("g",{parentName:"g",className:"node default",id:"flowchart-C-5",transform:"translate(384.3828125,205.5)",style:{opacity:"1"}},(0,s.mdx)("rect",{parentName:"g",rx:"0",ry:"0",x:"-376.3828125",y:"-19.5",width:"752.765625",height:"39",className:"label-container"}),(0,s.mdx)("g",{parentName:"g",className:"label",transform:"translate(0,0)"},(0,s.mdx)("g",{parentName:"g",transform:"translate(-366.3828125,-9.5)"},(0,s.mdx)("foreignObject",{parentName:"g",width:"732.765625",height:"19"},(0,s.mdx)("div",{parentName:"foreignObject",xmlns:"http://www.w3.org/1999/xhtml",style:{display:"inline-block",whiteSpace:"nowrap"}},"Consume published message and validate if it includes the same price for the updated catalogue item")))))))))),(0,s.mdx)("p",null,"To mimic this, ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"createConsumer")," method includes creation of ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"KafkaConsumer")," instance with required configurations assigned to subscribed to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"price-updated")," topic and consume published message as per the sequence diagram defined above."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"PriceUpdatedOutgoingEventTest.java"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"package")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"com",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"toomuch2learn",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"crud",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"catalogue"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"io",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"quarkus",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"test",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"junit",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"QuarkusTest"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token namespace"},"org",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"apache",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"kafka",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"clients",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"consumer",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},".")),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaConsumer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@QuarkusTestResource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaTestResource"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@QuarkusTest"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@DisabledOnNativeImage"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"PriceUpdatedOutgoingEventTest")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"extends")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"BaseTest"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Logger")," log ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"LoggerFactory"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getLogger"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"PriceUpdatedOutgoingEventTest"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"static")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"KafkaConsumer"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"createConsumer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Properties")," props ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Properties"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"BOOTSTRAP_SERVERS_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"System"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getProperty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"kafka.bootstrap.servers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"ALLOW_AUTO_CREATE_TOPICS_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"true"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"GROUP_ID_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"price-updated"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"KEY_DESERIALIZER_CLASS_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"IntegerDeserializer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"VALUE_DESERIALIZER_CLASS_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ProductPriceDeserializer"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getName"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"ENABLE_AUTO_COMMIT_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"true"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        props",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerConfig"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"AUTO_OFFSET_RESET_CONFIG",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"earliest"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"KafkaConsumer"),(0,s.mdx)("span",{parentName:"span",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," consumer ",(0,s.mdx)("span",{parentName:"span",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"new")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"KafkaConsumer"),(0,s.mdx)("span",{parentName:"span",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"props",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"        consumer",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"subscribe"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Collections"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"singletonList"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"price-updated"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," consumer",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Test"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"void")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"test"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"throws")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"RestAssured"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"baseURI ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"http://[::1]:8081/api/v1"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"try")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"KafkaConsumer"),(0,s.mdx)("span",{parentName:"span",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," consumer ",(0,s.mdx)("span",{parentName:"span",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"span",className:"token function"},"createConsumer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String")," sku ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareRandomSKUNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Create Catalogue Item"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItem")," catalogueItem ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"prepareCatalogueItem"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token function"},"postCreateCatalogueItem"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// Update catalogue item"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"double")," priceUpdatedTo ",(0,s.mdx)("span",{parentName:"span",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"span",className:"token number"},"99.99"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"            catalogueItem",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"setPrice"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"priceUpdatedTo",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token function"},"given"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"contentType"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"application/json"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"body"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),"catalogueItem",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"pathParam"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"sku"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," sku",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"when"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"put"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token string"},'"/{sku}"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"            ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"then"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")")),(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"assertThat"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"spec"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token function"},"prepareResponseSpec"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token number"},"200"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Unreliables"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"retryUntilTrue"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"45"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"TimeUnit"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"SECONDS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"->")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ConsumerRecords"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Integer"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"ProductPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," records ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," consumer",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"poll"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Duration"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"ofMillis"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"100"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n                ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"if")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"records",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"isEmpty"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"false"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n                records",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"forEach"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"record")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"->")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                    log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"==> Received %s "'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"record"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"value"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSkuNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n                    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"if"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"record"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"value"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSkuNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"equals"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"sku",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                        log",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"info"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"String"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"format"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"==> Product price received :: %s - %s"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"record"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"value"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getSkuNumber"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"record"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"value"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"getPrice"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},"                        ",(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Assertions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"assertEquals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token keyword"},"record"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"value"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"span",className:"token function"},"getPrice"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," priceUpdatedTo",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},";")),"                    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n                ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n                ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n            consumer",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"unsubscribe"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"catch"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Exception")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"fail"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Error occurred while testing price updated event"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," e",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"Code highlighted depicts the sequence diagram."),(0,s.mdx)("h2",{id:"collecting-code-coverage-metrics"},"Collecting Code Coverage Metrics"),(0,s.mdx)(d,{href:"https://www.eclemma.org/jacoco/",mdxType:"ExternalLink"},"JaCoCo")," is a free code coverage library for Java which is widely used to capture the code coverage metrics during tests execution.",(0,s.mdx)("p",null,"JaCoCo can be configured with Maven & Gradle builds which generate the coverage reports. Below are the configurations that should be done:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"pom.xml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"xml"},(0,s.mdx)("pre",{parentName:"div",className:"language-xml"},(0,s.mdx)("code",{parentName:"pre",className:"language-xml"},(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"build"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugins"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ....\n      ....\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"\x3c!-- Add JaCoCo plugin which is prepare agent and also generate report once test phase is completed--\x3e"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"org.jacoco",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"groupId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"jacoco-maven-plugin",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"artifactId"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"0.8.5",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"version"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"prepare-agent",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"report",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"id"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"phase"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"test",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"phase"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n            ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"report",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goal"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n          ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"goals"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"execution"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"executions"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugin"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"plugins"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"build"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"build.gradle"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"ruby"},(0,s.mdx)("pre",{parentName:"div",className:"language-ruby"},(0,s.mdx)("code",{parentName:"pre",className:"language-ruby"},"plugins ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"..."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"..."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"..."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"\n  id ",(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},"'jacoco'")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token regex-literal"},(0,s.mdx)("span",{parentName:"span",className:"token regex"},"/* Configure where the report should be generated*/")),"\njacocoTestReport ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  reports ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    html",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"destination file",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string-literal"},(0,s.mdx)("span",{parentName:"span",className:"token string"},'"${buildDir}/jacocoHtml"')),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"For Maven, running ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"mvn clean package")," will execute the tests and also generate the report. But for Gradle, we need to pass additional task along with build task to generate the report ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gradle clean build jacocoTestReport"),"."),(0,s.mdx)("p",null,"Below is the report that is generated from both Maven & Gradle and it matches irrespective of the build system used."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/a6c68ac6d56d0492431e8c6321ca9001/8de58/jacoco_coverage.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.834355828220858%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA+wAAAPsAHpfpy9AAAA90lEQVQY05WN0VLCMBAA+/8/pg8dVARHRoS00pZCLmnu0uTuCkUHvsCdfd3ZoqqMH/x0mW7/ZJ7n4muzq80BTjA49Da4Q2OO+xOcO3s8g8UBrbXuDgB47y2AtRYAELH4fu/36+N22e5W3Wij2b8+90/NuTWHzSd8tNA4cERIRIP3MUZCxBCIKKdUvL3yajkuX8a24ds8n4aflrsxxoFcvqbMiYhUVUVSSiqiIsKsqpNqUZbXxULKUtZrlXzdho0TR4EihjRFykQB5R7klIT5IeesqoUxl7qe6mqqzJTTpQsNC2NA6Ns+di66iJRzYuZIxDk/FOa/8y8y51KIWtm8BgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"JaCoCo Coverage Report",title:"JaCoCo Coverage Report",src:"/static/a6c68ac6d56d0492431e8c6321ca9001/a6d36/jacoco_coverage.png",srcSet:["/static/a6c68ac6d56d0492431e8c6321ca9001/222b7/jacoco_coverage.png 163w","/static/a6c68ac6d56d0492431e8c6321ca9001/ff46a/jacoco_coverage.png 325w","/static/a6c68ac6d56d0492431e8c6321ca9001/a6d36/jacoco_coverage.png 650w","/static/a6c68ac6d56d0492431e8c6321ca9001/e548f/jacoco_coverage.png 975w","/static/a6c68ac6d56d0492431e8c6321ca9001/8de58/jacoco_coverage.png 1219w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"JaCoCo Coverage Report"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Note"),":"),(0,s.mdx)("p",null,"With ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Lombok")," used in the project, it will cause problems with coverage metrics. ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Jacoco")," can’t distinguish between Lombok’s generated code and the normal source code. As a result, the reported coverage rate drops unrealistically low. "),(0,s.mdx)("p",null,"To fix this, we need to create a file named ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"lombok.config")," in project directory’s root and set the following flag as below. This adds the annotation lombok.@Generated to the relevant methods, classes and fields. Jacoco is aware of this annotation and will ignore that annotated code."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"lombok.addLombokGeneratedAnnotation = true"))),(0,s.mdx)("p",null,"Below is the report generated without this configuration file added to the project. As observed, we see the coverage result drastically decreased."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/70947fb0e246ad2a7b5d38377df6e66c/bb3b7/jacoco_coverage_lombok_issue.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.834355828220858%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA+wAAAPsAHpfpy9AAAA7ElEQVQY043OXUvDQBCF4fz/v9ZSRK1UStKtlZDumv2aSWZmJ81KKwje+XJuHzhN339Cjrfbrda6rvX/revaHN4/2q63DlNmojmcz19d60YXLpfxeEzOjd5ba73349+maWr2T/nwHF92/vgWgouhPbC1g7smc5K+j9b6EJyziOi9h5xzTjFGAGCipnu5mv1weh2GbiQiKFBrTSkSU60VABCBiFQVAYpIKYWZRWRRbTabZbeT7VZORlUX0buJMfADz9OEiPyDER9YhFmYVbVpu8UYNUbbVomWjImJg/c++CJC84xwr4jg4+rvSinfNeJUUOZbeIsAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"JaCoCo Code coverage Lombok Issue",title:"JaCoCo Code coverage Lombok Issue",src:"/static/70947fb0e246ad2a7b5d38377df6e66c/a6d36/jacoco_coverage_lombok_issue.png",srcSet:["/static/70947fb0e246ad2a7b5d38377df6e66c/222b7/jacoco_coverage_lombok_issue.png 163w","/static/70947fb0e246ad2a7b5d38377df6e66c/ff46a/jacoco_coverage_lombok_issue.png 325w","/static/70947fb0e246ad2a7b5d38377df6e66c/a6d36/jacoco_coverage_lombok_issue.png 650w","/static/70947fb0e246ad2a7b5d38377df6e66c/e548f/jacoco_coverage_lombok_issue.png 975w","/static/70947fb0e246ad2a7b5d38377df6e66c/bb3b7/jacoco_coverage_lombok_issue.png 1211w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"JaCoCo Code coverage Lombok Issue"),"\n  ")),(0,s.mdx)("h2",{id:"automatic-restart-and-live-reloading-in-development-mode"},"Automatic Restart and Live Reloading in Development Mode"),(0,s.mdx)("p",null,"Quarkus comes with a built-in development mode. Run your application with:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Maven"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ mvn clean compile quarkus:dev"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Gradle"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ gradle clean quarkusDev"))),(0,s.mdx)("p",null,"We can then update the application sources, resources and configurations after running the above command. The changes are automatically reflected in our running application. This is great to do development spanning UI and database as you see changes reflected immediately."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus:dev")," enables hot deployment with background compilation, which means that when you modify your Java files or your resource files and refresh your browser these changes will automatically take effect. This works too for resource files like the configuration property file. The act of refreshing the browser triggers a scan of the workspace, and if any changes are detected the Java files are compiled, and the application is redeployed, then your request is serviced by the redeployed application. If there are any issues with compilation or deployment an error page will let you know."),(0,s.mdx)("p",null,"Hit ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"CTRL+C")," to stop the application."),(0,s.mdx)("h2",{id:"packaging-and-running-quarkus-application"},"Packaging and Running Quarkus Application"),(0,s.mdx)("p",null,"Application generated from ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"code.quarkus.io")," includes ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus")," plugin with both Maven & Gradle. This plugin provides numerous options that are helpful during development mode and for packaging the application either in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"JVM")," or ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Native")," mode."),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Native")," mode creates executables make Quarkus applications ideal for containers and serverless workloads. Ensure ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"GraalVM >= v19.3.1")," is installed and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"GRAALVM_HOME")," is configured."),(0,s.mdx)("p",null,"Below are series of steps for packaging and running quarkus application with Maven & Gradle."),(0,s.mdx)("h3",{id:"jvm-mode"},"JVM Mode"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Maven"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ mvn clean package\n\n$ java -jar target/catalogue-crud-1.0.0-SNAPSHOT-runner.jar"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Gradle"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ gradle clean quarkusBuild --uber-jar\n\n$ java -jar build/catalogue-crud-1.0.0-SNAPSHOT-runner.jar"))),(0,s.mdx)("h3",{id:"native-mode"},"Native Mode"),(0,s.mdx)("p",null,"Create a native executable by executing below command"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Maven"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ mvn clean package -Pnative\n\n$ ./target/catalogue-crud-1.0.0-SNAPSHOT-runner"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Gradle"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ gradle clean buildNative\n\n$ ./build/catalogue-crud-1.0.0-SNAPSHOT-runner"))),(0,s.mdx)("p",null,"Below is sample output of build creating native package and starting it up:"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/0aa8eb84271f51b930e4c0fef8357fa7/0d1a4/quarkus-mvn-native-package.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"72.39263803680981%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA+wAAAPsAHpfpy9AAACE0lEQVQoz22T646bMBCFeZI2uyEBDAZ8xZfxHUJUqe37v03lrCqtupWO/MtnvpnRmYYcv7FgvZh6MWFNFkm52agSm4VZSsTYsCwIz2iaEZ6HCaMJIzz349ShsSHl56DVm6ZXKzAolSNxmnpjcpYG1m0jclsZ78axH8ex+mf0t0Sj9h/EAvGOpYiN6QS/zPP3df62TCNllPGF0IXyhTDCBZOScEEYp0JSLhqRnsz7xcMcAINBRk2gcXDIGgbWhQg+GB8gRAjRgHMxhZx9TFLpxoDP+1GOhwtx00YZa8CJTXG5bcYoC3xTm7HKgtRGaiOUFkora4VSTcgl5GKcy8cj5KLBQYjDNHGl+KbBx5UyZWx77y7t7e2ly7W9XNv3272JZd8fZ23JeReTS2k/n8f5TPsRcrE++JhcjBpcnZaLcV7wuuKV3Pqhkqv59SmWAiHWqVLxKX+UY3KjXOB1vQ/os9qub2IpsezawnE+98fpQvIpMyk1eKG0T5lwrq273rv32/2zrveuth3KriyUx5mPh/XRpTyva92Q0iEXJqQBd+uH6737R5Wc9sNU8rk/Th9ifJmt89rCiyw0fJC/mMN++FKkteE4/HGoGG3OI8baOp/qFoRS1geE8X/I6/4LWd2DGjjrl2UgZKB0YWyhNVIrq+/wCnbb9f8xCwM1D8aKTdXocY4m3KGxQ+PHAbRd/9bevpL/ABS4rGSp5vsCAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Building native executable",title:"Building native executable",src:"/static/0aa8eb84271f51b930e4c0fef8357fa7/a6d36/quarkus-mvn-native-package.png",srcSet:["/static/0aa8eb84271f51b930e4c0fef8357fa7/222b7/quarkus-mvn-native-package.png 163w","/static/0aa8eb84271f51b930e4c0fef8357fa7/ff46a/quarkus-mvn-native-package.png 325w","/static/0aa8eb84271f51b930e4c0fef8357fa7/a6d36/quarkus-mvn-native-package.png 650w","/static/0aa8eb84271f51b930e4c0fef8357fa7/e548f/quarkus-mvn-native-package.png 975w","/static/0aa8eb84271f51b930e4c0fef8357fa7/0d1a4/quarkus-mvn-native-package.png 1036w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Building native executable"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/777cc6496f7cd08c7246703f080eaf76/f32b7/quarkus-native-executable.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"19.631901840490798%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAA+wAAAPsAHpfpy9AAAAqElEQVQI102NSW6EQBDAeEomdNFV1NorCCTy/19Fk+QQyQfLFy/paGuLtViKAGvgHbxvMbAe2Xv2v4IWGqFR2Fw8vDY2X1hM1UVdzFmNVZGImMVMPYj5M8Evr398rOmVYAHat50zM7LsZsjC5hpFI9iMRFPGdcOUEZBSfstGOyAB0nI/X/fz1DFLG7WPOmYdc57Xed3ndffjLD+x9GGl1jGjddb3g0S/Aad0KiROPWVJAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Running executable application",title:"Running executable application",src:"/static/777cc6496f7cd08c7246703f080eaf76/a6d36/quarkus-native-executable.png",srcSet:["/static/777cc6496f7cd08c7246703f080eaf76/222b7/quarkus-native-executable.png 163w","/static/777cc6496f7cd08c7246703f080eaf76/ff46a/quarkus-native-executable.png 325w","/static/777cc6496f7cd08c7246703f080eaf76/a6d36/quarkus-native-executable.png 650w","/static/777cc6496f7cd08c7246703f080eaf76/e548f/quarkus-native-executable.png 975w","/static/777cc6496f7cd08c7246703f080eaf76/f32b7/quarkus-native-executable.png 1136w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Running executable application"),"\n  ")),(0,s.mdx)("h4",{id:"native-build-are-more-memory--cpu-intensive"},"Native build are more memory & CPU intensive"),(0,s.mdx)("p",null,"GraalVM-based native build are more memory & CPU intensive than regular pure Java builds. "),(0,s.mdx)("p",null,"Below is ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"htop")," stats when packaging native executable:"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"628px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/b42e1abac2f62462ae48ddfd5d980ef4/3d84d/htop-nativeimage-build.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.306748466257666%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA+wAAAPsAHpfpy9AAAB70lEQVQozxXJ226bMADGcd5ia0gIPkMJYDsGG2NwErK2q3a7gxY1tFNUaXeTdrfn6HG72M0edEL66S99+gKSrRK5AiWBgk74BGiSVOckyxnPkaRQUsjZ9EoaK0LrDLOkEDJgJc86vtQodmRiCTB0fgXT/Sop5KoR0CHgcFyjuMHQ4WgA2VXB0iznIqBaZV5ChZAhE42xTvOGKSeI5NQIYArYcrrhSDPYrOK+IE2BElasZUCYKBK+mpNiwcqI5RHjUSJQKdiaUA5LjQqOZCWFS6WBmcKE40UK39IyWwfhHQoPMLxD83syH/H829Rpjig8kfkpiY7X86ML71F4SsMTXRxxNNLZd3T+UQTodaSPt+j37dnfI3gZoz9j+HiYPR9mT4f45QY+36DnX/ThR/zyFT4e0et49vQlfPj85t+n9OeHwFWbob/0egdn1EhXnlfYeqRsrJqqGZrWaVVv3aByY5X3dgcKAgVbSpwbGWhnbd+ZzgKGldGZ4KgzoK2WreJdu/Y1ryvrvajWdWt1b2OFoaFLC3PHA9v1w8XlZrcDmNSNLeQabR1ozbLV0nu9tVLXfreXVWXart30sUGwoVEP804E/XZ38f56O+wBJrbrSlXhvQfeRn1TDYO96OrWDu+uKmOc3/bDZmkQaEnkYd6L/2aXfT/t/wAqAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"htop stats when building native executable",title:"htop stats when building native executable",src:"/static/b42e1abac2f62462ae48ddfd5d980ef4/3d84d/htop-nativeimage-build.png",srcSet:["/static/b42e1abac2f62462ae48ddfd5d980ef4/222b7/htop-nativeimage-build.png 163w","/static/b42e1abac2f62462ae48ddfd5d980ef4/ff46a/htop-nativeimage-build.png 325w","/static/b42e1abac2f62462ae48ddfd5d980ef4/3d84d/htop-nativeimage-build.png 628w"],sizes:"(max-width: 628px) 100vw, 628px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"htop stats when building native executable"),"\n  ")),(0,s.mdx)("p",null,"If native executable generation fails with below error message, then consider configuring ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"native-image-xmx")," in application.yaml"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Stacktrace"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ mvn clean verify -Pnative\n\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"ERROR",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," Caused by: java.lang.RuntimeException: Image generation failed.\nExit code was ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"137")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"which")," indicates an out of memory error. \nConsider increasing the Xmx value ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"for")," native image generation by \nsetting the ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"quarkus.native.native-image-xmx"')," property"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"application.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"quarkus"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# configuration options that can affect how the native image is generated"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"native"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"# The maximum Java heap to be used during the native image generation - 4 Gig"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"native-image-xmx"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," 4g"))),(0,s.mdx)("p",null,"Below is the screencast of native image build and system resources being consumed when building the native image:"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=T83w78eCLds"},"https://www.youtube.com/watch?v=T83w78eCLds")),(0,s.mdx)("h4",{id:"supporting-native-in-our-application"},"Supporting native in our application"),(0,s.mdx)("p",null,"There are quite some hurdles that we can come across if we build and run native package without going through ",(0,s.mdx)(d,{href:"https://quarkus.io/guides/writing-native-applications-tips",mdxType:"ExternalLink"},"Tips for Writing Native Applications")," documentation."),(0,s.mdx)("p",null,"One such hurdle I came across is with below error message when testing the application after running native build:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Stacktrace"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \nNo serializer found ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"for")," class org.acme.jsonb.Person and no properties \ndiscovered to create BeanSerializer ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"to avoid exception, \ndisable SerializationFeature.FAIL_ON_EMPTY_BEANS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")))),(0,s.mdx)("p",null,"When building a native executable, ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"GraalVM")," operates with a closed world assumption. It analyzes the call tree and removes all the classes/methods/fields that are not used directly."),(0,s.mdx)("p",null,"The elements used via reflection are not part of the call tree so they are dead code eliminated (if not called directly in other cases). To include these elements in your native executable, you need to register them for reflection explicitly."),(0,s.mdx)("p",null,"This is a very common case as JSON libraries typically use reflection to serialize the objects to JSON when preparing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Response")," object in Controller classes."),(0,s.mdx)("p",null,"Classes that need to be serialized should be registered with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@RegisterForReflection")," annotation or should be registered in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"resources/reflection-config.json")," if they are part of third-party jar."),(0,s.mdx)("p",null,"For purpose of this article, we have few classes registered via annotation and few registered in reflection-config.json file."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Registering with Annotation"),(0,s.mdx)("div",{className:"gatsby-highlight has-highlighted-lines","data-language":"java"},(0,s.mdx)("pre",{parentName:"div",className:"language-java"},(0,s.mdx)("code",{parentName:"pre",className:"language-java"},(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Data"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NoArgsConstructor"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@AllArgsConstructor"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},(0,s.mdx)("span",{parentName:"span",className:"token annotation punctuation"},"@RegisterForReflection")),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"ResourceIdentity")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"Long")," id",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@Data"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@AllArgsConstructor"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NoArgsConstructor"),"\n",(0,s.mdx)("span",{parentName:"code",className:"gatsby-highlight-code-line"},(0,s.mdx)("span",{parentName:"span",className:"token annotation punctuation"},"@RegisterForReflection")),(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"public")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"CatalogueItemList")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",(0,s.mdx)("span",{parentName:"code",className:"token annotation punctuation"},"@NonNull"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"private")," ",(0,s.mdx)("span",{parentName:"code",className:"token class-name"},"List"),(0,s.mdx)("span",{parentName:"code",className:"token generics"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"CatalogueItem"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">"))," data",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Registering in JSON file"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"name"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"com.toomuch2learn.crud.catalogue.error.ErrorResponse"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allDeclaredConstructors"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allPublicConstructors"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allDeclaredMethods"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allPublicMethods"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allDeclaredFields"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allPublicFields"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"name"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"com.toomuch2learn.crud.catalogue.error.Error"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allDeclaredConstructors"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allPublicConstructors"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allDeclaredMethods"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allPublicMethods"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allDeclaredFields"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"allPublicFields"')," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean"},"true"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")))),(0,s.mdx)("p",null,"The final order of business is to make the configuration file known to the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"native-image")," executable by adding the proper configuration to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"application.yaml")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml:application.yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml:application.yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml:application.yaml"},"quarkus:\n\n  # configuration options that can affect how the native image is generated\n  native:\n\n    # Additional arguments to pass to the build process\n    additional-build-args: >\n      -H:ResourceConfigurationFiles=resources-config.json,\n      -H:ReflectionConfigurationFiles=reflection-config.json"))),(0,s.mdx)("h2",{id:"creating-docker-image"},"Creating Docker Image"),(0,s.mdx)("p",null,"A pair of Dockerfiles for jvm and native mode are provided in ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/main/docker")," when generated the code with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"code.quarkus.io"),"."),(0,s.mdx)("p",null,"Run the below command to build ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"native executable")," and then create ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"docker image")," with native executable file:"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Build Docker Image"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ mvn clean package -Pnative\n\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," build -f src/main/docker/Dockerfile.native -t crud-catalog-quarkus ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},".")))),(0,s.mdx)("p",null,"Now lets start docker container with the image created. To access postgres database container that we already started for the development, we need to use ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"--net=host")," to access it through the ip of host machine."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Run Docker image"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," run -i --rm -p ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"8080"),":8080 --net",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"="),"host crud-catalog-quarkus"))),(0,s.mdx)("h2",{id:"deploying-quarkus-application-to-kubernetes"},"Deploying Quarkus Application to Kubernetes"),(0,s.mdx)("p",null,"Quarkus offers the ability to automatically generate Kubernetes resources provided by ",(0,s.mdx)(d,{href:"https://github.com/dekorateio/dekorate/",mdxType:"ExternalLink"},"dekorate"),". Adding ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus-container-image-docker")," extension will enabile Quarkus with the ability to create a container image and push it to a registry before deploying the application to the Kubernetes cluster."),(0,s.mdx)("p",null,"For the scope of this article, we shall try to deploy quarkus application the vanilla way by following below series of steps:"),(0,s.mdx)("h3",{id:"prerequisites-1"},"Prerequisites"),(0,s.mdx)("h4",{id:"setup-kubernetes-cluster"},"Setup Kubernetes Cluster"),(0,s.mdx)("p",null,"If Kubernetes is not installed and configured, Follow below steps to setup Kubernetes Cluster using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"MicroK8s")," on Ubuntu instance"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"$ sudo snap install microk8s --classic"))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Join user group")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"$ sudo usermod -a -G microk8s $USER\n$ su - $USER"))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"verify installation")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"$ microk8s.kubectl get nodes"))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Create alias for kubectl")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"$ sudo snap alias microk8s.kubectl kubectl"))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Create shortcut for kubectl")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"$ vi ~/.bashrc\n$ alias k='microk8s.kubectl'"))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"configure firewall to allow pod-to-pod and pod-to-internet communication:")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"$ sudo ufw allow in on cni0 && sudo ufw allow out on cni0\n$ sudo ufw default allow routed"))),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Write cluster config information to ",(0,s.mdx)("code",{parentName:"li",className:"language-text"},"$HOME/.kube/config")," file")),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"text"},(0,s.mdx)("pre",{parentName:"div",className:"language-text"},(0,s.mdx)("code",{parentName:"pre",className:"language-text"},"$ microk8s.kubectl config view --raw > $HOME/.kube/config"))),(0,s.mdx)("h4",{id:"setup-skaffold"},"Setup Skaffold"),(0,s.mdx)("p",null,"Google Container Tools Skaffold (",(0,s.mdx)("a",{parentName:"p",href:"https://skaffold.dev/"},"https://skaffold.dev/"),") helps us to build and deploy the Quarkus application onto Kubernetes. It is easy and developer friendly way to build and deploy application to a local cluster like minikube/microk8s, without the need to push the image to external container registry."),(0,s.mdx)("p",null,"If Skaffold is not installed and configured, Follow below steps to setup Skaffold"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Setup Skaffold"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"curl")," -Lo skaffold https://storage.googleapis.com/skaffold/releases/latest/skaffold-linux-amd64\n\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"chmod")," +x skaffold\n\n$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"sudo")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"mv")," skaffold /usr/local/bin\n\n$ skaffold version\nv1.7.0"))),(0,s.mdx)("h3",{id:"deploying-with-skafflod"},"Deploying with Skafflod"),(0,s.mdx)("p",null,"Copy Dockerfile that is provisioned with Quarkus generated code artifact to root of the project"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"cp")," src/main/docker/Dockerfile.native Dockerfile"))),(0,s.mdx)("p",null,"Skaffold needs Kubernetes Manifest files to be created before initializing and deploying our application. "),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Kubernetes manifests")," are used to create, modify and delete Kubernetes resources such as pods, deployments, services or ingresses. It is very common to define manifests in form of .yaml files and send them to the Kubernetes API Server via commands such as kubectl apply -f my-file.yaml or kubectl delete -f my-file.yaml."),(0,s.mdx)("p",null,"Create file ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"k8s-pod.yaml")," with below content to define the pod and containers to run within it."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"k8s-pod.yaml"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"yaml"},(0,s.mdx)("pre",{parentName:"div",className:"language-yaml"},(0,s.mdx)("code",{parentName:"pre",className:"language-yaml"},(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"apiVersion"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," v1\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"kind"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," Pod\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"metadata"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," crud",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"catalog",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"quarkus\n",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"spec"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"hostNetwork"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token boolean important"},"true"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"containers"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-")," ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"name"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," crud",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"catalog",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"quarkus\n      ",(0,s.mdx)("span",{parentName:"code",className:"token key atrule"},"image"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},":")," narramadan/crud",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"catalog",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"-"),"quarkus"))),(0,s.mdx)("p",null,"Observe ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"hostNetwork: true"),". This is similar to using ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"--net=host")," to access it through the ip of host machine."),(0,s.mdx)("p",null,"Now, initialize Skaffold by running below command. This should prompt with options to choose the Dockerfile for the builder to build the image and generate ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"skaffold.yaml")," file "),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ skaffold init"))),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/22e1ac16d1da95ab154fed400a03b62a/d9217/skaffold-init.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"45.39877300613497%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABLUlEQVQoz32R226CQBRF+ZMKzMyZK8jcMuAgCAJSbfz/v2nQxqRNarKy39bZOzlJuQz686zn0c6DiTF0o2tPujna2Oumw9oh7VBlkbbIeGQ8MVZay3WFlUq60zjNy3lZv+739Xq73m7LZY3HFhijnGdAcoANQnKMn6QIp5jkBJL+PE2XdZjmfhzb/lTH1teNC3VlXWlMLuUDkTOWE/hD0g2j8R64JIwDF8AlcJEinGGSPc6/IbGh9qGW+6qo9N5YWe6pkAjoe+1HDocYDpFJRYWkUiGgWy0hz+b35YlQZaijcZ5xiYEBE5RJQjkwAVQQzjFl/8+OwRx8VTt7DCZ6G4NuHKsU1yXXhRAFcJH9dl5zkp1Fu4C3dBsfYcu0JGmBNxTevvXSCGDKmFRP/xvNfF36DVWKFgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Skaffold init execution",title:"Skaffold init execution",src:"/static/22e1ac16d1da95ab154fed400a03b62a/a6d36/skaffold-init.png",srcSet:["/static/22e1ac16d1da95ab154fed400a03b62a/222b7/skaffold-init.png 163w","/static/22e1ac16d1da95ab154fed400a03b62a/ff46a/skaffold-init.png 325w","/static/22e1ac16d1da95ab154fed400a03b62a/a6d36/skaffold-init.png 650w","/static/22e1ac16d1da95ab154fed400a03b62a/d9217/skaffold-init.png 904w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Skaffold init execution"),"\n  ")),(0,s.mdx)("p",null,"Run Skaffold to start the build and let the deployment complete"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Running Skaffold"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ skaffold run\n\nGenerating tags",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},".."),".\n - narramadan/crud-catalog-quarkus -",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," WARN",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"0000",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," Unable to ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"find")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"git")," commit: running ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"git describe --tags --always",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\n - stdout: \n - stderr: ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"fatal: not a git repository (or any of the parent directories): .git',(0,s.mdx)("span",{parentName:"span",className:"token entity",title:"\\n"},"\\n"),'"'),(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token builtin class-name"},"exit")," status ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"128")," \nnarramadan/crud-catalog-quarkus:dirty\nChecking cache",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},".."),".\n - narramadan/crud-catalog-quarkus: Found Remotely\nTags used ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"in")," deployment:\n - narramadan/crud-catalog-quarkus -",(0,s.mdx)("span",{parentName:"code",className:"token operator"},">")," narramadan/crud-catalog-quarkus:dirty@sha256:9f693b2c239e10bfa8ac875f3beffc4b8d9fd3ffad3a8db88a2290da02ff1ab6\nStarting deploy",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},".."),".\n - pod/crud-catalog-quarkus created\nWaiting ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"for")," deployments to stabilize",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},".."),".\nDeployments stabilized ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"in")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"143"),".861675ms\nYou can also run ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"skaffold run --tail",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]")," to get the logs"))),(0,s.mdx)("p",null,"Before using skaffold to deploy the application, run below command to watch the status"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Watch pods status changes once they re running"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"watch")," kubectl get pods\n\nEvery ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"2"),".0s: kubectl get pods                                            madan-Inspiron-7570: Sun Apr ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"12")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"20"),":03:11 ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"2020"),"\n\n-- Upon starting deployment using dev or run\nNAME                   READY   STATUS              RESTARTS   AGE\ncrud-catalog-quarkus   ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0"),"/1     ContainerCreating   ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0"),"          4s\n\n-- When deployed\nNAME                   READY   STATUS    RESTARTS   AGE\ncrud-catalog-quarkus   ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),"/1     Running   ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0"),"          2m25s\n\n-- upon deleting\nNAME                   READY   STATUS        RESTARTS   AGE\ncrud-catalog-quarkus   ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"1"),"/1     Terminating   ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0"),"          20m"))),(0,s.mdx)("h2",{id:"testing-apis-via-postman"},"Testing APIs via Postman"),(0,s.mdx)("p",null,"API testing tool ",(0,s.mdx)(d,{href:"https://www.postman.com/",mdxType:"ExternalLink"},"Postman")," is one of the most popular tools available. The ease of Accessibility, creating environments & collections to persist test cases which validate the response status & body and Automated testing with ",(0,s.mdx)(d,{href:"https://www.npmjs.com/package/newman",mdxType:"ExternalLink"},"Newman")," which is a command-line collection runner for Postman."),(0,s.mdx)("p",null,"Below are the tests we execute to verify the application that is started. Ensure to add header ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"Content-Type: application/json")," which is needed for most of the tests."),(0,s.mdx)("p",null,":star: Download and refer to complete ",(0,s.mdx)(d,{href:"https://github.com/2much2learn/article-apr23-restful-event-driven-microservice-using-quarkus-jpa-kafka/blob/master/Quarkus_JPA_H2_CatalogueCRUD.postman_collection.json",mdxType:"ExternalLink"},"Postman Collection")," for all the below tests."),(0,s.mdx)("h3",{id:"application-health"},"Application Health"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"SmallRye Health")," extension exposes ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"/health")," endpoint which will expose the status of the application."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Http Method"),": GET - ",(0,s.mdx)("strong",{parentName:"p"},"Request Url"),": http://localhost:8080/health"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"623px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/18a39cab2486dd348c7f8d394252726e/6114d/postman_health.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.920245398773%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABCklEQVQoz42R2W4CMQxF5/+/EgGtMpM4cSb7YhsN9KFQhHp0ZPnl2rK8tOQL6oowo384Ao7eJxEzy0cW3FHrzRqTYzxMMYZ99z6EkHOuH1mUUlprRNRaX6/X8+VyvnM6nbZtAwADxgDodyzoEQC894jonLPWee8B7H4HEVMM2bv+jgXRKaWMMdZa6xwY4xHXdb0nHYDNYS9Ov79ZRNqYpdaRUneQc4mliTAzCdNPc9TJPImeXIQ5t8bCPYbw/dVqGXMSMzG9wsTC8stFhHPvRJP5eE7Z1rIq5dLFxD01sxcXq4vVpwahjjlfwpJaG3OM0cfoNDq1OuecRPK856/H5jZGLpnoMfUB/8cbYvNECIAKc/4AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Application Health",title:"Application Health",src:"/static/18a39cab2486dd348c7f8d394252726e/6114d/postman_health.png",srcSet:["/static/18a39cab2486dd348c7f8d394252726e/222b7/postman_health.png 163w","/static/18a39cab2486dd348c7f8d394252726e/ff46a/postman_health.png 325w","/static/18a39cab2486dd348c7f8d394252726e/6114d/postman_health.png 623w"],sizes:"(max-width: 623px) 100vw, 623px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Application Health"),"\n  ")),(0,s.mdx)("h3",{id:"application-metrics"},"Application Metrics"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"SmallRye Metrics")," extension exposes ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"/metrics")," endpoint which will expose the default metrics and those custom metrics added to application."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Http Method"),": GET - ",(0,s.mdx)("strong",{parentName:"p"},"Request Url"),": http://localhost:8080/metrics"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/a4861a0e94930ad55c73014ef6f6b689/5ebd7/postman_metrics.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"107.97546012269939%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAA+wAAAPsAHpfpy9AAACaUlEQVQ4y32TiW7iMBCGef+3q/agJUC54hy+7fF9ZGVA3a4W+DWKPFG+zPgfe2WAKzw6QYvT1UEGlbxLKddal5dijK0o45RxIRUXgjJGGMeYYIw55+q55FUrPM+MMSkFxvOA0IAQ6nuEekqIEJxzwcVTrQgh8zxTShljGBMh5YyxVEpIybg0ggYt67LU+iBWMUZjrQ8hOKdQr4dBz7Pk1AN4A8GZlGJ9otWyLC6mUktJEc4n1XUw9PN+A+dTnCZPsPZmWerDWC1LBR9yySUGffiE41EPaBwvOjhbksvxau0TuNQirS21ZO/04VMfDqrbqPe1OHyi856MvSXEG8g1P4Gda3DwcDrJbiN3W/Hxrvd7fT55Tq2FklN9XtnVpVWWu53oNnz9W+33chosxUEKz1kIvtTyBDaulJyC18cD9Be12xolEDDZrPq24S++lls0WFgbY7CExLa3snz78LUarKzLOTlG7YBgHKNWxbtkTQLdwprsbDIQtUoG2ntr2hrgXrmUXGsJnMnTYaTTYToHA4v3+Upm7xoP+ittfzFXmJsGl1qTAUDoYvgvfGIOIIXy8m7d3W7wUqNWsut6SX5Mx0FR7lTK6R+f/jfsXnmpCbTYdgPwt/k4A7fpNqGXJ0zc2y4JtDodEUbb6ay8MdFJb3SwD4d8hUthYG5wdpav17zbkAnt+PBzPr5Nnx/kAt4+bjuXv5XbIdt2mhIZzGjlZOXsJET/1LBc2tmuS0kxeCk8JZ6SoJVRAjgFTr2W2UDSKgp+Ha9uM5ciKtnapkJba1IMybvoXfIuB9/Cu3xNo3fR2WhNe97S6/oPf9L14b15MYAAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Application Metrics",title:"Application Metrics",src:"/static/a4861a0e94930ad55c73014ef6f6b689/a6d36/postman_metrics.png",srcSet:["/static/a4861a0e94930ad55c73014ef6f6b689/222b7/postman_metrics.png 163w","/static/a4861a0e94930ad55c73014ef6f6b689/ff46a/postman_metrics.png 325w","/static/a4861a0e94930ad55c73014ef6f6b689/a6d36/postman_metrics.png 650w","/static/a4861a0e94930ad55c73014ef6f6b689/5ebd7/postman_metrics.png 704w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Application Metrics"),"\n  ")),(0,s.mdx)("h3",{id:"add-catalogue-item"},"Add Catalogue Item"),(0,s.mdx)("p",null,"Below are two postman requests which we will use to create Catalogue Items. One of the Catalogue item will be used to update it in the later tests."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Http Method"),": POST - ",(0,s.mdx)("strong",{parentName:"p"},"Request Url"),": http://localhost:8080/api/v1/"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Request Body"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"CTLG-123-0001"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"name"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"The Avengers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"description"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Marvel\'s The Avengers Movie"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"category"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Movies"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"price"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0.0"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"inventory"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"0"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/40529c67ef1129b77439763bdd911ecb/798d4/postman_create_catalogue.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"31.901840490797547%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA5klEQVQY042QyU4EMQxE+///EokBenrLYiedpfNQMiME4gCHJ/lQdpVrMsbQ2fcday0qgqoSQngSv81/M63rynEcLOvK+zzzersxz/Mw2LaNfV04tofmP0zWOaIKKUWSGoJZyDkP0nlSolJiGKltVHxQfFSkJ0ontRRyp+tTYupvRu85tSB7pqQKNFp7Aly1Yu7vOGtxzmGcHfV475Fej3hyNy+VqV/Xu2V5Ofh4A/WNGBpRG7W2r+N9sXftnUNEEPEjdZ+DOEpOQzcZ5/D2xGxKyBepNs7ym3pdpL50PT74ybCltYtPuxPQocunqkUAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Create Catalogue Item",title:"Create Catalogue Item",src:"/static/40529c67ef1129b77439763bdd911ecb/a6d36/postman_create_catalogue.png",srcSet:["/static/40529c67ef1129b77439763bdd911ecb/222b7/postman_create_catalogue.png 163w","/static/40529c67ef1129b77439763bdd911ecb/ff46a/postman_create_catalogue.png 325w","/static/40529c67ef1129b77439763bdd911ecb/a6d36/postman_create_catalogue.png 650w","/static/40529c67ef1129b77439763bdd911ecb/e548f/postman_create_catalogue.png 975w","/static/40529c67ef1129b77439763bdd911ecb/798d4/postman_create_catalogue.png 976w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Create Catalogue Item"),"\n  ")),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/0cac73126dac5a32aa89366312184cab/024d6/postman_create_catalogue_2.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"31.901840490797547%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA5klEQVQY04XQyW7DIBCAYb//Q/bURq6DWYfFYPNXJk6q9NLDJzHSMNtkjMFai9YaozXe+yHG+JDSwzP+x6SU4iyq1Mq8LHzebszfM+u6Dvq+YO4L9mr81/n36Ywn5z0pCq0WWgls7k5rbai10krm2AopRlwSfBIkRSSn4ZV75Y+COQS2WAm6kmXn2Du9X2AI64IzmhAE693rNHKuKkI5h9p3pq1VkvIsH4r5q+NMJ0onxc7enuWglDJWCt4hEhCR39tJoOY4BpiMtXiXsTqRtp16dEp7l2vnODq1VY69vZpAf3v3fvADctzQdmYdnwUAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Create Catalogue Item",title:"Create Catalogue Item",src:"/static/0cac73126dac5a32aa89366312184cab/a6d36/postman_create_catalogue_2.png",srcSet:["/static/0cac73126dac5a32aa89366312184cab/222b7/postman_create_catalogue_2.png 163w","/static/0cac73126dac5a32aa89366312184cab/ff46a/postman_create_catalogue_2.png 325w","/static/0cac73126dac5a32aa89366312184cab/a6d36/postman_create_catalogue_2.png 650w","/static/0cac73126dac5a32aa89366312184cab/024d6/postman_create_catalogue_2.png 961w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Create Catalogue Item"),"\n  ")),(0,s.mdx)("h3",{id:"get-catalogue-items"},"Get Catalogue Items"),(0,s.mdx)("p",null,"Get Catalogue Items that are persisted by the requests."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Http Method"),": GET - ",(0,s.mdx)("strong",{parentName:"p"},"Request Url"),": http://localhost:8080/api/v1/"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/5ca3f314f4333af75ff9372764698a87/57dc1/postman_get_catalogue_items.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"80.3680981595092%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB2klEQVQ4y5VTCW7bMBDU//+YFknb2NZBUjyX5xS7so24qNNUwICSIM7OQU0xWththlsusOsFZDVasCiUUFvDGAP/c02b1liVgjIGy7phWVdZ53nGsiwwxmDf9y9j0tpAKSUPajuI5ssFl/NZ7rXWQmrMbX2O3RhMwWhkIhBlZMpIJaPUgpwzaq3ovaO1htq6PJdSHsDvUkqw3kEnj0m9/8C2LKKQ1WxXtdu6wTknk611iEahEKGPIUM+QgbWKplPiQj6mlOIAd47BO/hnEWMEc5aOO+R3I5aspT0JyFjjI7ROyZgINeC1ipaYZsFA9zsDbiv/L73dmx+gok/oJxlQ1QbDLesPb6fNHYfZXphO7Wi9fZh0N8x9dGvhOMgfHuF0Rpn5RC4JCrwkRC5tFIPnZ8p5CA5R1G4rdi+vRzFhATKBZEKUj5IOfwb4VOFVHgDSTY5BsRlBnEZKSPXCioHQsoPhM9IhTDeCIMX8ty62OP8Hq/P1QkhN8wk91JOZ8zrjpd3hdNmoWyQLFlh/YrlzAolw4FkFPZfP+VcGh/FYrnazvWm+B+l0J0QSPy/vr0eBz2QNByupbhId4WfWk45I1KSg03eI8wXROex+4RcDrKjbbZcRQXn/Qy/AeJJ4Wi35YsVAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Get Catalogue Items",title:"Get Catalogue Items",src:"/static/5ca3f314f4333af75ff9372764698a87/a6d36/postman_get_catalogue_items.png",srcSet:["/static/5ca3f314f4333af75ff9372764698a87/222b7/postman_get_catalogue_items.png 163w","/static/5ca3f314f4333af75ff9372764698a87/ff46a/postman_get_catalogue_items.png 325w","/static/5ca3f314f4333af75ff9372764698a87/a6d36/postman_get_catalogue_items.png 650w","/static/5ca3f314f4333af75ff9372764698a87/57dc1/postman_get_catalogue_items.png 718w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Get Catalogue Items"),"\n  ")),(0,s.mdx)("h3",{id:"update-catalogue-item"},"Update Catalogue Item"),(0,s.mdx)("p",null,"Update one of the Catalogue Item by its SKU number."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Http Method"),": PUT - ",(0,s.mdx)("strong",{parentName:"p"},"Request Url"),": http://localhost:8080/api/v1/{sku}"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Request Body"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"json"},(0,s.mdx)("pre",{parentName:"div",className:"language-json"},(0,s.mdx)("code",{parentName:"pre",className:"language-json"},(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"sku"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"CTLG-123-0001"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"name"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"The Avengers"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"description"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Marvel\'s The Avengers Movie"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"category"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"Movies"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"price"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"95.99"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n\t",(0,s.mdx)("span",{parentName:"code",className:"token property"},'"inventory"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token number"},"10"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/25004705c0df25fa11028d8cd979c9fe/58213/postman_update_catalogue.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.355828220858896%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABCElEQVQoz5WQyY7dMAwE/f8/mVPw7PjZ1L5LFdCZDBAgcxgIhW5eWk1u1lru+34wxlBrpbX2ic7fYTvP8wlTPfaDXXntHIf6neu6EGO4RZD/cctnIWXThj4EnHNcxvB+/+KW+5mNtVgjJLlIzmK9R7zDKsE/GmIkpURUjZFNU0vwzNGZxTPc9filb03mGKwx6K3inSXmREwJnxMhJVLO9N4/GGyansUTpPB+TZxoEPS2GEO9RsPsjXv/iRFBt9Iz6M2NGJz3OGvJVtha77iXcP44OV4dbxc5L2KAUhZz/flAtdRKCIFSCqXkDwq1lkdbzWzWeWJoeFcIZVDH+ofS/zJhTXj6fgX8Blw0HhilrNL9AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Update Catalogue Items",title:"Update Catalogue Items",src:"/static/25004705c0df25fa11028d8cd979c9fe/a6d36/postman_update_catalogue.png",srcSet:["/static/25004705c0df25fa11028d8cd979c9fe/222b7/postman_update_catalogue.png 163w","/static/25004705c0df25fa11028d8cd979c9fe/ff46a/postman_update_catalogue.png 325w","/static/25004705c0df25fa11028d8cd979c9fe/a6d36/postman_update_catalogue.png 650w","/static/25004705c0df25fa11028d8cd979c9fe/58213/postman_update_catalogue.png 902w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Update Catalogue Items"),"\n  ")),(0,s.mdx)("h3",{id:"get-catalogue-item-by-sku"},"Get Catalogue Item by SKU"),(0,s.mdx)("p",null,"Get the updated Catalogue Item by its SKU. Verify if the fields that are updated compared to the add request is reflected in thus Get Request."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Http Method"),": GET - ",(0,s.mdx)("strong",{parentName:"p"},"Request Url"),": http://localhost:8080/api/v1/{sku}"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/2d6f9e88ee528a211a9290348e9d4de9/a0209/postman_get_catalogue_item.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"52.760736196319016%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQklEQVQoz5WSi27jIBBF/f9fmWyrOuZhg80bm7MyyT602qYp0hHMIN07wzBYLVjlhJUTaTXsYaPEQK2V1hrfWaUUBjXPLMYgtUYqhVQaIQRSSpRSvzHGvMSgtcYaw7lP08Q03RjHkdvt9ojvvCyYQiDESIwRlwKpZGKI5Jw5jqOzHwel1t7S//DOoTbLGj2DlhJjbFefH+33qu0jtyw4M5M2y/miv0w+YzDWsq4W7z3eO1IMBO8IZ+XB485ccH1QR2tfC+a9UmPALTNrzBiXsC4C/0640drxJUOqlRo85seVWSiu48y7sISUsD6xhYQLqbvfTZ4z5FMwBez1glYCva3s+94vexvtzun+SpVDzJk9RZbLhU1MjHrjQ628CYtYHO9y7fHfYk8rTDlRSmYvmaMWSt3JpZJK7V/lPJ/8EXze8k951FgOW6Ys3QAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Get Catalogue Item",title:"Get Catalogue Item",src:"/static/2d6f9e88ee528a211a9290348e9d4de9/a6d36/postman_get_catalogue_item.png",srcSet:["/static/2d6f9e88ee528a211a9290348e9d4de9/222b7/postman_get_catalogue_item.png 163w","/static/2d6f9e88ee528a211a9290348e9d4de9/ff46a/postman_get_catalogue_item.png 325w","/static/2d6f9e88ee528a211a9290348e9d4de9/a6d36/postman_get_catalogue_item.png 650w","/static/2d6f9e88ee528a211a9290348e9d4de9/a0209/postman_get_catalogue_item.png 725w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Get Catalogue Item"),"\n  ")),(0,s.mdx)("h3",{id:"delete-catalogue-item"},"Delete Catalogue Item"),(0,s.mdx)("p",null,"Delete one of the Catalogue Item persisted earlier by its SKU."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Http Method"),": DELETE - ",(0,s.mdx)("strong",{parentName:"p"},"Request Url"),": http://localhost:8080/api/v1/{sku}"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/495627965ff40eeb4bea555b210c4ba1/01dae/postman_delete_catalogue_item.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"31.901840490797547%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAwUlEQVQY042Q224DIQxE+f/vjLSwa+6IOzuRaRvloVWKdDQjGNnGYsaAaAie0YQcPEbJ6K1ijIH7vvHfw1lxXRekOmGsxUUEqdTmOA4opTZSShARrLUfEca6Hfbe7wv2DDfSWsMY8yoWQviIiKRQS0YpBTlnpFpQW92+94455wtewQ/8xso5lyJ0ibAlQejjgVOp/eX3aXhC7kik4ZxDohNr8k6/dvUXYqyFmBJqLei9obX2pn37TatYa2Kt9a2/8wS2Ac/q8oOfOAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Delete Catalogue Items",title:"Delete Catalogue Items",src:"/static/495627965ff40eeb4bea555b210c4ba1/a6d36/postman_delete_catalogue_item.png",srcSet:["/static/495627965ff40eeb4bea555b210c4ba1/222b7/postman_delete_catalogue_item.png 163w","/static/495627965ff40eeb4bea555b210c4ba1/ff46a/postman_delete_catalogue_item.png 325w","/static/495627965ff40eeb4bea555b210c4ba1/a6d36/postman_delete_catalogue_item.png 650w","/static/495627965ff40eeb4bea555b210c4ba1/01dae/postman_delete_catalogue_item.png 721w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Delete Catalogue Items"),"\n  ")),(0,s.mdx)("h3",{id:"resource-not-found"},"Resource Not Found"),(0,s.mdx)("p",null,"Testing Resource not found exception by passing invalid SKU."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/c9bc415b1b22bf265c51518cd924b12c/f8067/postman_resource_not_found.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.239263803680984%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLElEQVQoz5WS247jIBBE/f+/uQ8bYy7GNnfMWTWZySRPq0E6KtS0qgvEEtKFd4bLWU5nyNdBz5GaM601frPGGCzOOTZtsF+6KoXaNtZ1RSnFtm1Ttdbs+470vyM1P/FTF2k0xswD0VU9jR6Px1Spiam1luM48N5/IKbaaB5Ws1rNcvz9Qzg8IUZiCJwpEHMihEAphVrrk5JptdJ7/0DOYkqcJXGVxCJTJcl3fKMNu1x/0zPRTOd2glG0kl9v9c77WqQQc6bkRL5OWq/cDBj3izFu7lvo/2WRxlwrd2+0WkhG461mD5FSG6lUSq3T9Ml47eFnPyQEQxLelName787yVmCWjnPgHIXq7uwR+SKeRJz4QgJHxK5Ns6YcWecg1+GSR68lWn69qt+jXj9Aw82u/2epQsIAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Resource Not Found",title:"Resource Not Found",src:"/static/c9bc415b1b22bf265c51518cd924b12c/a6d36/postman_resource_not_found.png",srcSet:["/static/c9bc415b1b22bf265c51518cd924b12c/222b7/postman_resource_not_found.png 163w","/static/c9bc415b1b22bf265c51518cd924b12c/ff46a/postman_resource_not_found.png 325w","/static/c9bc415b1b22bf265c51518cd924b12c/a6d36/postman_resource_not_found.png 650w","/static/c9bc415b1b22bf265c51518cd924b12c/f8067/postman_resource_not_found.png 726w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Resource Not Found"),"\n  ")),(0,s.mdx)("h3",{id:"validation-exception"},"Validation Exception"),(0,s.mdx)("p",null,"Testing Validation exception by passing invalid request body."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/52a0d29cd501d75d55c4a14b08982768/54bf4/postman_validation_errors.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.987730061349694%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXUlEQVQoz5WSiWodMQxF5///sw3JLN735RTbk5cJgdIKDsKLri+St/M8OY4DIQTWGIwxWGvx3t+EG/9PbENQSsm+H7y9v/Pr7Tf7vnNdF+d5Ic5jMu4IKWf+REgxjQzkQEo2pTXBO3KOJCcIWlBKJaU0KdFTo8c5h3BmYrx7kUumlELOed7ftNZEbfAmY89IKxXo0Bd9rdDHB0oKtDFIrVBKrfY4h7eWHAO1VjZtHVoErj3ysYPSHak6ynRC7sTSSaXP/kwRrXBu9TiE5TxYQ82R8fw27K5YXpax/mCta6uLnEhG47wjlTrPZvW829iGza+NT2Eej8zD2adSC7UWolZ4rTA+EmIipkzKhZjLl8Pvrr4zIuVMvgWDuFBCEG6hXMrMrbWfgs947sWUbsFMsgZnzUus1DrzfwmGITiLCuE60ePf2YCP6eWU51D+LjgmPYoSrdXXAAett0m/+QP36lvmM/JY/gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Validation Exception",title:"Validation Exception",src:"/static/52a0d29cd501d75d55c4a14b08982768/a6d36/postman_validation_errors.png",srcSet:["/static/52a0d29cd501d75d55c4a14b08982768/222b7/postman_validation_errors.png 163w","/static/52a0d29cd501d75d55c4a14b08982768/ff46a/postman_validation_errors.png 325w","/static/52a0d29cd501d75d55c4a14b08982768/a6d36/postman_validation_errors.png 650w","/static/52a0d29cd501d75d55c4a14b08982768/e548f/postman_validation_errors.png 975w","/static/52a0d29cd501d75d55c4a14b08982768/54bf4/postman_validation_errors.png 1007w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Validation Exception"),"\n  ")),(0,s.mdx)("h3",{id:"invalid-request"},"Invalid Request"),(0,s.mdx)("p",null,"Testing Invalid Request when passing invalid data to price as below"),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/f4156a351cea4814dc6bd7b8865304fc/e9140/postman_invalid_request.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"31.901840490797547%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA4ElEQVQY032P20oEMRBE5/8/UxBFxySTTqdzmzmasKzsChacNP2QqurNOce+7zjn8T4QQiDG+IBEuREX8R827z0iQghffH68LUORhMQDPTxJIiFFYhIkyZqqimomqZJSemCbiTUbRRpdjanruhZTKThccHiJHLOFCJozxTK99z9sxQrHq+P9pSIRarmo9dew1LLO1CRkM2oxzDKtZK7rnPGzwZpz35JmzDq5nLRxUZ/oYzDOQTdFg0etYrXRxqD1fqe2znkOtjEGd91a3Zb1jvWxcY5Ot0ypbRnOoGfOn4bfL73S72jvLXsAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Invalid Request",title:"Invalid Request",src:"/static/f4156a351cea4814dc6bd7b8865304fc/a6d36/postman_invalid_request.png",srcSet:["/static/f4156a351cea4814dc6bd7b8865304fc/222b7/postman_invalid_request.png 163w","/static/f4156a351cea4814dc6bd7b8865304fc/ff46a/postman_invalid_request.png 325w","/static/f4156a351cea4814dc6bd7b8865304fc/a6d36/postman_invalid_request.png 650w","/static/f4156a351cea4814dc6bd7b8865304fc/e548f/postman_invalid_request.png 975w","/static/f4156a351cea4814dc6bd7b8865304fc/e9140/postman_invalid_request.png 1226w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Invalid Request"),"\n  ")),(0,s.mdx)("h3",{id:"runtime-exception"},"Runtime Exception"),(0,s.mdx)("p",null,"When any Runtime Exception occurs, it is handled by returning back the below response. Detailed log of exception is also logged by the application for debugging purpose."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/afa0490f5c2db3eae5ed9b77579b61b7/553fd/postman_runtime_error.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.67484662576687%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA4ElEQVQY03XP4W7DIAxG0bz/a+7HWnUjgIGAwdyJZNPUVUM6MgjxYW/OOR6PB6uKJESEnDPpR0rklL+l827V9I9t33dCCDj3wf3+fgavc/Qe2R0hBj6Dx0VPiJE9eHyM5+P1+V9bjBGtB702ehLmnJgZ0wxsUGJAkiAlIzmRS+GoB9oavfcXWymFePPc3iohQGvzZHMy4RwvrG5FSDlRvkfWozCnPVmNbFESWSqlKDomrV/W/mLYNHSFiXBop2qnmzFsPFmh2xiD3zVf9tr1ZF1pJdNUOZpSm9K0X/pVV+AXcrbS7DBFZR0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Runtime Exception",title:"Runtime Exception",src:"/static/afa0490f5c2db3eae5ed9b77579b61b7/a6d36/postman_runtime_error.png",srcSet:["/static/afa0490f5c2db3eae5ed9b77579b61b7/222b7/postman_runtime_error.png 163w","/static/afa0490f5c2db3eae5ed9b77579b61b7/ff46a/postman_runtime_error.png 325w","/static/afa0490f5c2db3eae5ed9b77579b61b7/a6d36/postman_runtime_error.png 650w","/static/afa0490f5c2db3eae5ed9b77579b61b7/e548f/postman_runtime_error.png 975w","/static/afa0490f5c2db3eae5ed9b77579b61b7/553fd/postman_runtime_error.png 1255w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Runtime Exception"),"\n  ")),(0,s.mdx)("h2",{id:"verify-logs-in-graylog"},"Verify logs in Graylog"),(0,s.mdx)("p",null,"Access Graylog UI ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"http://127.0.0.1:9000")," and login with credentials ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"admin/admin"),". Logs will be published by ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"quarkus-logging-gelf")," extension to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"GELF UDP")," input that is configured in Graylog. Logs that are written to console are also published to greylog simultaniously."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/2102207d9831c37e5b07cec74903c94e/23266/graylog-logging.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.05521472392638%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABZUlEQVQoz4WSyW4UMRRF65dYQNOkOygf0Zm2veLnECuWECGCRBX5iSyi1OipbL/BQ6gqRNQKJEd3YT3p+r5ruXj1+s3+/OLD5fnu7JDT0wM9jid2u91+vy9Otkcfv5efuxyIEJFmUkr5JRCxOHq3/vqjvLVZKaW10cZorcdxtM79kbXOOSKKMTKzEKLt+7pplFLFdnvy5frTrblCmDLxECJiZiQKcdrFA7QzTdtqrYvj4/ffrq8Ge78EPo/WWs0yxkgpi81mc/PrJoXctq0xJuecnmUpHGP03hdv1+uy/DkMfV3XwzAYY+x/cM4JIbquU0pJKa21xWq1qqpqxNAI3UptkCFmF5Ll5EPyMUGcDpYTpayAtfMI0/MAwGQuy8pS6JTp1GiRMSbHEWJ6WoCZvfcAgIh/zaV2UA+iGeSIxClDmNLik7ZEtOy/XDGbq0o4uOvFXS+1J5zXduEf/4SZrbWL87f5AeiaPFn4nPYmAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Graylog centralized logging",title:"Captured logs in Graylog",src:"/static/2102207d9831c37e5b07cec74903c94e/a6d36/graylog-logging.png",srcSet:["/static/2102207d9831c37e5b07cec74903c94e/222b7/graylog-logging.png 163w","/static/2102207d9831c37e5b07cec74903c94e/ff46a/graylog-logging.png 325w","/static/2102207d9831c37e5b07cec74903c94e/a6d36/graylog-logging.png 650w","/static/2102207d9831c37e5b07cec74903c94e/23266/graylog-logging.png 923w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Captured logs in Graylog"),"\n  ")),(0,s.mdx)("h2",{id:"verify-tracing-in-jaeger"},"Verify tracing in Jaeger"),(0,s.mdx)("p",null,"Access Jaeger tracing UI ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"http://127.0.0.1:16686")," and select ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"catalogue-crud")," service and click on find traces. All traces captured within the selected timeframe will be listed on the right with number of spans captured for each trace."),(0,s.mdx)("p",null,"As we are capturing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"jdbc")," trace along with the default http trace enabled by ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"OpenTracing"),", we can see observe more than one span for data-driven operations. Below is such trace for removing catalogue item request. Before removing, we validate if there exists valid entry in database for the provided ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"sku"),". If exists, then we proceed to delete it and thus leading to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"query")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"update")," spans tagged to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"DELETE")," trace."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/e5399bf7f07e2cab337b5a5fc7e4ad24/eb3fa/jaeger-tracing.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"49.079754601226995%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABwklEQVQoz12Q227aQBRF/UcEVHjgwfAX/BzfgtT2gbYRdoQpSE4KBhsPc58zM2c8SehFVI1adWtpa73unUyn09FoNJ/Pl8vlYrFYLpez2Ww4HI7H4zRNR6PRZDJJ03QwGNzd3fV6vX6//+4tidG6PZ/zLNttt2VZft1sNptiUxQPeZ5n2WNZHquqqevqcGiauqoqzlgXQkAMiAlXqqX0VNenur5wThg/E0IYu3DeUiqUEtoY5ywiILoQbuIR0BvvEwJAPG6VXkv1BJZhOFlLPPLQnQFa64j3xPsL4huBhtA634BNrDHonAYARI/YYWgBjHMdYufd9677GeOPGK9deA3hGsIL+hf01y5cu5CU+8Nutzvs90pKpZSU0vxuyfn2Qj+Ry/uWfGjJitI1FzkXn9v2S0syxleMJUchtrvd034vpHLeO++t838kRhqfPwp5r9TJ+XulT1rLGFV8ljHKGJODdbnShdKFNoWBv4B9pPTb8WisA+8Z2JPWF224BQ6WW8vBJlXoVmBz63Kw/5JZVytFmkYIwTnnjGkplZSM0tsqIZQQSeUx12Zt4D8eDLQAUojbE0pxIYSU2hilb5FSaq1/AXgVAhV4CcNAAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"Jaeger Tracing",title:"Observe three spans tagged to Remove Catalogue Item trace",src:"/static/e5399bf7f07e2cab337b5a5fc7e4ad24/a6d36/jaeger-tracing.png",srcSet:["/static/e5399bf7f07e2cab337b5a5fc7e4ad24/222b7/jaeger-tracing.png 163w","/static/e5399bf7f07e2cab337b5a5fc7e4ad24/ff46a/jaeger-tracing.png 325w","/static/e5399bf7f07e2cab337b5a5fc7e4ad24/a6d36/jaeger-tracing.png 650w","/static/e5399bf7f07e2cab337b5a5fc7e4ad24/e548f/jaeger-tracing.png 975w","/static/e5399bf7f07e2cab337b5a5fc7e4ad24/eb3fa/jaeger-tracing.png 1026w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"Observe three spans tagged to Remove Catalogue Item trace"),"\n  ")),(0,s.mdx)("h2",{id:"gotchas"},"Gotchas"),(0,s.mdx)("h3",{id:"native-executable-failing-with-no-serializer-found-for-class-error"},"Native Executable failing with No serializer found for class error"),(0,s.mdx)("p",null,"Post building and running native executable file, we might encounter below error when accessing API which should return valid value as expected."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"No serializer found for class error"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \n  No serializer found ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"for")," class com.toomuch2learn.crud.catalogue.model.ResourceIdentity \n    and no properties discovered to create BeanSerializer ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")))),(0,s.mdx)("p",null,"Follow steps provided here - ",(0,s.mdx)("a",{parentName:"p",href:"https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection"},"https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection")," to register classes which needs reflection to serialize the objects to JSON."),(0,s.mdx)("h2",{id:"stopping-services"},"Stopping services"),(0,s.mdx)("p",null,"Run the below commands sequentially to bring down the services that are started for testing the application"),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Bring down application running on kubernetes pod"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ skaffold down"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Stop Postgres container"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," stop pgdocker"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Bring Kafka Cluster down"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/kafka-docker-compose.yaml down"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Bring Graylog service down"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/graylog-docker-compose.yaml down"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Bring Jaeger Services up down"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker-compose")," -f docker-compose/jaeger-docker-compose.yaml down"))),(0,s.mdx)("h2",{id:"cleanup"},"Cleanup"),(0,s.mdx)("p",null,"As part of this exercise, lot of containers and networks gets created. These are useful when working on this application or needing these for different applications."),(0,s.mdx)("p",null,(0,s.mdx)("figure",{parentName:"p",className:"gatsby-resp-image-figure",style:{}},"\n    ",(0,s.mdx)("span",{parentName:"figure",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}},"\n      ",(0,s.mdx)("a",{parentName:"span",className:"gatsby-resp-image-link",href:"/static/2ba7526a63599cfdb98dfee311acb055/d69c4/docker-created-containers.png",style:{display:"block"},target:"_blank",rel:"noopener"},"\n    ",(0,s.mdx)("span",{parentName:"a",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.877300613496935%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA+wAAAPsAHpfpy9AAABXElEQVQY01WQW5adIBQFnUmnr/LyoiiKyEtARdH+6PnPJsuk85EB7FNVp7Dft7pSyZlM62A96mXVctgLtedWuWbShE8yps4EwAYXVz6KEqIXgCVERc73tiUAsQ8xX1dN6WdZAoiUMYMQPkbatsoYt3iAkDKWiwm/aU2bCuHivL/WlCqEbQgpX/hNf5VVhbCybpjkEjfKmLLOhQgxUdbxUUBS4zd9yEe+0pkBIsrYsO2jnNuuJ5RKbWZjtXWUdcYt2roKYW0dFxOhtG7aCqJiP3Pcd4CJ9WE/Tj6KpuvJmwqlxayUde+WuRBnY14Aard0w/jxKn+az+vejwwwWUI88oXr/7XXlbJnrJ2rIPpHbghtfrS3dDzNiz+vm9DmswLP+M9vrA/0Ia+PNkTKLeMk255Txl4AFum89uMEmJjFi1mVEJUQPbd8GCfJeo5IbX0wbvnbLLWZlB6lrJvmN4bbYowN3FZQAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,s.mdx)("img",{parentName:"a",className:"gatsby-resp-image-image",alt:"List of all containers with their status",title:"List of all containers with their status",src:"/static/2ba7526a63599cfdb98dfee311acb055/a6d36/docker-created-containers.png",srcSet:["/static/2ba7526a63599cfdb98dfee311acb055/222b7/docker-created-containers.png 163w","/static/2ba7526a63599cfdb98dfee311acb055/ff46a/docker-created-containers.png 325w","/static/2ba7526a63599cfdb98dfee311acb055/a6d36/docker-created-containers.png 650w","/static/2ba7526a63599cfdb98dfee311acb055/e548f/docker-created-containers.png 975w","/static/2ba7526a63599cfdb98dfee311acb055/d69c4/docker-created-containers.png 1002w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n  "),"\n    "),"\n    ",(0,s.mdx)("figcaption",{parentName:"figure",className:"gatsby-resp-image-figcaption"},"List of all containers with their status"),"\n  ")),(0,s.mdx)("p",null,"If you feel they are too many stopped and unused containers and needs cleanup, run the below commands to clean them up."),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Prune unused docker networks"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," network prune"))),(0,s.mdx)("div",{className:"gatsby-code-title gatsby-remark-code-title"},"Remove all stopped containers"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"bash"},(0,s.mdx)("pre",{parentName:"div",className:"language-bash"},(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"$ ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"rm")," ",(0,s.mdx)("span",{parentName:"code",className:"token variable"},(0,s.mdx)("span",{parentName:"span",className:"token variable"},"$("),(0,s.mdx)("span",{parentName:"span",className:"token function"},"docker")," ",(0,s.mdx)("span",{parentName:"span",className:"token function"},"ps")," -a -q",(0,s.mdx)("span",{parentName:"span",className:"token variable"},")"))))),(0,s.mdx)("h2",{id:"conclusion"},"Conclusion"),(0,s.mdx)("p",null,"Implementing Microservice using Quarkus is like a breeze as most of the uplift is done by the framework and allowing us to focus on the business logic. With wide range of ",(0,s.mdx)(d,{href:"https://quarkus.io/extensions/",mdxType:"ExternalLink"},"Extensions")," available, It is easy to Configure, boot and integrate a framework or technology into Quarkus application."),(0,s.mdx)("p",null,"With support added to its core for generating native executables, Quarkus definitely provides an efficient solution for running Java applications withextremely short start-up time."),(0,s.mdx)("p",null,"This itself is a a game changer, as we can setup and tear down applications and services in the blink of an eye, all whilst having a minimal footprint on the underlying systems."),(0,s.mdx)("p",null,"This article is long and extensive for sure. But this gives us the understanding about the whole ecosystem of implementing, testing and deploying microservice that can bootup instantly and integrate with supporting tools to monitor, debug and scale. This is also the base for my future articles  "),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"Performing Load Tests using ",(0,s.mdx)(d,{href:"https://gatling.io/",mdxType:"ExternalLink"},"Gatling")," / ",(0,s.mdx)(d,{href:"https://k6.io/",mdxType:"ExternalLink"},"k6.io")),(0,s.mdx)("li",{parentName:"ul"},"Building Quarkus Container Image using ",(0,s.mdx)(d,{href:"https://github.com/GoogleContainerTools/jib",mdxType:"ExternalLink"},"Jib")),(0,s.mdx)("li",{parentName:"ul"},"Generate Kubernetes resources ",(0,s.mdx)(d,{href:"https://github.com/dekorateio/dekorate/",mdxType:"ExternalLink"},"dekorate")),(0,s.mdx)("li",{parentName:"ul"},"Deploying to Kubernetes, OpenShift, AWS, Azure, Google Cloud :scream: :disappointed: :worried: :frowning: :anguished: :sleeping:")),(0,s.mdx)("p",null,"And many more…"),(0,s.mdx)(c,{href:"https://github.com/2much2learn/article-apr23-restful-event-driven-microservice-using-quarkus-jpa-kafka",mdxType:"GithubRepo"},"restful-event-driven-microservice-using-quarkus-jpa-kafka"))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=916b4223-5d44d8cf9a2a0c18efb6.js.map