(window.webpackJsonp=window.webpackJsonp||[]).push([[54,41,42,43,44,45,46,47,48,51,55],{"Hs2+":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return r})),t.d(a,"default",(function(){return b}));var n=t("zLVn"),s=t("rePB"),o=(t("q1tI"),t("7ljp"));function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var r={templateKey:"article",published:!0,displayComments:!0,showAuthorInfo:!0,showSideBar:!1,author:"narramadan",title:"Setting up PostgreSQL with Docker",description:"A detailed step by step guide on Setting up PostgreSQL with Docker.",date:"2020-03-09T15:46:37.121Z",updated:"2020-03-09T15:46:37.121Z",cover:"../../../images/blog-banners/setup-banner-1200x690.png",category:"setup",tags:["PostgreSQL","Docker","Containerization"],keywords:["Setting up PostgreSQL with Docker","PostgreSQL with Docker","Database with Docker","Create PostgreSQL database with Docker","Migrate PostgreSQL from Docker","Provision PostgreSQL database with Docker","PostgreSQL on Windows 10","PostgreSQL","Windows 10","Docker","narra.madan","narramadan","narra.madan@outlook.com","Madan Narra","Narra Madan"]},d=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(o.mdx)("div",m({},a))}},p=d("GithubRepo"),l=d("ExternalLink"),i={_frontmatter:r};function b(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(o.mdx)("wrapper",m(m(m({},i),t),{},{components:a,mdxType:"MDXLayout"}),Object(o.mdx)(p,{href:"https://github.com/2much2learn/article-mar05-setting-up-postgressql-with-docker-on-windows-10",mdxType:"GithubRepo"},"setting-up-postgressql-with-docker-on-windows-10"),Object(o.mdx)("h2",m({},{id:"introduction"}),"Introduction"),Object(o.mdx)("p",null,"As part of any application development, we definitely need a database. There might be different use cases which need different databases. Having them all installed on our machine might not be an ideal scenario. In the world of containers, this would ease us to provision the choice of database easily for testing purpose without actually installing them. "),Object(o.mdx)("p",null,"In this article we shall provision PostgreSQL docker container and go through steps on using it."),Object(o.mdx)("h2",m({},{id:"why-use-postgresql"}),"Why use PostgreSQL?"),Object(o.mdx)("p",null,Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"PostgreSQL")," is a powerful, open source ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"object-relational")," database system that uses and extends the SQL language combined with many features that safely store and scale the most complicated data workloads."),Object(o.mdx)("p",null,"A fundamental characteristic of an ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"object-relational")," database is support for user-defined objects and their behaviours including ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"data types"),", ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"functions"),", ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"operators"),", ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"domains")," and ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"indexes"),". This makes PostgreSQL extremely flexible and robust. Among other things, complex data structures can be created, stored and retrieved."),Object(o.mdx)("p",null,Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"PostgreSQL")," comes with many features aimed to help developers build applications, administrators to protect data integrity and build fault-tolerant environments, and help you manage your data no matter how big or small the dataset. In addition to being free and open source, PostgreSQL is highly extensible. For example, you can define your own data types, build out custom functions, even write code from different programming languages without recompiling your database."),Object(o.mdx)("h2",m({},{id:"what-are-we-going-to-do"}),"What are we going to do?"),Object(o.mdx)("p",null,"In this article, we shall go through how we can use ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Docker")," to explore ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"PostgreSQL"),". We shall run series of commands with Docker that is installed on ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Windows 10"),". Below are series of things we will be doing:"),Object(o.mdx)("ul",null,Object(o.mdx)("li",{parentName:"ul"},"Create database"),Object(o.mdx)("li",{parentName:"ul"},"Connecting to the database from container shell"),Object(o.mdx)("li",{parentName:"ul"},"Connecting to the database from SQL Client"),Object(o.mdx)("li",{parentName:"ul"},"Import Schema & Data when provisioning new database"),Object(o.mdx)("li",{parentName:"ul"},"Stopping and Starting container"),Object(o.mdx)("li",{parentName:"ul"},"Perform database operations")),Object(o.mdx)("h2",m({},{id:"prerequisites"}),"Prerequisites"),Object(o.mdx)("p",null,"Having Docker installed on your machine is necessary to try out provisioning PostgreSQL container."),Object(o.mdx)("h3",m({},{id:"install-docker-on-windows-10-home-edition"}),"Install Docker on Windows 10 Home Edition"),Object(o.mdx)("p",null,"As ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Docker Desktop")," does not support ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Windows 10 Home Edition"),", we need to install ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Docker Toolbox for Windows"),". Follow the detailed steps provided ",Object(o.mdx)(l,{href:"https://docs.docker.com/v17.12/toolbox/toolbox_install_windows/",mdxType:"ExternalLink"},"here")," to get docker toolbox installed and configured."),Object(o.mdx)("p",null,"If everything is installed and configured as suggested, running the below command should list the version of docker."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Docker Version"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker -v\n\nDocker version ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"19.03"),".1, build 74b1e89e8a"))),Object(o.mdx)("h3",m({},{id:"configure-port-forwarding-rule-on-the-default-virtualbox-image"}),"Configure Port Forwarding Rule on the default VirtualBox image"),Object(o.mdx)("p",null,"If we need to connect to the provisioned database from SQL client installed on Windows 10, we need to configure ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"port forwarding")," for the ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"default")," ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"VirtualBox")," image that is created as part of the Docker setup on Windows 10 Home Edition. Follow the steps to configure port forwarding for ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"ssh")," & ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"port 5432")," as below:"),Object(o.mdx)("ul",null,Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("p",{parentName:"li"},"Right Click on the default image and choose ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Settings"))),Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("p",{parentName:"li"},"Choose ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Network")," > ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Adapter1")," > expand ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Advanced")," > click ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Port Forwarding"))),Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("p",{parentName:"li"},"Configure ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Port Forwarding")," rules as below"))),Object(o.mdx)("p",null,Object(o.mdx)("figure",m({parentName:"p"},{className:"gatsby-resp-image-figure",style:{}}),"\n    ",Object(o.mdx)("span",m({parentName:"figure"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}}),"\n      ",Object(o.mdx)("a",m({parentName:"span"},{className:"gatsby-resp-image-link",href:"/static/8a4090aa35367e1742e2ea6cc64424a0/31493/VirtualBox_portforwarding.png",style:{display:"block"},target:"_blank",rel:"noopener"}),"\n    ",Object(o.mdx)("span",m({parentName:"a"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"22.085889570552148%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA3ElEQVQY002PfU6EMBDFuaIX8iLewnOYGP/BGI3ZhaULSllpoS2l5WfbxMRJXqZvPl7fVJ/NlUt7oW1azueGaZpY1xWtNcuyYIwpOdeWBO8swbvC19Qr9dTP+Bq+qbRecM5hrUWOEiklm/ds21bE+muPUppJTqhZ8XYSPL2emJVi6Ad0EspZDB31xwuVEILbdCNHjJEQAsdxFO7SJ9lxjEdyYgi75/7xnbuHmtl4OCImzeT91Wjq+plqHEf2fS9i/5FF/1zmt0qOrHXcfmaM28pMUsTna3ziIdJ1gl+i9TF5ui1kmQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.mdx)("img",m({parentName:"a"},{className:"gatsby-resp-image-image",alt:"Configure VirtualBox Port forwarding",title:"Configure VirtualBox Port forwarding",src:"/static/8a4090aa35367e1742e2ea6cc64424a0/a6d36/VirtualBox_portforwarding.png",srcSet:["/static/8a4090aa35367e1742e2ea6cc64424a0/222b7/VirtualBox_portforwarding.png 163w","/static/8a4090aa35367e1742e2ea6cc64424a0/ff46a/VirtualBox_portforwarding.png 325w","/static/8a4090aa35367e1742e2ea6cc64424a0/a6d36/VirtualBox_portforwarding.png 650w","/static/8a4090aa35367e1742e2ea6cc64424a0/31493/VirtualBox_portforwarding.png 664w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n  "),"\n    "),"\n    ",Object(o.mdx)("figcaption",m({parentName:"figure"},{className:"gatsby-resp-image-figcaption"}),"Configure VirtualBox Port forwarding"),"\n  ")),Object(o.mdx)("h2",m({},{id:"provision-postgresql-container"}),"Provision PostgreSQL Container"),Object(o.mdx)("p",null,"Before provisioning PostgreSQL container, we need to create a data container with a mounted volume which will be used to store the database that we create. Execute the below command to create a data container."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Create Volume"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:/",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker create -v /article_postgres_docker --name PostgresData alpine"))),Object(o.mdx)("p",null,"Executing the below command with ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"docker run")," will pull the image and start the container with name ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"pgdocker"),". PostgreSQL stores its data in ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"/var/lib/postgresql/data"),", so we are mounting the created data container volume with ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"--volume-from")," flag. Also as seen we are exposing port ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"5432")," (the PostgreSQL default) and running the container in detached (",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"-d"),") mode (",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"background"),"). Password to be used for the database is configured with the environment variable ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"POSTGRES_PASSWORD"),"."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Start Docker Container"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker run -p ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5432"),":5432 --name pgdocker -e ",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"POSTGRES_PASSWORD"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"password -d --volumes-from PostgresData postgres"))),Object(o.mdx)("p",null,"Options passed:"),Object(o.mdx)("ul",null,Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("code",m({parentName:"li"},{className:"language-text"}),"--detach, -d")," - Run container in background and print container ID"),Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("code",m({parentName:"li"},{className:"language-text"}),"--publish, -p")," - Publish a container’s port(s) to the host"),Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("code",m({parentName:"li"},{className:"language-text"}),"--name")," - Assign a name to the container"),Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("code",m({parentName:"li"},{className:"language-text"}),"--volumes-from")," - Mount volumes from the specified container(s)"),Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("code",m({parentName:"li"},{className:"language-text"}),"--env, -e")," - Set environment variables")),Object(o.mdx)("p",null,"Running ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"docker ps -a")," should list all containers. ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"docker ps")," just shows containers running and not shows the volume that is created."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"List all containers"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token function"}),"ps")," -a\n\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES\n1f5ae3781326        postgres            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"docker-entrypoint.s…"'),"   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5")," minutes ago       Up ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5")," minutes        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"0.0"),".0.0:5432-",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5432"),"/tcp   pgdocker\n64773150d120        alpine              ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"/bin/sh"'),"                ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"8")," minutes ago       Created                                      PostgresData"))),Object(o.mdx)("p",null,"Options passed:"),Object(o.mdx)("ul",null,Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("code",m({parentName:"li"},{className:"language-text"}),"--all, -a")," - Show all containers (default shows just running)")),Object(o.mdx)("h2",m({},{id:"create-database"}),"Create database"),Object(o.mdx)("p",null,"Run the below command with ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"docker exec")," to create ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"testdb")," database with which we can play around."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Create database"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token builtin class-name"}),"exec")," pgdocker psql -U postgres -c ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"create database testdb"')))),Object(o.mdx)("h2",m({},{id:"connecting-to-the-database-from-container-shell"}),"Connecting to the database from container shell"),Object(o.mdx)("p",null,"To start interacting with the database, we can use ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"docker exec")," command to launch interactive shell running inside the container. Options ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"-i")," allows us to make the container to wait for interaction from host but actual interaction from the console (terminal) is possible after we “allocate tty driver” with flag ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"-t"),". This is an easy alternative to login to PostgreSQL and start exploring it."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Launch shell"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token builtin class-name"}),"exec")," -it pgdocker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token function"}),"sh")))),Object(o.mdx)("p",null,"Once logged into shell, access ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"psql")," terminal and try out few commands like listing databases, create table, insert data etc.,"),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"psql terminal"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# psql -U postgres"),"\npsql ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"12.2")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"Debian ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"12.2"),"-2.pgdg100+1",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"))"),"\nType ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"help"')," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"for")," help."))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"List Databases"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\l"),"\n                                 List of databases\n   Name    ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  Owner   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," Encoding ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  Collate   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"   Ctype    ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"   Access privileges\n-----------+----------+----------+------------+------------+-----------------------\n postgres  ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"\n template0 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"c/postgres          +\n           ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"CTc/postgres\n template1 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"c/postgres          +\n           ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"CTc/postgres\n testdb      ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Display version"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# select version();"),"\n                                                     version\n------------------------------------------------------------------------------------------------------------------\n PostgreSQL ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"12.2")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"Debian ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"12.2"),"-2.pgdg100+1",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")")," on x86_64-pc-linux-gnu, compiled by gcc ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"Debian ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"8.3"),".0-6",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"8.3"),".0, ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"64"),"-bit\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"1")," row",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")")))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Switch to testdb database"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\c testdb")))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Create Table"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"testdb"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# CREATE TABLE tbl_keyvalue (id int, key varchar(255), value varchar(255));"),"\nCREATE TABLE"))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Insert data"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"testdb"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# INSERT INTO tbl_keyvalue (id,key, value) VALUES (1, 'key1', 'value1');"),"\nINSERT ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"0")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"1")))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"List tables"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"testdb"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\dt"),"\n-- Lists all tables ",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"in")," the current database.\n            List of relations\n Schema ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"     Name     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," Type  ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  Owner\n--------+--------------+-------+----------\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," tbl_keyvalue ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"1")," row",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")")))),Object(o.mdx)("h2",m({},{id:"connecting-to-the-database-from-sql-client"}),"Connecting to the database from SQL Client"),Object(o.mdx)("p",null,"As we are exposing the default TCP port ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"5432")," from provisioned PostgreSQL container, we can connect to it using any standard SQL client. For this article we shall use ",Object(o.mdx)(l,{href:"https://www.heidisql.com/",mdxType:"ExternalLink"},"HeidiSQL"),", which lets us to connect to most of the database systems MariaDB, MySQL, Microsoft SQL or PostgreSQL."),Object(o.mdx)("p",null,"Install ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"HeidiSQL")," and start the application. This should open ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Session manager"),". Configure database connectivity details and open the session."),Object(o.mdx)("p",null,Object(o.mdx)("figure",m({parentName:"p"},{className:"gatsby-resp-image-figure",style:{}}),"\n    ",Object(o.mdx)("span",m({parentName:"figure"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}}),"\n      ",Object(o.mdx)("a",m({parentName:"span"},{className:"gatsby-resp-image-link",href:"/static/a27400bfb394d1558e5761b90b6402ce/f6386/heidi-sql-session-manager.png",style:{display:"block"},target:"_blank",rel:"noopener"}),"\n    ",Object(o.mdx)("span",m({parentName:"a"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"60.122699386503065%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABxUlEQVQoz3VT2W7bQAzU/39RPqEvTdzEbQRLgS9Vq/s+bdlTDhUbahATGFC7yx2Sw5XlfLwiDAx830eSJOj7Hm3bous6NE0jaGXd6LolPs+WYFxVVSjLEpYJInh+gDRNcT6fFdM06eUsLyRJiiI2MMcDdmGMV8+HfzyiFIJqgbquFVaalzCZbMgm7Xq9qmelSZxoooskCIMAzy8v+GPbcDYOjDF3BHLGDvlt1fVMdCNbEkZhJFkbXZdFgcP+gHEcFcMw3ME1W4/jGFb1pbKbH/ph1qUoRYZJ9QlMoBpynwTjOGhigsTU8jGhBCyNBGyb7XmiYSxyUG/t6nJRz0ofEjJrJvoxiJZlGVzHVQlYZf05iPklzHuFyPKQkBWxGgbSojDERoaRCvFFKuJLIFjl6XRS30nsf4Rfh0LS25rVekcP/l8fqTylLM3UU2vGTJKkG0ZOucZ3Rg3DINQ2aEWe67PQdutqRjW33EviSn4AP85hURuWvJwWdWNgLiSFTvl8P69bXu7Uk/yGRgpL4giW/W7Dlsfqui5WqxW22y3Wb2/Y7/f334nEWZajKgv8+jB4+vEbPzeeaLrBu9zf7XZYr9dwHAf/ADxgmNqudY3zAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.mdx)("img",m({parentName:"a"},{className:"gatsby-resp-image-image",alt:"HeidiSQL Session Manager",title:"HeidiSQL Session Manager",src:"/static/a27400bfb394d1558e5761b90b6402ce/a6d36/heidi-sql-session-manager.png",srcSet:["/static/a27400bfb394d1558e5761b90b6402ce/222b7/heidi-sql-session-manager.png 163w","/static/a27400bfb394d1558e5761b90b6402ce/ff46a/heidi-sql-session-manager.png 325w","/static/a27400bfb394d1558e5761b90b6402ce/a6d36/heidi-sql-session-manager.png 650w","/static/a27400bfb394d1558e5761b90b6402ce/f6386/heidi-sql-session-manager.png 686w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n  "),"\n    "),"\n    ",Object(o.mdx)("figcaption",m({parentName:"figure"},{className:"gatsby-resp-image-figcaption"}),"HeidiSQL Session Manager"),"\n  ")),Object(o.mdx)("p",null,"This should open up the application with tables listed under public section in the connected database."),Object(o.mdx)("p",null,Object(o.mdx)("figure",m({parentName:"p"},{className:"gatsby-resp-image-figure",style:{}}),"\n    ",Object(o.mdx)("span",m({parentName:"figure"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"650px"}}),"\n      ",Object(o.mdx)("a",m({parentName:"span"},{className:"gatsby-resp-image-link",href:"/static/f9abf0818cdf42c5e7da41674ebaec62/96e86/heidisql-db-explorer.png",style:{display:"block"},target:"_blank",rel:"noopener"}),"\n    ",Object(o.mdx)("span",m({parentName:"a"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.809815950920246%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABT0lEQVQoz4WR23KkIBRF/f//yUdMVR4nL7G7TXdr3xQVUBAvrDmSvORpKHZxKdisfcjK64lLeaes7lyuZ6r7jdY4hmHAGoNzjjBZxnHE+gltRpk7vPcs68qyLEnzPCdl+fHE8VzyqJUYF9zqJ8/WUt5KPg4niuKL6utInovKkvxY8FmUnM4VZwF51Q1KKay1CSLTveN2rfBC8rtFVG8wRswvFfWroes1TdvxUB1d21M3Yibr3XAnnqaJTKmB/FDgfGCNsGyRIBPrApMc2taNbdv4X4sxJmV/H473w4PPl6fQcDWRP7fI20fPYAd88LRaYbROddy1R9tpvNR0EqU6h5Aos1WIBIx9lC76HsOy0kh95iXwrDuaxgjpKlE7+r5HS/zO1LStQmuTUiTD33Hij+QB+TktVFHch+DQ3qb9nWyV393pxrljGC3TMhF/7v0D/qIZ6jdZWXcAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.mdx)("img",m({parentName:"a"},{className:"gatsby-resp-image-image",alt:"HeidiSQL database explorer",title:"HeidiSQL database explorer",src:"/static/f9abf0818cdf42c5e7da41674ebaec62/a6d36/heidisql-db-explorer.png",srcSet:["/static/f9abf0818cdf42c5e7da41674ebaec62/222b7/heidisql-db-explorer.png 163w","/static/f9abf0818cdf42c5e7da41674ebaec62/ff46a/heidisql-db-explorer.png 325w","/static/f9abf0818cdf42c5e7da41674ebaec62/a6d36/heidisql-db-explorer.png 650w","/static/f9abf0818cdf42c5e7da41674ebaec62/e548f/heidisql-db-explorer.png 975w","/static/f9abf0818cdf42c5e7da41674ebaec62/96e86/heidisql-db-explorer.png 1089w"],sizes:"(max-width: 650px) 100vw, 650px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n  "),"\n    "),"\n    ",Object(o.mdx)("figcaption",m({parentName:"figure"},{className:"gatsby-resp-image-figcaption"}),"HeidiSQL database explorer"),"\n  ")),Object(o.mdx)("h2",m({},{id:"stopping-and-starting-container"}),"Stopping and Starting container"),Object(o.mdx)("p",null,"As we mounted data container volume to persist PostgreSQL data, we will not loose data even after stopping and starting the database."),Object(o.mdx)("p",null,"Execute the below commands to stop the container and start the container"),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"List running containers"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token function"}),"ps")," -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES\n9e4dab542448        postgres            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"docker-entrypoint.s…"'),"   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"9")," hours ago         Up ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"9")," hours          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"0.0"),".0.0:5432-",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">"),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5432"),"/tcp   pgdocker\nd29dc7a359c8        alpine              ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"/bin/sh"'),"                ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"9")," hours ago         Created                                      PostgresData"))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Stop Container"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker stop 9e4dab542448"))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Start Container"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker start 9e4dab542448"))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Launch psql terminal"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token builtin class-name"}),"exec")," -it pgdocker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token function"}),"sh"),"\n\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# psql -U postgres testdb"),"\n\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"testdb"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\dt"),"\n            List of relations\n Schema ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"     Name     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," Type  ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  Owner\n--------+--------------+-------+----------\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," tbl_keyvalue ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"1")," row",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")")))),Object(o.mdx)("h2",m({},{id:"discarding-the-container"}),"Discarding the container"),Object(o.mdx)("p",null,"Execute the below commands to stop and remove database container and its associated volume."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Stop container"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker stop pgdocker"))),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Remove Containers"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token function"}),"rm")," pgdocker PostgresData"))),Object(o.mdx)("h2",m({},{id:"import-schema--data-when-provisioning-new-database"}),"Import Schema & Data when provisioning new database"),Object(o.mdx)("p",null,"Generally whenever we are working on database for testing, we need to provision it with some base schema and test data. To try this out, we shall use PostgreSQL sample database that is available from one of the Github projects - ",Object(o.mdx)(l,{href:"https://github.com/devrimgunduz/pagila",mdxType:"ExternalLink"},"Pagila")," which is a port of the ",Object(o.mdx)(l,{href:"https://dev.mysql.com/doc/sakila/en/sakila-introduction.html",mdxType:"ExternalLink"},"Sakila")," example database available for MySQL."),Object(o.mdx)("p",null,"Clone github ",Object(o.mdx)(l,{href:"https://github.com/2much2learn/article-mar05-setting-up-postgressql-with-docker-on-windows-10",mdxType:"ExternalLink"},"repository")," to get the schema and data files to tryout importing them to the provisioned PostgreSQL container."),Object(o.mdx)("p",null,"To bootstrap the database with cloned sql files, we need to create shell script which can be executed upon startup. Create ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"bootstrap.sh")," file as below which will create database with the provided ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"DB_NAME")," environment variable and import the schema and initial data using ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"psql"),"."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"bootstrap.sh"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"docker"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-docker"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-docker"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"#!/bin/bash"),"\nset ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"e\n\nPOSTGRES=",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"psql --username ${POSTGRES_USER}"'),"\n\necho ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"Creating database: ${DB_NAME}"'),"\n\n$POSTGRES <<EOSQL\nCREATE DATABASE $",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"DB_NAME",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," OWNER $",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"POSTGRES_USER",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}"),";\nEOSQL\n\necho ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"Creating schema..."'),"\npsql ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"d $",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"DB_NAME",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"a ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"U$",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"POSTGRES_USER",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"f /pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"schema.sql\n\necho ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"Populating database initial data"'),"\npsql ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"d $",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"DB_NAME",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"a  ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"U$",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"POSTGRES_USER",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"f /pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"insert",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"data.sql\n\necho ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"Populating database..."'),"\npsql ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"d $",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"DB_NAME",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"a  ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"U$",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"{"),"POSTGRES_USER",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"f /pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"data.sql"))),Object(o.mdx)("p",null,"Create ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"Dockefile")," as below to build the custom image. As observed, we are copying individual sql files to the image."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Dockerfile"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"docker"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-docker"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-docker"}),Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"FROM")," postgres",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),":"),"11\n\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# Custom initialization scripts"),"\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"COPY")," bootstrap.sh /docker",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"entrypoint",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"initdb.d/bootstrap.sh\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"COPY")," pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"schema.sql /pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"schema.sql\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"COPY")," pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"insert",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"data.sql /pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"insert",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"data.sql\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"COPY")," pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"data.sql /pagila",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"data.sql\n\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"RUN")," chmod +x /docker",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"entrypoint",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"initdb.d/bootstrap.sh && sed ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"i ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"e ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),"'s/\\r$//'")," /docker",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"entrypoint",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"-"),"initdb.d/bootstrap.sh"))),Object(o.mdx)("p",null,Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"/bin/bash^M: bad interpreter: No such file or directory")," issue will be thrown when bootstrap.sh file is created on windows and executed in docker container. We need to include ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"sed")," command in ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"RUN")," section in ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"dockerfile")," to replace the ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"line ending characters")," before executing ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"bootstrap.sh")," file upon startup."),Object(o.mdx)("p",null,"Execute the below command to create custom docker image with name ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"postgre-pagila-db"),"."),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker build -t postgre-pagila-db ",Object(o.mdx)("span",m({parentName:"code"},{className:"token builtin class-name"}),".")))),Object(o.mdx)("p",null,"Before starting the container, lets create a data container with a mounted volume which will be used to store the database that we create. Execute the below command to create data container."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Create Volume"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker create -v /article_postgres_docker --name PostgresData alpine"))),Object(o.mdx)("p",null,"Executing the below command with ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"docker run")," will use the custom image and start the container with name ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"pgdocker-pagila-db"),". PostgreSQL stores its data in ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"/var/lib/postgresql/data"),", so we are mounting the created data container volume with ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"--volume-from")," flag. Also as seen we are exposing port ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"5432")," (the PostgreSQL default) and running the container in detached (",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"-d"),") mode (",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"background"),"). Database name and Password to be used for the database is configured with ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"DB_NAME")," and ",Object(o.mdx)("code",m({parentName:"p"},{className:"language-text"}),"POSTGRES_PASSWORD")," environment variable."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Start Docker Container"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker run -p ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5432"),":5432 --name pgdocker -e ",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"DB_NAME"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"pagila -e ",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"POSTGRES_PASSWORD"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"password -d --volumes-from PostgresData postgre-pagila-db"))),Object(o.mdx)("p",null,"Launch shell and start exploring the database created with schema and data using below commands."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Launch shell and explore Pagila database"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"-- Launch shell\n~:",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"\\"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),">")," docker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token builtin class-name"}),"exec")," -it pgdocker ",Object(o.mdx)("span",m({parentName:"code"},{className:"token function"}),"sh"),"\n\n-- connect to psql terminal\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# psql -U postgres"),"\npsql ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"12.2")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),"Debian ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"12.2"),"-2.pgdg100+1",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"))"),"\nType ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"help"')," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"for")," help.\n\n-- List databases\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\l"),"\n                                 List of databases\n   Name    ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  Owner   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," Encoding ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  Collate   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"   Ctype    ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"   Access privileges\n-----------+----------+----------+------------+------------+-----------------------\n pagila    ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"\n postgres  ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"\n template0 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"c/postgres          +\n           ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"CTc/postgres\n template1 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," UTF8     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," en_US.utf8 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"c/postgres          +\n           ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),"CTc/postgres\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"4")," rows",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")"),"\n\n-- Switch to pagila database\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"postgres"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\c pagila"),"\nYou are now connected to database ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"pagila"')," as user ",Object(o.mdx)("span",m({parentName:"code"},{className:"token string"}),'"postgres"'),Object(o.mdx)("span",m({parentName:"code"},{className:"token builtin class-name"}),"."),"\n\n-- List tables\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"pagila"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\dt"),"\n              List of relations\n Schema ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"       Name       ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," Type  ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  Owner\n--------+------------------+-------+----------\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," actor            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," address          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," category         ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," city             ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," country          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," customer         ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," film             ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," film_actor       ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," film_category    ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," inventory        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," language         ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," payment          ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," payment_p2017_01 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," payment_p2017_02 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," payment_p2017_03 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," payment_p2017_04 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," payment_p2017_05 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," payment_p2017_06 ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," rental           ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," staff            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n public ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," store            ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," table ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," postgres\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"21")," rows",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")"),"\n\n-- Clear ",Object(o.mdx)("span",m({parentName:"code"},{className:"token function"}),"screen"),"\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"pagila"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# \\! clear")))),Object(o.mdx)("h2",m({},{id:"perform-database-operations"}),"Perform database operations"),Object(o.mdx)("p",null,"Let’s perform some database operations on the provisioned database with schema and data."),Object(o.mdx)("div",m({},{className:"gatsby-code-title gatsby-remark-code-title"}),"Perform database operations"),Object(o.mdx)("div",m({},{className:"gatsby-highlight","data-language":"bash"}),Object(o.mdx)("pre",m({parentName:"div"},{className:"language-bash"}),Object(o.mdx)("code",m({parentName:"pre"},{className:"language-bash"}),"\n-- list ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5")," actors\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"pagila"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# select * from actor limit 5;"),"\n actor_id ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," first_name ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"  last_name   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"      last_update\n----------+------------+--------------+------------------------\n        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"1")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," PENELOPE   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," GUINESS      ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"2017"),"-02-15 09:34:33+00\n        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"2")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," NICK       ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," WAHLBERG     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"2017"),"-02-15 09:34:33+00\n        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"3")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ED         ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," CHASE        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"2017"),"-02-15 09:34:33+00\n        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"4")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," JENNIFER   ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," DAVIS        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"2017"),"-02-15 09:34:33+00\n        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," JOHNNY     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," LOLLOBRIGIDA ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"2017"),"-02-15 09:34:33+00\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"5")," rows",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")"),"\n\n-- update an actor first_name\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"pagila"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# update actor set first_name='EDWARD' where first_name = 'ED';"),"\nUPDATE ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"3"),"\n\n-- Verify ",Object(o.mdx)("span",m({parentName:"code"},{className:"token keyword"}),"if")," record is updated\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token assign-left variable"}),"pagila"),Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"="),Object(o.mdx)("span",m({parentName:"code"},{className:"token comment"}),"# select * from actor where actor_id=3;"),"\n actor_id ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," first_name ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," last_name ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|"),"          last_update\n----------+------------+-----------+-------------------------------\n        ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"3")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," EDWARD     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," CHASE     ",Object(o.mdx)("span",m({parentName:"code"},{className:"token operator"}),"|")," ",Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"2020"),"-03-09 01:42:44.975053+00\n",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),"("),Object(o.mdx)("span",m({parentName:"code"},{className:"token number"}),"1")," row",Object(o.mdx)("span",m({parentName:"code"},{className:"token punctuation"}),")")))),Object(o.mdx)("h2",m({},{id:"conclusion"}),"Conclusion"),Object(o.mdx)("p",null,"This article is more of a little hack on making our application development faster by quickly setting up database of our choice without worrying on annoying steps on installing and configuring the database. As PostgreSQL is one of the more common used databases, having it provisioned with Docker and connecting to our local application is quite simple and easy."),Object(o.mdx)(p,{href:"https://github.com/2much2learn/article-mar05-setting-up-postgressql-with-docker-on-windows-10",mdxType:"GithubRepo"},"setting-up-postgressql-with-docker-on-windows-10"))}b.isMDXComponent=!0},zLVn:function(e,a,t){"use strict";function n(e,a){if(null==e)return{};var t,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}t.d(a,"a",(function(){return n}))}}]);
//# sourceMappingURL=component---src-pages-content-articles-setup-setting-up-postgressql-with-docker-on-windows-10-index-md-ad6b634237d4628a1528.js.map